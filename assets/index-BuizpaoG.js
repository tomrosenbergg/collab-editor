(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();var Ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function BE(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var pm={exports:{}},No={};var O1;function XE(){if(O1)return No;O1=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,s,l){var o=null;if(l!==void 0&&(o=""+l),s.key!==void 0&&(o=""+s.key),"key"in s){l={};for(var c in s)c!=="key"&&(l[c]=s[c])}else l=s;return s=l.ref,{$$typeof:i,type:n,key:o,ref:s!==void 0?s:null,props:l}}return No.Fragment=e,No.jsx=t,No.jsxs=t,No}var y1;function qE(){return y1||(y1=1,pm.exports=XE()),pm.exports}var Js=qE(),gm={exports:{}},be={};var b1;function YE(){if(b1)return be;b1=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),y=Symbol.iterator;function b(Q){return Q===null||typeof Q!="object"?null:(Q=y&&Q[y]||Q["@@iterator"],typeof Q=="function"?Q:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function _(Q,N,G){this.props=Q,this.context=N,this.refs=x,this.updater=G||v}_.prototype.isReactComponent={},_.prototype.setState=function(Q,N){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,N,"setState")},_.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function E(){}E.prototype=_.prototype;function C(Q,N,G){this.props=Q,this.context=N,this.refs=x,this.updater=G||v}var j=C.prototype=new E;j.constructor=C,w(j,_.prototype),j.isPureReactComponent=!0;var B=Array.isArray;function X(){}var z={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function re(Q,N,G){var J=G.ref;return{$$typeof:i,type:Q,key:N,ref:J!==void 0?J:null,props:G}}function $e(Q,N){return re(Q.type,N,Q.props)}function he(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===i}function te(Q){var N={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(G){return N[G]})}var oe=/\/+/g;function fe(Q,N){return typeof Q=="object"&&Q!==null&&Q.key!=null?te(""+Q.key):N.toString(36)}function ye(Q){switch(Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason;default:switch(typeof Q.status=="string"?Q.then(X,X):(Q.status="pending",Q.then(function(N){Q.status==="pending"&&(Q.status="fulfilled",Q.value=N)},function(N){Q.status==="pending"&&(Q.status="rejected",Q.reason=N)})),Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason}}throw Q}function Z(Q,N,G,J,pe){var ve=typeof Q;(ve==="undefined"||ve==="boolean")&&(Q=null);var De=!1;if(Q===null)De=!0;else switch(ve){case"bigint":case"string":case"number":De=!0;break;case"object":switch(Q.$$typeof){case i:case e:De=!0;break;case p:return De=Q._init,Z(De(Q._payload),N,G,J,pe)}}if(De)return pe=pe(Q),De=J===""?"."+fe(Q,0):J,B(pe)?(G="",De!=null&&(G=De.replace(oe,"$&/")+"/"),Z(pe,N,G,"",function(Ia){return Ia})):pe!=null&&(he(pe)&&(pe=$e(pe,G+(pe.key==null||Q&&Q.key===pe.key?"":(""+pe.key).replace(oe,"$&/")+"/")+De)),N.push(pe)),1;De=0;var Kt=J===""?".":J+":";if(B(Q))for(var ct=0;ct<Q.length;ct++)J=Q[ct],ve=Kt+fe(J,ct),De+=Z(J,N,G,ve,pe);else if(ct=b(Q),typeof ct=="function")for(Q=ct.call(Q),ct=0;!(J=Q.next()).done;)J=J.value,ve=Kt+fe(J,ct++),De+=Z(J,N,G,ve,pe);else if(ve==="object"){if(typeof Q.then=="function")return Z(ye(Q),N,G,J,pe);throw N=String(Q),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.")}return De}function I(Q,N,G){if(Q==null)return Q;var J=[],pe=0;return Z(Q,J,"","",function(ve){return N.call(G,ve,pe++)}),J}function le(Q){if(Q._status===-1){var N=Q._result;N=N(),N.then(function(G){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=G)},function(G){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=G)}),Q._status===-1&&(Q._status=0,Q._result=N)}if(Q._status===1)return Q._result.default;throw Q._result}var me=typeof reportError=="function"?reportError:function(Q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var N=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Q=="object"&&Q!==null&&typeof Q.message=="string"?String(Q.message):String(Q),error:Q});if(!window.dispatchEvent(N))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Q);return}console.error(Q)},_e={map:I,forEach:function(Q,N,G){I(Q,function(){N.apply(this,arguments)},G)},count:function(Q){var N=0;return I(Q,function(){N++}),N},toArray:function(Q){return I(Q,function(N){return N})||[]},only:function(Q){if(!he(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}};return be.Activity=m,be.Children=_e,be.Component=_,be.Fragment=t,be.Profiler=s,be.PureComponent=C,be.StrictMode=n,be.Suspense=h,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,be.__COMPILER_RUNTIME={__proto__:null,c:function(Q){return z.H.useMemoCache(Q)}},be.cache=function(Q){return function(){return Q.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(Q,N,G){if(Q==null)throw Error("The argument must be a React element, but you passed "+Q+".");var J=w({},Q.props),pe=Q.key;if(N!=null)for(ve in N.key!==void 0&&(pe=""+N.key),N)!ee.call(N,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&N.ref===void 0||(J[ve]=N[ve]);var ve=arguments.length-2;if(ve===1)J.children=G;else if(1<ve){for(var De=Array(ve),Kt=0;Kt<ve;Kt++)De[Kt]=arguments[Kt+2];J.children=De}return re(Q.type,pe,J)},be.createContext=function(Q){return Q={$$typeof:o,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null},Q.Provider=Q,Q.Consumer={$$typeof:l,_context:Q},Q},be.createElement=function(Q,N,G){var J,pe={},ve=null;if(N!=null)for(J in N.key!==void 0&&(ve=""+N.key),N)ee.call(N,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(pe[J]=N[J]);var De=arguments.length-2;if(De===1)pe.children=G;else if(1<De){for(var Kt=Array(De),ct=0;ct<De;ct++)Kt[ct]=arguments[ct+2];pe.children=Kt}if(Q&&Q.defaultProps)for(J in De=Q.defaultProps,De)pe[J]===void 0&&(pe[J]=De[J]);return re(Q,ve,pe)},be.createRef=function(){return{current:null}},be.forwardRef=function(Q){return{$$typeof:c,render:Q}},be.isValidElement=he,be.lazy=function(Q){return{$$typeof:p,_payload:{_status:-1,_result:Q},_init:le}},be.memo=function(Q,N){return{$$typeof:d,type:Q,compare:N===void 0?null:N}},be.startTransition=function(Q){var N=z.T,G={};z.T=G;try{var J=Q(),pe=z.S;pe!==null&&pe(G,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(X,me)}catch(ve){me(ve)}finally{N!==null&&G.types!==null&&(N.types=G.types),z.T=N}},be.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},be.use=function(Q){return z.H.use(Q)},be.useActionState=function(Q,N,G){return z.H.useActionState(Q,N,G)},be.useCallback=function(Q,N){return z.H.useCallback(Q,N)},be.useContext=function(Q){return z.H.useContext(Q)},be.useDebugValue=function(){},be.useDeferredValue=function(Q,N){return z.H.useDeferredValue(Q,N)},be.useEffect=function(Q,N){return z.H.useEffect(Q,N)},be.useEffectEvent=function(Q){return z.H.useEffectEvent(Q)},be.useId=function(){return z.H.useId()},be.useImperativeHandle=function(Q,N,G){return z.H.useImperativeHandle(Q,N,G)},be.useInsertionEffect=function(Q,N){return z.H.useInsertionEffect(Q,N)},be.useLayoutEffect=function(Q,N){return z.H.useLayoutEffect(Q,N)},be.useMemo=function(Q,N){return z.H.useMemo(Q,N)},be.useOptimistic=function(Q,N){return z.H.useOptimistic(Q,N)},be.useReducer=function(Q,N,G){return z.H.useReducer(Q,N,G)},be.useRef=function(Q){return z.H.useRef(Q)},be.useState=function(Q){return z.H.useState(Q)},be.useSyncExternalStore=function(Q,N,G){return z.H.useSyncExternalStore(Q,N,G)},be.useTransition=function(){return z.H.useTransition()},be.version="19.2.4",be}var v1;function K0(){return v1||(v1=1,gm.exports=YE()),gm.exports}var hf=K0(),mm={exports:{}},Bo={},Om={exports:{}},ym={};var S1;function VE(){return S1||(S1=1,(function(i){function e(Z,I){var le=Z.length;Z.push(I);e:for(;0<le;){var me=le-1>>>1,_e=Z[me];if(0<s(_e,I))Z[me]=I,Z[le]=_e,le=me;else break e}}function t(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var I=Z[0],le=Z.pop();if(le!==I){Z[0]=le;e:for(var me=0,_e=Z.length,Q=_e>>>1;me<Q;){var N=2*(me+1)-1,G=Z[N],J=N+1,pe=Z[J];if(0>s(G,le))J<_e&&0>s(pe,G)?(Z[me]=pe,Z[J]=le,me=J):(Z[me]=G,Z[N]=le,me=N);else if(J<_e&&0>s(pe,le))Z[me]=pe,Z[J]=le,me=J;else break e}}return I}function s(Z,I){var le=Z.sortIndex-I.sortIndex;return le!==0?le:Z.id-I.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var o=Date,c=o.now();i.unstable_now=function(){return o.now()-c}}var h=[],d=[],p=1,m=null,y=3,b=!1,v=!1,w=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function j(Z){for(var I=t(d);I!==null;){if(I.callback===null)n(d);else if(I.startTime<=Z)n(d),I.sortIndex=I.expirationTime,e(h,I);else break;I=t(d)}}function B(Z){if(w=!1,j(Z),!v)if(t(h)!==null)v=!0,X||(X=!0,te());else{var I=t(d);I!==null&&ye(B,I.startTime-Z)}}var X=!1,z=-1,ee=5,re=-1;function $e(){return x?!0:!(i.unstable_now()-re<ee)}function he(){if(x=!1,X){var Z=i.unstable_now();re=Z;var I=!0;try{e:{v=!1,w&&(w=!1,E(z),z=-1),b=!0;var le=y;try{t:{for(j(Z),m=t(h);m!==null&&!(m.expirationTime>Z&&$e());){var me=m.callback;if(typeof me=="function"){m.callback=null,y=m.priorityLevel;var _e=me(m.expirationTime<=Z);if(Z=i.unstable_now(),typeof _e=="function"){m.callback=_e,j(Z),I=!0;break t}m===t(h)&&n(h),j(Z)}else n(h);m=t(h)}if(m!==null)I=!0;else{var Q=t(d);Q!==null&&ye(B,Q.startTime-Z),I=!1}}break e}finally{m=null,y=le,b=!1}I=void 0}}finally{I?te():X=!1}}}var te;if(typeof C=="function")te=function(){C(he)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,fe=oe.port2;oe.port1.onmessage=he,te=function(){fe.postMessage(null)}}else te=function(){_(he,0)};function ye(Z,I){z=_(function(){Z(i.unstable_now())},I)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Z){Z.callback=null},i.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<Z?Math.floor(1e3/Z):5},i.unstable_getCurrentPriorityLevel=function(){return y},i.unstable_next=function(Z){switch(y){case 1:case 2:case 3:var I=3;break;default:I=y}var le=y;y=I;try{return Z()}finally{y=le}},i.unstable_requestPaint=function(){x=!0},i.unstable_runWithPriority=function(Z,I){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var le=y;y=Z;try{return I()}finally{y=le}},i.unstable_scheduleCallback=function(Z,I,le){var me=i.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?me+le:me):le=me,Z){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=le+_e,Z={id:p++,callback:I,priorityLevel:Z,startTime:le,expirationTime:_e,sortIndex:-1},le>me?(Z.sortIndex=le,e(d,Z),t(h)===null&&Z===t(d)&&(w?(E(z),z=-1):w=!0,ye(B,le-me))):(Z.sortIndex=_e,e(h,Z),v||b||(v=!0,X||(X=!0,te()))),Z},i.unstable_shouldYield=$e,i.unstable_wrapCallback=function(Z){var I=y;return function(){var le=y;y=I;try{return Z.apply(this,arguments)}finally{y=le}}}})(ym)),ym}var w1;function IE(){return w1||(w1=1,Om.exports=VE()),Om.exports}var bm={exports:{}},It={};var k1;function GE(){if(k1)return It;k1=1;var i=K0();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(h,d,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:h,containerInfo:d,implementation:p}}var o=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return It.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,It.createPortal=function(h,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return l(h,d,null,p)},It.flushSync=function(h){var d=o.T,p=n.p;try{if(o.T=null,n.p=2,h)return h()}finally{o.T=d,n.p=p,n.d.f()}},It.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(h,d))},It.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},It.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var p=d.as,m=c(p,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?n.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:b}):p==="script"&&n.d.X(h,{crossOrigin:m,integrity:y,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},It.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);n.d.M(h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(h)},It.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,m=c(p,d.crossOrigin);n.d.L(h,p,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},It.preloadModule=function(h,d){if(typeof h=="string")if(d){var p=c(d.as,d.crossOrigin);n.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(h)},It.requestFormReset=function(h){n.d.r(h)},It.unstable_batchedUpdates=function(h,d){return h(d)},It.useFormState=function(h,d,p){return o.H.useFormState(h,d,p)},It.useFormStatus=function(){return o.H.useHostTransitionStatus()},It.version="19.2.4",It}var x1;function WE(){if(x1)return bm.exports;x1=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),bm.exports=GE(),bm.exports}var _1;function HE(){if(_1)return Bo;_1=1;var i=IE(),e=K0(),t=WE();function n(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var a=r,u=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(u=a.return),r=a.return;while(r)}return a.tag===3?u:null}function o(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function c(r){if(r.tag===31){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function h(r){if(l(r)!==r)throw Error(n(188))}function d(r){var a=r.alternate;if(!a){if(a=l(r),a===null)throw Error(n(188));return a!==r?null:r}for(var u=r,f=a;;){var g=u.return;if(g===null)break;var O=g.alternate;if(O===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===O.child){for(O=g.child;O;){if(O===u)return h(g),r;if(O===f)return h(g),a;O=O.sibling}throw Error(n(188))}if(u.return!==f.return)u=g,f=O;else{for(var S=!1,k=g.child;k;){if(k===u){S=!0,u=g,f=O;break}if(k===f){S=!0,f=g,u=O;break}k=k.sibling}if(!S){for(k=O.child;k;){if(k===u){S=!0,u=O,f=g;break}if(k===f){S=!0,f=O,u=g;break}k=k.sibling}if(!S)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?r:a}function p(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=p(r),a!==null)return a;r=r.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),C=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),re=Symbol.for("react.activity"),$e=Symbol.for("react.memo_cache_sentinel"),he=Symbol.iterator;function te(r){return r===null||typeof r!="object"?null:(r=he&&r[he]||r["@@iterator"],typeof r=="function"?r:null)}var oe=Symbol.for("react.client.reference");function fe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===oe?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case w:return"Fragment";case _:return"Profiler";case x:return"StrictMode";case B:return"Suspense";case X:return"SuspenseList";case re:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case v:return"Portal";case C:return r.displayName||"Context";case E:return(r._context.displayName||"Context")+".Consumer";case j:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case z:return a=r.displayName||null,a!==null?a:fe(r.type)||"Memo";case ee:a=r._payload,r=r._init;try{return fe(r(a))}catch{}}return null}var ye=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},me=[],_e=-1;function Q(r){return{current:r}}function N(r){0>_e||(r.current=me[_e],me[_e]=null,_e--)}function G(r,a){_e++,me[_e]=r.current,r.current=a}var J=Q(null),pe=Q(null),ve=Q(null),De=Q(null);function Kt(r,a){switch(G(ve,a),G(pe,r),G(J,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?Uw(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=Uw(a),r=Nw(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}N(J),G(J,r)}function ct(){N(J),N(pe),N(ve)}function Ia(r){r.memoizedState!==null&&G(De,r);var a=J.current,u=Nw(a,r.type);a!==u&&(G(pe,r),G(J,u))}function hu(r){pe.current===r&&(N(J),N(pe)),De.current===r&&(N(De),Lo._currentValue=le)}var Hd,mb;function hr(r){if(Hd===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);Hd=a&&a[1]||"",mb=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hd+r+mb}var Kd=!1;function Jd(r,a){if(!r||Kd)return"";Kd=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(L){var P=L}Reflect.construct(r,[],V)}else{try{V.call()}catch(L){P=L}r.call(V.prototype)}}else{try{throw Error()}catch(L){P=L}(V=r())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(L){if(L&&P&&typeof L.stack=="string")return[L.stack,P.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=f.DetermineComponentFrameRoot(),S=O[0],k=O[1];if(S&&k){var T=S.split(`
`),M=k.split(`
`);for(g=f=0;f<T.length&&!T[f].includes("DetermineComponentFrameRoot");)f++;for(;g<M.length&&!M[g].includes("DetermineComponentFrameRoot");)g++;if(f===T.length||g===M.length)for(f=T.length-1,g=M.length-1;1<=f&&0<=g&&T[f]!==M[g];)g--;for(;1<=f&&0<=g;f--,g--)if(T[f]!==M[g]){if(f!==1||g!==1)do if(f--,g--,0>g||T[f]!==M[g]){var U=`
`+T[f].replace(" at new "," at ");return r.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",r.displayName)),U}while(1<=f&&0<=g);break}}}finally{Kd=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?hr(u):""}function b$(r,a){switch(r.tag){case 26:case 27:case 5:return hr(r.type);case 16:return hr("Lazy");case 13:return r.child!==a&&a!==null?hr("Suspense Fallback"):hr("Suspense");case 19:return hr("SuspenseList");case 0:case 15:return Jd(r.type,!1);case 11:return Jd(r.type.render,!1);case 1:return Jd(r.type,!0);case 31:return hr("Activity");default:return""}}function Ob(r){try{var a="",u=null;do a+=b$(r,u),u=r,r=r.return;while(r);return a}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Fd=Object.prototype.hasOwnProperty,ep=i.unstable_scheduleCallback,tp=i.unstable_cancelCallback,v$=i.unstable_shouldYield,S$=i.unstable_requestPaint,bi=i.unstable_now,w$=i.unstable_getCurrentPriorityLevel,yb=i.unstable_ImmediatePriority,bb=i.unstable_UserBlockingPriority,fu=i.unstable_NormalPriority,k$=i.unstable_LowPriority,vb=i.unstable_IdlePriority,x$=i.log,_$=i.unstable_setDisableYieldValue,Ga=null,vi=null;function bs(r){if(typeof x$=="function"&&_$(r),vi&&typeof vi.setStrictMode=="function")try{vi.setStrictMode(Ga,r)}catch{}}var Si=Math.clz32?Math.clz32:A$,T$=Math.log,Q$=Math.LN2;function A$(r){return r>>>=0,r===0?32:31-(T$(r)/Q$|0)|0}var du=256,pu=262144,gu=4194304;function fr(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function mu(r,a,u){var f=r.pendingLanes;if(f===0)return 0;var g=0,O=r.suspendedLanes,S=r.pingedLanes;r=r.warmLanes;var k=f&134217727;return k!==0?(f=k&~O,f!==0?g=fr(f):(S&=k,S!==0?g=fr(S):u||(u=k&~r,u!==0&&(g=fr(u))))):(k=f&~O,k!==0?g=fr(k):S!==0?g=fr(S):u||(u=f&~r,u!==0&&(g=fr(u)))),g===0?0:a!==0&&a!==g&&(a&O)===0&&(O=g&-g,u=a&-a,O>=u||O===32&&(u&4194048)!==0)?a:g}function Wa(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function C$(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sb(){var r=gu;return gu<<=1,(gu&62914560)===0&&(gu=4194304),r}function ip(r){for(var a=[],u=0;31>u;u++)a.push(r);return a}function Ha(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function $$(r,a,u,f,g,O){var S=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var k=r.entanglements,T=r.expirationTimes,M=r.hiddenUpdates;for(u=S&~u;0<u;){var U=31-Si(u),V=1<<U;k[U]=0,T[U]=-1;var P=M[U];if(P!==null)for(M[U]=null,U=0;U<P.length;U++){var L=P[U];L!==null&&(L.lane&=-536870913)}u&=~V}f!==0&&wb(r,f,0),O!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=O&~(S&~a))}function wb(r,a,u){r.pendingLanes|=a,r.suspendedLanes&=~a;var f=31-Si(a);r.entangledLanes|=a,r.entanglements[f]=r.entanglements[f]|1073741824|u&261930}function kb(r,a){var u=r.entangledLanes|=a;for(r=r.entanglements;u;){var f=31-Si(u),g=1<<f;g&a|r[f]&a&&(r[f]|=a),u&=~g}}function xb(r,a){var u=a&-a;return u=(u&42)!==0?1:np(u),(u&(r.suspendedLanes|a))!==0?0:u}function np(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function sp(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function _b(){var r=I.p;return r!==0?r:(r=window.event,r===void 0?32:u1(r.type))}function Tb(r,a){var u=I.p;try{return I.p=r,a()}finally{I.p=u}}var vs=Math.random().toString(36).slice(2),Zt="__reactFiber$"+vs,ii="__reactProps$"+vs,ll="__reactContainer$"+vs,rp="__reactEvents$"+vs,E$="__reactListeners$"+vs,R$="__reactHandles$"+vs,Qb="__reactResources$"+vs,Ka="__reactMarker$"+vs;function lp(r){delete r[Zt],delete r[ii],delete r[rp],delete r[E$],delete r[R$]}function al(r){var a=r[Zt];if(a)return a;for(var u=r.parentNode;u;){if(a=u[ll]||u[Zt]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(r=Gw(r);r!==null;){if(u=r[Zt])return u;r=Gw(r)}return a}r=u,u=r.parentNode}return null}function ol(r){if(r=r[Zt]||r[ll]){var a=r.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return r}return null}function Ja(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(n(33))}function cl(r){var a=r[Qb];return a||(a=r[Qb]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ct(r){r[Ka]=!0}var Ab=new Set,Cb={};function dr(r,a){ul(r,a),ul(r+"Capture",a)}function ul(r,a){for(Cb[r]=a,r=0;r<a.length;r++)Ab.add(a[r])}var M$=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$b={},Eb={};function P$(r){return Fd.call(Eb,r)?!0:Fd.call($b,r)?!1:M$.test(r)?Eb[r]=!0:($b[r]=!0,!1)}function Ou(r,a,u){if(P$(a))if(u===null)r.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+u)}}function yu(r,a,u){if(u===null)r.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+u)}}function qn(r,a,u,f){if(f===null)r.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(a,u,""+f)}}function Ui(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Rb(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function D$(r,a,u){var f=Object.getOwnPropertyDescriptor(r.constructor.prototype,a);if(!r.hasOwnProperty(a)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var g=f.get,O=f.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return g.call(this)},set:function(S){u=""+S,O.call(this,S)}}),Object.defineProperty(r,a,{enumerable:f.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function ap(r){if(!r._valueTracker){var a=Rb(r)?"checked":"value";r._valueTracker=D$(r,a,""+r[a])}}function Mb(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return r&&(f=Rb(r)?r.checked?"true":"false":r.value),r=f,r!==u?(a.setValue(r),!0):!1}function bu(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Z$=/[\n"\\]/g;function Ni(r){return r.replace(Z$,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function op(r,a,u,f,g,O,S,k){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),a!=null?S==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Ui(a)):r.value!==""+Ui(a)&&(r.value=""+Ui(a)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),a!=null?cp(r,S,Ui(a)):u!=null?cp(r,S,Ui(u)):f!=null&&r.removeAttribute("value"),g==null&&O!=null&&(r.defaultChecked=!!O),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?r.name=""+Ui(k):r.removeAttribute("name")}function Pb(r,a,u,f,g,O,S,k){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(r.type=O),a!=null||u!=null){if(!(O!=="submit"&&O!=="reset"||a!=null)){ap(r);return}u=u!=null?""+Ui(u):"",a=a!=null?""+Ui(a):u,k||a===r.value||(r.value=a),r.defaultValue=a}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=k?r.checked:!!f,r.defaultChecked=!!f,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S),ap(r)}function cp(r,a,u){a==="number"&&bu(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function hl(r,a,u,f){if(r=r.options,a){a={};for(var g=0;g<u.length;g++)a["$"+u[g]]=!0;for(u=0;u<r.length;u++)g=a.hasOwnProperty("$"+r[u].value),r[u].selected!==g&&(r[u].selected=g),g&&f&&(r[u].defaultSelected=!0)}else{for(u=""+Ui(u),a=null,g=0;g<r.length;g++){if(r[g].value===u){r[g].selected=!0,f&&(r[g].defaultSelected=!0);return}a!==null||r[g].disabled||(a=r[g])}a!==null&&(a.selected=!0)}}function Db(r,a,u){if(a!=null&&(a=""+Ui(a),a!==r.value&&(r.value=a),u==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=u!=null?""+Ui(u):""}function Zb(r,a,u,f){if(a==null){if(f!=null){if(u!=null)throw Error(n(92));if(ye(f)){if(1<f.length)throw Error(n(93));f=f[0]}u=f}u==null&&(u=""),a=u}u=Ui(a),r.defaultValue=u,f=r.textContent,f===u&&f!==""&&f!==null&&(r.value=f),ap(r)}function fl(r,a){if(a){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=a;return}}r.textContent=a}var L$=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lb(r,a,u){var f=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":f?r.setProperty(a,u):typeof u!="number"||u===0||L$.has(a)?a==="float"?r.cssFloat=u:r[a]=(""+u).trim():r[a]=u+"px"}function zb(r,a,u){if(a!=null&&typeof a!="object")throw Error(n(62));if(r=r.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var g in a)f=a[g],a.hasOwnProperty(g)&&u[g]!==f&&Lb(r,g,f)}else for(var O in a)a.hasOwnProperty(O)&&Lb(r,O,a[O])}function up(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var z$=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),j$=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vu(r){return j$.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Yn(){}var hp=null;function fp(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var dl=null,pl=null;function jb(r){var a=ol(r);if(a&&(r=a.stateNode)){var u=r[ii]||null;e:switch(r=a.stateNode,a.type){case"input":if(op(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Ni(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==r&&f.form===r.form){var g=f[ii]||null;if(!g)throw Error(n(90));op(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<u.length;a++)f=u[a],f.form===r.form&&Mb(f)}break e;case"textarea":Db(r,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&hl(r,!!u.multiple,a,!1)}}}var dp=!1;function Ub(r,a,u){if(dp)return r(a,u);dp=!0;try{var f=r(a);return f}finally{if(dp=!1,(dl!==null||pl!==null)&&(ah(),dl&&(a=dl,r=pl,pl=dl=null,jb(a),r)))for(a=0;a<r.length;a++)jb(r[a])}}function Fa(r,a){var u=r.stateNode;if(u===null)return null;var f=u[ii]||null;if(f===null)return null;u=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(n(231,a,typeof u));return u}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pp=!1;if(Vn)try{var eo={};Object.defineProperty(eo,"passive",{get:function(){pp=!0}}),window.addEventListener("test",eo,eo),window.removeEventListener("test",eo,eo)}catch{pp=!1}var Ss=null,gp=null,Su=null;function Nb(){if(Su)return Su;var r,a=gp,u=a.length,f,g="value"in Ss?Ss.value:Ss.textContent,O=g.length;for(r=0;r<u&&a[r]===g[r];r++);var S=u-r;for(f=1;f<=S&&a[u-f]===g[O-f];f++);return Su=g.slice(r,1<f?1-f:void 0)}function wu(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function ku(){return!0}function Bb(){return!1}function ni(r){function a(u,f,g,O,S){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=O,this.target=S,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(u=r[k],this[k]=u?u(O):O[k]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?ku:Bb,this.isPropagationStopped=Bb,this}return m(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ku)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ku)},persist:function(){},isPersistent:ku}),a}var pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xu=ni(pr),to=m({},pr,{view:0,detail:0}),U$=ni(to),mp,Op,io,_u=m({},to,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bp,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==io&&(io&&r.type==="mousemove"?(mp=r.screenX-io.screenX,Op=r.screenY-io.screenY):Op=mp=0,io=r),mp)},movementY:function(r){return"movementY"in r?r.movementY:Op}}),Xb=ni(_u),N$=m({},_u,{dataTransfer:0}),B$=ni(N$),X$=m({},to,{relatedTarget:0}),yp=ni(X$),q$=m({},pr,{animationName:0,elapsedTime:0,pseudoElement:0}),Y$=ni(q$),V$=m({},pr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),I$=ni(V$),G$=m({},pr,{data:0}),qb=ni(G$),W$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function J$(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=K$[r])?!!a[r]:!1}function bp(){return J$}var F$=m({},to,{key:function(r){if(r.key){var a=W$[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=wu(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?H$[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bp,charCode:function(r){return r.type==="keypress"?wu(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?wu(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),e2=ni(F$),t2=m({},_u,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yb=ni(t2),i2=m({},to,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bp}),n2=ni(i2),s2=m({},pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),r2=ni(s2),l2=m({},_u,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),a2=ni(l2),o2=m({},pr,{newState:0,oldState:0}),c2=ni(o2),u2=[9,13,27,32],vp=Vn&&"CompositionEvent"in window,no=null;Vn&&"documentMode"in document&&(no=document.documentMode);var h2=Vn&&"TextEvent"in window&&!no,Vb=Vn&&(!vp||no&&8<no&&11>=no),Ib=" ",Gb=!1;function Wb(r,a){switch(r){case"keyup":return u2.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hb(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var gl=!1;function f2(r,a){switch(r){case"compositionend":return Hb(a);case"keypress":return a.which!==32?null:(Gb=!0,Ib);case"textInput":return r=a.data,r===Ib&&Gb?null:r;default:return null}}function d2(r,a){if(gl)return r==="compositionend"||!vp&&Wb(r,a)?(r=Nb(),Su=gp=Ss=null,gl=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Vb&&a.locale!=="ko"?null:a.data;default:return null}}var p2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kb(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!p2[r.type]:a==="textarea"}function Jb(r,a,u,f){dl?pl?pl.push(f):pl=[f]:dl=f,a=ph(a,"onChange"),0<a.length&&(u=new xu("onChange","change",null,u,f),r.push({event:u,listeners:a}))}var so=null,ro=null;function g2(r){Pw(r,0)}function Tu(r){var a=Ja(r);if(Mb(a))return r}function Fb(r,a){if(r==="change")return a}var ev=!1;if(Vn){var Sp;if(Vn){var wp="oninput"in document;if(!wp){var tv=document.createElement("div");tv.setAttribute("oninput","return;"),wp=typeof tv.oninput=="function"}Sp=wp}else Sp=!1;ev=Sp&&(!document.documentMode||9<document.documentMode)}function iv(){so&&(so.detachEvent("onpropertychange",nv),ro=so=null)}function nv(r){if(r.propertyName==="value"&&Tu(ro)){var a=[];Jb(a,ro,r,fp(r)),Ub(g2,a)}}function m2(r,a,u){r==="focusin"?(iv(),so=a,ro=u,so.attachEvent("onpropertychange",nv)):r==="focusout"&&iv()}function O2(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Tu(ro)}function y2(r,a){if(r==="click")return Tu(a)}function b2(r,a){if(r==="input"||r==="change")return Tu(a)}function v2(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var wi=typeof Object.is=="function"?Object.is:v2;function lo(r,a){if(wi(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var u=Object.keys(r),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!Fd.call(a,g)||!wi(r[g],a[g]))return!1}return!0}function sv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function rv(r,a){var u=sv(r);r=0;for(var f;u;){if(u.nodeType===3){if(f=r+u.textContent.length,r<=a&&f>=a)return{node:u,offset:a-r};r=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=sv(u)}}function lv(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?lv(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function av(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=bu(r.document);a instanceof r.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)r=a.contentWindow;else break;a=bu(r.document)}return a}function kp(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var S2=Vn&&"documentMode"in document&&11>=document.documentMode,ml=null,xp=null,ao=null,_p=!1;function ov(r,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;_p||ml==null||ml!==bu(f)||(f=ml,"selectionStart"in f&&kp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),ao&&lo(ao,f)||(ao=f,f=ph(xp,"onSelect"),0<f.length&&(a=new xu("onSelect","select",null,a,u),r.push({event:a,listeners:f}),a.target=ml)))}function gr(r,a){var u={};return u[r.toLowerCase()]=a.toLowerCase(),u["Webkit"+r]="webkit"+a,u["Moz"+r]="moz"+a,u}var Ol={animationend:gr("Animation","AnimationEnd"),animationiteration:gr("Animation","AnimationIteration"),animationstart:gr("Animation","AnimationStart"),transitionrun:gr("Transition","TransitionRun"),transitionstart:gr("Transition","TransitionStart"),transitioncancel:gr("Transition","TransitionCancel"),transitionend:gr("Transition","TransitionEnd")},Tp={},cv={};Vn&&(cv=document.createElement("div").style,"AnimationEvent"in window||(delete Ol.animationend.animation,delete Ol.animationiteration.animation,delete Ol.animationstart.animation),"TransitionEvent"in window||delete Ol.transitionend.transition);function mr(r){if(Tp[r])return Tp[r];if(!Ol[r])return r;var a=Ol[r],u;for(u in a)if(a.hasOwnProperty(u)&&u in cv)return Tp[r]=a[u];return r}var uv=mr("animationend"),hv=mr("animationiteration"),fv=mr("animationstart"),w2=mr("transitionrun"),k2=mr("transitionstart"),x2=mr("transitioncancel"),dv=mr("transitionend"),pv=new Map,Qp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qp.push("scrollEnd");function rn(r,a){pv.set(r,a),dr(a,[r])}var Qu=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Bi=[],yl=0,Ap=0;function Au(){for(var r=yl,a=Ap=yl=0;a<r;){var u=Bi[a];Bi[a++]=null;var f=Bi[a];Bi[a++]=null;var g=Bi[a];Bi[a++]=null;var O=Bi[a];if(Bi[a++]=null,f!==null&&g!==null){var S=f.pending;S===null?g.next=g:(g.next=S.next,S.next=g),f.pending=g}O!==0&&gv(u,g,O)}}function Cu(r,a,u,f){Bi[yl++]=r,Bi[yl++]=a,Bi[yl++]=u,Bi[yl++]=f,Ap|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function Cp(r,a,u,f){return Cu(r,a,u,f),$u(r)}function Or(r,a){return Cu(r,null,null,a),$u(r)}function gv(r,a,u){r.lanes|=u;var f=r.alternate;f!==null&&(f.lanes|=u);for(var g=!1,O=r.return;O!==null;)O.childLanes|=u,f=O.alternate,f!==null&&(f.childLanes|=u),O.tag===22&&(r=O.stateNode,r===null||r._visibility&1||(g=!0)),r=O,O=O.return;return r.tag===3?(O=r.stateNode,g&&a!==null&&(g=31-Si(u),r=O.hiddenUpdates,f=r[g],f===null?r[g]=[a]:f.push(a),a.lane=u|536870912),O):null}function $u(r){if(50<$o)throw $o=0,zg=null,Error(n(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var bl={};function _2(r,a,u,f){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ki(r,a,u,f){return new _2(r,a,u,f)}function $p(r){return r=r.prototype,!(!r||!r.isReactComponent)}function In(r,a){var u=r.alternate;return u===null?(u=ki(r.tag,a,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=a,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,a=r.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function mv(r,a){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,a=u.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Eu(r,a,u,f,g,O){var S=0;if(f=r,typeof r=="function")$p(r)&&(S=1);else if(typeof r=="string")S=$E(r,u,J.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case re:return r=ki(31,u,a,g),r.elementType=re,r.lanes=O,r;case w:return yr(u.children,g,O,a);case x:S=8,g|=24;break;case _:return r=ki(12,u,a,g|2),r.elementType=_,r.lanes=O,r;case B:return r=ki(13,u,a,g),r.elementType=B,r.lanes=O,r;case X:return r=ki(19,u,a,g),r.elementType=X,r.lanes=O,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case C:S=10;break e;case E:S=9;break e;case j:S=11;break e;case z:S=14;break e;case ee:S=16,f=null;break e}S=29,u=Error(n(130,r===null?"null":typeof r,"")),f=null}return a=ki(S,u,a,g),a.elementType=r,a.type=f,a.lanes=O,a}function yr(r,a,u,f){return r=ki(7,r,f,a),r.lanes=u,r}function Ep(r,a,u){return r=ki(6,r,null,a),r.lanes=u,r}function Ov(r){var a=ki(18,null,null,0);return a.stateNode=r,a}function Rp(r,a,u){return a=ki(4,r.children!==null?r.children:[],r.key,a),a.lanes=u,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var yv=new WeakMap;function Xi(r,a){if(typeof r=="object"&&r!==null){var u=yv.get(r);return u!==void 0?u:(a={value:r,source:a,stack:Ob(a)},yv.set(r,a),a)}return{value:r,source:a,stack:Ob(a)}}var vl=[],Sl=0,Ru=null,oo=0,qi=[],Yi=0,ws=null,wn=1,kn="";function Gn(r,a){vl[Sl++]=oo,vl[Sl++]=Ru,Ru=r,oo=a}function bv(r,a,u){qi[Yi++]=wn,qi[Yi++]=kn,qi[Yi++]=ws,ws=r;var f=wn;r=kn;var g=32-Si(f)-1;f&=~(1<<g),u+=1;var O=32-Si(a)+g;if(30<O){var S=g-g%5;O=(f&(1<<S)-1).toString(32),f>>=S,g-=S,wn=1<<32-Si(a)+g|u<<g|f,kn=O+r}else wn=1<<O|u<<g|f,kn=r}function Mp(r){r.return!==null&&(Gn(r,1),bv(r,1,0))}function Pp(r){for(;r===Ru;)Ru=vl[--Sl],vl[Sl]=null,oo=vl[--Sl],vl[Sl]=null;for(;r===ws;)ws=qi[--Yi],qi[Yi]=null,kn=qi[--Yi],qi[Yi]=null,wn=qi[--Yi],qi[Yi]=null}function vv(r,a){qi[Yi++]=wn,qi[Yi++]=kn,qi[Yi++]=ws,wn=a.id,kn=a.overflow,ws=r}var Lt=null,et=null,Pe=!1,ks=null,Vi=!1,Dp=Error(n(519));function xs(r){var a=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw co(Xi(a,r)),Dp}function Sv(r){var a=r.stateNode,u=r.type,f=r.memoizedProps;switch(a[Zt]=r,a[ii]=f,u){case"dialog":Ce("cancel",a),Ce("close",a);break;case"iframe":case"object":case"embed":Ce("load",a);break;case"video":case"audio":for(u=0;u<Ro.length;u++)Ce(Ro[u],a);break;case"source":Ce("error",a);break;case"img":case"image":case"link":Ce("error",a),Ce("load",a);break;case"details":Ce("toggle",a);break;case"input":Ce("invalid",a),Pb(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Ce("invalid",a);break;case"textarea":Ce("invalid",a),Zb(a,f.value,f.defaultValue,f.children)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||f.suppressHydrationWarning===!0||zw(a.textContent,u)?(f.popover!=null&&(Ce("beforetoggle",a),Ce("toggle",a)),f.onScroll!=null&&Ce("scroll",a),f.onScrollEnd!=null&&Ce("scrollend",a),f.onClick!=null&&(a.onclick=Yn),a=!0):a=!1,a||xs(r,!0)}function wv(r){for(Lt=r.return;Lt;)switch(Lt.tag){case 5:case 31:case 13:Vi=!1;return;case 27:case 3:Vi=!0;return;default:Lt=Lt.return}}function wl(r){if(r!==Lt)return!1;if(!Pe)return wv(r),Pe=!0,!1;var a=r.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||Fg(r.type,r.memoizedProps)),u=!u),u&&et&&xs(r),wv(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));et=Iw(r)}else if(a===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));et=Iw(r)}else a===27?(a=et,zs(r.type)?(r=sm,sm=null,et=r):et=a):et=Lt?Gi(r.stateNode.nextSibling):null;return!0}function br(){et=Lt=null,Pe=!1}function Zp(){var r=ks;return r!==null&&(ai===null?ai=r:ai.push.apply(ai,r),ks=null),r}function co(r){ks===null?ks=[r]:ks.push(r)}var Lp=Q(null),vr=null,Wn=null;function _s(r,a,u){G(Lp,a._currentValue),a._currentValue=u}function Hn(r){r._currentValue=Lp.current,N(Lp)}function zp(r,a,u){for(;r!==null;){var f=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),r===u)break;r=r.return}}function jp(r,a,u,f){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var O=g.dependencies;if(O!==null){var S=g.child;O=O.firstContext;e:for(;O!==null;){var k=O;O=g;for(var T=0;T<a.length;T++)if(k.context===a[T]){O.lanes|=u,k=O.alternate,k!==null&&(k.lanes|=u),zp(O.return,u,r),f||(S=null);break e}O=k.next}}else if(g.tag===18){if(S=g.return,S===null)throw Error(n(341));S.lanes|=u,O=S.alternate,O!==null&&(O.lanes|=u),zp(S,u,r),S=null}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===r){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}}function kl(r,a,u,f){r=null;for(var g=a,O=!1;g!==null;){if(!O){if((g.flags&524288)!==0)O=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var S=g.alternate;if(S===null)throw Error(n(387));if(S=S.memoizedProps,S!==null){var k=g.type;wi(g.pendingProps.value,S.value)||(r!==null?r.push(k):r=[k])}}else if(g===De.current){if(S=g.alternate,S===null)throw Error(n(387));S.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(Lo):r=[Lo])}g=g.return}r!==null&&jp(a,r,u,f),a.flags|=262144}function Mu(r){for(r=r.firstContext;r!==null;){if(!wi(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Sr(r){vr=r,Wn=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function zt(r){return kv(vr,r)}function Pu(r,a){return vr===null&&Sr(r),kv(r,a)}function kv(r,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},Wn===null){if(r===null)throw Error(n(308));Wn=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Wn=Wn.next=a;return u}var T2=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(u,f){r.push(f)}};this.abort=function(){a.aborted=!0,r.forEach(function(u){return u()})}},Q2=i.unstable_scheduleCallback,A2=i.unstable_NormalPriority,gt={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Up(){return{controller:new T2,data:new Map,refCount:0}}function uo(r){r.refCount--,r.refCount===0&&Q2(A2,function(){r.controller.abort()})}var ho=null,Np=0,xl=0,_l=null;function C2(r,a){if(ho===null){var u=ho=[];Np=0,xl=qg(),_l={status:"pending",value:void 0,then:function(f){u.push(f)}}}return Np++,a.then(xv,xv),a}function xv(){if(--Np===0&&ho!==null){_l!==null&&(_l.status="fulfilled");var r=ho;ho=null,xl=0,_l=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function $2(r,a){var u=[],f={status:"pending",value:null,reason:null,then:function(g){u.push(g)}};return r.then(function(){f.status="fulfilled",f.value=a;for(var g=0;g<u.length;g++)(0,u[g])(a)},function(g){for(f.status="rejected",f.reason=g,g=0;g<u.length;g++)(0,u[g])(void 0)}),f}var _v=Z.S;Z.S=function(r,a){ow=bi(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&C2(r,a),_v!==null&&_v(r,a)};var wr=Q(null);function Bp(){var r=wr.current;return r!==null?r:Ie.pooledCache}function Du(r,a){a===null?G(wr,wr.current):G(wr,a.pool)}function Tv(){var r=Bp();return r===null?null:{parent:gt._currentValue,pool:r}}var Tl=Error(n(460)),Xp=Error(n(474)),Zu=Error(n(542)),Lu={then:function(){}};function Qv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Av(r,a,u){switch(u=r[u],u===void 0?r.push(a):u!==a&&(a.then(Yn,Yn),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,$v(r),r;default:if(typeof a.status=="string")a.then(Yn,Yn);else{if(r=Ie,r!==null&&100<r.shellSuspendCounter)throw Error(n(482));r=a,r.status="pending",r.then(function(f){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=f}},function(f){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,$v(r),r}throw xr=a,Tl}}function kr(r){try{var a=r._init;return a(r._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(xr=u,Tl):u}}var xr=null;function Cv(){if(xr===null)throw Error(n(459));var r=xr;return xr=null,r}function $v(r){if(r===Tl||r===Zu)throw Error(n(483))}var Ql=null,fo=0;function zu(r){var a=fo;return fo+=1,Ql===null&&(Ql=[]),Av(Ql,r,a)}function po(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function ju(r,a){throw a.$$typeof===y?Error(n(525)):(r=Object.prototype.toString.call(a),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function Ev(r){function a($,A){if(r){var R=$.deletions;R===null?($.deletions=[A],$.flags|=16):R.push(A)}}function u($,A){if(!r)return null;for(;A!==null;)a($,A),A=A.sibling;return null}function f($){for(var A=new Map;$!==null;)$.key!==null?A.set($.key,$):A.set($.index,$),$=$.sibling;return A}function g($,A){return $=In($,A),$.index=0,$.sibling=null,$}function O($,A,R){return $.index=R,r?(R=$.alternate,R!==null?(R=R.index,R<A?($.flags|=67108866,A):R):($.flags|=67108866,A)):($.flags|=1048576,A)}function S($){return r&&$.alternate===null&&($.flags|=67108866),$}function k($,A,R,Y){return A===null||A.tag!==6?(A=Ep(R,$.mode,Y),A.return=$,A):(A=g(A,R),A.return=$,A)}function T($,A,R,Y){var ce=R.type;return ce===w?U($,A,R.props.children,Y,R.key):A!==null&&(A.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===ee&&kr(ce)===A.type)?(A=g(A,R.props),po(A,R),A.return=$,A):(A=Eu(R.type,R.key,R.props,null,$.mode,Y),po(A,R),A.return=$,A)}function M($,A,R,Y){return A===null||A.tag!==4||A.stateNode.containerInfo!==R.containerInfo||A.stateNode.implementation!==R.implementation?(A=Rp(R,$.mode,Y),A.return=$,A):(A=g(A,R.children||[]),A.return=$,A)}function U($,A,R,Y,ce){return A===null||A.tag!==7?(A=yr(R,$.mode,Y,ce),A.return=$,A):(A=g(A,R),A.return=$,A)}function V($,A,R){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Ep(""+A,$.mode,R),A.return=$,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case b:return R=Eu(A.type,A.key,A.props,null,$.mode,R),po(R,A),R.return=$,R;case v:return A=Rp(A,$.mode,R),A.return=$,A;case ee:return A=kr(A),V($,A,R)}if(ye(A)||te(A))return A=yr(A,$.mode,R,null),A.return=$,A;if(typeof A.then=="function")return V($,zu(A),R);if(A.$$typeof===C)return V($,Pu($,A),R);ju($,A)}return null}function P($,A,R,Y){var ce=A!==null?A.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return ce!==null?null:k($,A,""+R,Y);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case b:return R.key===ce?T($,A,R,Y):null;case v:return R.key===ce?M($,A,R,Y):null;case ee:return R=kr(R),P($,A,R,Y)}if(ye(R)||te(R))return ce!==null?null:U($,A,R,Y,null);if(typeof R.then=="function")return P($,A,zu(R),Y);if(R.$$typeof===C)return P($,A,Pu($,R),Y);ju($,R)}return null}function L($,A,R,Y,ce){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return $=$.get(R)||null,k(A,$,""+Y,ce);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:return $=$.get(Y.key===null?R:Y.key)||null,T(A,$,Y,ce);case v:return $=$.get(Y.key===null?R:Y.key)||null,M(A,$,Y,ce);case ee:return Y=kr(Y),L($,A,R,Y,ce)}if(ye(Y)||te(Y))return $=$.get(R)||null,U(A,$,Y,ce,null);if(typeof Y.then=="function")return L($,A,R,zu(Y),ce);if(Y.$$typeof===C)return L($,A,R,Pu(A,Y),ce);ju(A,Y)}return null}function ie($,A,R,Y){for(var ce=null,ze=null,ne=A,ke=A=0,Re=null;ne!==null&&ke<R.length;ke++){ne.index>ke?(Re=ne,ne=null):Re=ne.sibling;var je=P($,ne,R[ke],Y);if(je===null){ne===null&&(ne=Re);break}r&&ne&&je.alternate===null&&a($,ne),A=O(je,A,ke),ze===null?ce=je:ze.sibling=je,ze=je,ne=Re}if(ke===R.length)return u($,ne),Pe&&Gn($,ke),ce;if(ne===null){for(;ke<R.length;ke++)ne=V($,R[ke],Y),ne!==null&&(A=O(ne,A,ke),ze===null?ce=ne:ze.sibling=ne,ze=ne);return Pe&&Gn($,ke),ce}for(ne=f(ne);ke<R.length;ke++)Re=L(ne,$,ke,R[ke],Y),Re!==null&&(r&&Re.alternate!==null&&ne.delete(Re.key===null?ke:Re.key),A=O(Re,A,ke),ze===null?ce=Re:ze.sibling=Re,ze=Re);return r&&ne.forEach(function(Xs){return a($,Xs)}),Pe&&Gn($,ke),ce}function ue($,A,R,Y){if(R==null)throw Error(n(151));for(var ce=null,ze=null,ne=A,ke=A=0,Re=null,je=R.next();ne!==null&&!je.done;ke++,je=R.next()){ne.index>ke?(Re=ne,ne=null):Re=ne.sibling;var Xs=P($,ne,je.value,Y);if(Xs===null){ne===null&&(ne=Re);break}r&&ne&&Xs.alternate===null&&a($,ne),A=O(Xs,A,ke),ze===null?ce=Xs:ze.sibling=Xs,ze=Xs,ne=Re}if(je.done)return u($,ne),Pe&&Gn($,ke),ce;if(ne===null){for(;!je.done;ke++,je=R.next())je=V($,je.value,Y),je!==null&&(A=O(je,A,ke),ze===null?ce=je:ze.sibling=je,ze=je);return Pe&&Gn($,ke),ce}for(ne=f(ne);!je.done;ke++,je=R.next())je=L(ne,$,ke,je.value,Y),je!==null&&(r&&je.alternate!==null&&ne.delete(je.key===null?ke:je.key),A=O(je,A,ke),ze===null?ce=je:ze.sibling=je,ze=je);return r&&ne.forEach(function(NE){return a($,NE)}),Pe&&Gn($,ke),ce}function Ye($,A,R,Y){if(typeof R=="object"&&R!==null&&R.type===w&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case b:e:{for(var ce=R.key;A!==null;){if(A.key===ce){if(ce=R.type,ce===w){if(A.tag===7){u($,A.sibling),Y=g(A,R.props.children),Y.return=$,$=Y;break e}}else if(A.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===ee&&kr(ce)===A.type){u($,A.sibling),Y=g(A,R.props),po(Y,R),Y.return=$,$=Y;break e}u($,A);break}else a($,A);A=A.sibling}R.type===w?(Y=yr(R.props.children,$.mode,Y,R.key),Y.return=$,$=Y):(Y=Eu(R.type,R.key,R.props,null,$.mode,Y),po(Y,R),Y.return=$,$=Y)}return S($);case v:e:{for(ce=R.key;A!==null;){if(A.key===ce)if(A.tag===4&&A.stateNode.containerInfo===R.containerInfo&&A.stateNode.implementation===R.implementation){u($,A.sibling),Y=g(A,R.children||[]),Y.return=$,$=Y;break e}else{u($,A);break}else a($,A);A=A.sibling}Y=Rp(R,$.mode,Y),Y.return=$,$=Y}return S($);case ee:return R=kr(R),Ye($,A,R,Y)}if(ye(R))return ie($,A,R,Y);if(te(R)){if(ce=te(R),typeof ce!="function")throw Error(n(150));return R=ce.call(R),ue($,A,R,Y)}if(typeof R.then=="function")return Ye($,A,zu(R),Y);if(R.$$typeof===C)return Ye($,A,Pu($,R),Y);ju($,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,A!==null&&A.tag===6?(u($,A.sibling),Y=g(A,R),Y.return=$,$=Y):(u($,A),Y=Ep(R,$.mode,Y),Y.return=$,$=Y),S($)):u($,A)}return function($,A,R,Y){try{fo=0;var ce=Ye($,A,R,Y);return Ql=null,ce}catch(ne){if(ne===Tl||ne===Zu)throw ne;var ze=ki(29,ne,null,$.mode);return ze.lanes=Y,ze.return=$,ze}}}var _r=Ev(!0),Rv=Ev(!1),Ts=!1;function qp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yp(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Qs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function As(r,a,u){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(Ue&2)!==0){var g=f.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),f.pending=a,a=$u(r),gv(r,null,u),a}return Cu(r,f,a,u),$u(r)}function go(r,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var f=a.lanes;f&=r.pendingLanes,u|=f,a.lanes=u,kb(r,u)}}function Vp(r,a){var u=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,O=null;if(u=u.firstBaseUpdate,u!==null){do{var S={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};O===null?g=O=S:O=O.next=S,u=u.next}while(u!==null);O===null?g=O=a:O=O.next=a}else g=O=a;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:O,shared:f.shared,callbacks:f.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=a:r.next=a,u.lastBaseUpdate=a}var Ip=!1;function mo(){if(Ip){var r=_l;if(r!==null)throw r}}function Oo(r,a,u,f){Ip=!1;var g=r.updateQueue;Ts=!1;var O=g.firstBaseUpdate,S=g.lastBaseUpdate,k=g.shared.pending;if(k!==null){g.shared.pending=null;var T=k,M=T.next;T.next=null,S===null?O=M:S.next=M,S=T;var U=r.alternate;U!==null&&(U=U.updateQueue,k=U.lastBaseUpdate,k!==S&&(k===null?U.firstBaseUpdate=M:k.next=M,U.lastBaseUpdate=T))}if(O!==null){var V=g.baseState;S=0,U=M=T=null,k=O;do{var P=k.lane&-536870913,L=P!==k.lane;if(L?(Ee&P)===P:(f&P)===P){P!==0&&P===xl&&(Ip=!0),U!==null&&(U=U.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var ie=r,ue=k;P=a;var Ye=u;switch(ue.tag){case 1:if(ie=ue.payload,typeof ie=="function"){V=ie.call(Ye,V,P);break e}V=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=ue.payload,P=typeof ie=="function"?ie.call(Ye,V,P):ie,P==null)break e;V=m({},V,P);break e;case 2:Ts=!0}}P=k.callback,P!==null&&(r.flags|=64,L&&(r.flags|=8192),L=g.callbacks,L===null?g.callbacks=[P]:L.push(P))}else L={lane:P,tag:k.tag,payload:k.payload,callback:k.callback,next:null},U===null?(M=U=L,T=V):U=U.next=L,S|=P;if(k=k.next,k===null){if(k=g.shared.pending,k===null)break;L=k,k=L.next,L.next=null,g.lastBaseUpdate=L,g.shared.pending=null}}while(!0);U===null&&(T=V),g.baseState=T,g.firstBaseUpdate=M,g.lastBaseUpdate=U,O===null&&(g.shared.lanes=0),Ms|=S,r.lanes=S,r.memoizedState=V}}function Mv(r,a){if(typeof r!="function")throw Error(n(191,r));r.call(a)}function Pv(r,a){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)Mv(u[r],a)}var Al=Q(null),Uu=Q(0);function Dv(r,a){r=rs,G(Uu,r),G(Al,a),rs=r|a.baseLanes}function Gp(){G(Uu,rs),G(Al,Al.current)}function Wp(){rs=Uu.current,N(Al),N(Uu)}var xi=Q(null),Ii=null;function Cs(r){var a=r.alternate;G(ut,ut.current&1),G(xi,r),Ii===null&&(a===null||Al.current!==null||a.memoizedState!==null)&&(Ii=r)}function Hp(r){G(ut,ut.current),G(xi,r),Ii===null&&(Ii=r)}function Zv(r){r.tag===22?(G(ut,ut.current),G(xi,r),Ii===null&&(Ii=r)):$s()}function $s(){G(ut,ut.current),G(xi,xi.current)}function _i(r){N(xi),Ii===r&&(Ii=null),N(ut)}var ut=Q(0);function Nu(r){for(var a=r;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||im(u)||nm(u)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Kn=0,Se=null,Xe=null,mt=null,Bu=!1,Cl=!1,Tr=!1,Xu=0,yo=0,$l=null,E2=0;function lt(){throw Error(n(321))}function Kp(r,a){if(a===null)return!1;for(var u=0;u<a.length&&u<r.length;u++)if(!wi(r[u],a[u]))return!1;return!0}function Jp(r,a,u,f,g,O){return Kn=O,Se=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Z.H=r===null||r.memoizedState===null?bS:dg,Tr=!1,O=u(f,g),Tr=!1,Cl&&(O=zv(a,u,f,g)),Lv(r),O}function Lv(r){Z.H=So;var a=Xe!==null&&Xe.next!==null;if(Kn=0,mt=Xe=Se=null,Bu=!1,yo=0,$l=null,a)throw Error(n(300));r===null||Ot||(r=r.dependencies,r!==null&&Mu(r)&&(Ot=!0))}function zv(r,a,u,f){Se=r;var g=0;do{if(Cl&&($l=null),yo=0,Cl=!1,25<=g)throw Error(n(301));if(g+=1,mt=Xe=null,r.updateQueue!=null){var O=r.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}Z.H=vS,O=a(u,f)}while(Cl);return O}function R2(){var r=Z.H,a=r.useState()[0];return a=typeof a.then=="function"?bo(a):a,r=r.useState()[0],(Xe!==null?Xe.memoizedState:null)!==r&&(Se.flags|=1024),a}function Fp(){var r=Xu!==0;return Xu=0,r}function eg(r,a,u){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~u}function tg(r){if(Bu){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Bu=!1}Kn=0,mt=Xe=Se=null,Cl=!1,yo=Xu=0,$l=null}function Jt(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Se.memoizedState=mt=r:mt=mt.next=r,mt}function ht(){if(Xe===null){var r=Se.alternate;r=r!==null?r.memoizedState:null}else r=Xe.next;var a=mt===null?Se.memoizedState:mt.next;if(a!==null)mt=a,Xe=r;else{if(r===null)throw Se.alternate===null?Error(n(467)):Error(n(310));Xe=r,r={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},mt===null?Se.memoizedState=mt=r:mt=mt.next=r}return mt}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bo(r){var a=yo;return yo+=1,$l===null&&($l=[]),r=Av($l,r,a),a=Se,(mt===null?a.memoizedState:mt.next)===null&&(a=a.alternate,Z.H=a===null||a.memoizedState===null?bS:dg),r}function Yu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return bo(r);if(r.$$typeof===C)return zt(r)}throw Error(n(438,String(r)))}function ig(r){var a=null,u=Se.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var f=Se.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=qu(),Se.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(r),f=0;f<r;f++)u[f]=$e;return a.index++,u}function Jn(r,a){return typeof a=="function"?a(r):a}function Vu(r){var a=ht();return ng(a,Xe,r)}function ng(r,a,u){var f=r.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=u;var g=r.baseQueue,O=f.pending;if(O!==null){if(g!==null){var S=g.next;g.next=O.next,O.next=S}a.baseQueue=g=O,f.pending=null}if(O=r.baseState,g===null)r.memoizedState=O;else{a=g.next;var k=S=null,T=null,M=a,U=!1;do{var V=M.lane&-536870913;if(V!==M.lane?(Ee&V)===V:(Kn&V)===V){var P=M.revertLane;if(P===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),V===xl&&(U=!0);else if((Kn&P)===P){M=M.next,P===xl&&(U=!0);continue}else V={lane:0,revertLane:M.revertLane,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},T===null?(k=T=V,S=O):T=T.next=V,Se.lanes|=P,Ms|=P;V=M.action,Tr&&u(O,V),O=M.hasEagerState?M.eagerState:u(O,V)}else P={lane:V,revertLane:M.revertLane,gesture:M.gesture,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},T===null?(k=T=P,S=O):T=T.next=P,Se.lanes|=V,Ms|=V;M=M.next}while(M!==null&&M!==a);if(T===null?S=O:T.next=k,!wi(O,r.memoizedState)&&(Ot=!0,U&&(u=_l,u!==null)))throw u;r.memoizedState=O,r.baseState=S,r.baseQueue=T,f.lastRenderedState=O}return g===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function sg(r){var a=ht(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var f=u.dispatch,g=u.pending,O=a.memoizedState;if(g!==null){u.pending=null;var S=g=g.next;do O=r(O,S.action),S=S.next;while(S!==g);wi(O,a.memoizedState)||(Ot=!0),a.memoizedState=O,a.baseQueue===null&&(a.baseState=O),u.lastRenderedState=O}return[O,f]}function jv(r,a,u){var f=Se,g=ht(),O=Pe;if(O){if(u===void 0)throw Error(n(407));u=u()}else u=a();var S=!wi((Xe||g).memoizedState,u);if(S&&(g.memoizedState=u,Ot=!0),g=g.queue,ag(Bv.bind(null,f,g,r),[r]),g.getSnapshot!==a||S||mt!==null&&mt.memoizedState.tag&1){if(f.flags|=2048,El(9,{destroy:void 0},Nv.bind(null,f,g,u,a),null),Ie===null)throw Error(n(349));O||(Kn&127)!==0||Uv(f,a,u)}return u}function Uv(r,a,u){r.flags|=16384,r={getSnapshot:a,value:u},a=Se.updateQueue,a===null?(a=qu(),Se.updateQueue=a,a.stores=[r]):(u=a.stores,u===null?a.stores=[r]:u.push(r))}function Nv(r,a,u,f){a.value=u,a.getSnapshot=f,Xv(a)&&qv(r)}function Bv(r,a,u){return u(function(){Xv(a)&&qv(r)})}function Xv(r){var a=r.getSnapshot;r=r.value;try{var u=a();return!wi(r,u)}catch{return!0}}function qv(r){var a=Or(r,2);a!==null&&oi(a,r,2)}function rg(r){var a=Jt();if(typeof r=="function"){var u=r;if(r=u(),Tr){bs(!0);try{u()}finally{bs(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:r},a}function Yv(r,a,u,f){return r.baseState=u,ng(r,Xe,typeof f=="function"?f:Jn)}function M2(r,a,u,f,g){if(Wu(r))throw Error(n(485));if(r=a.action,r!==null){var O={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){O.listeners.push(S)}};Z.T!==null?u(!0):O.isTransition=!1,f(O),u=a.pending,u===null?(O.next=a.pending=O,Vv(a,O)):(O.next=u.next,a.pending=u.next=O)}}function Vv(r,a){var u=a.action,f=a.payload,g=r.state;if(a.isTransition){var O=Z.T,S={};Z.T=S;try{var k=u(g,f),T=Z.S;T!==null&&T(S,k),Iv(r,a,k)}catch(M){lg(r,a,M)}finally{O!==null&&S.types!==null&&(O.types=S.types),Z.T=O}}else try{O=u(g,f),Iv(r,a,O)}catch(M){lg(r,a,M)}}function Iv(r,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){Gv(r,a,f)},function(f){return lg(r,a,f)}):Gv(r,a,u)}function Gv(r,a,u){a.status="fulfilled",a.value=u,Wv(a),r.state=u,a=r.pending,a!==null&&(u=a.next,u===a?r.pending=null:(u=u.next,a.next=u,Vv(r,u)))}function lg(r,a,u){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=u,Wv(a),a=a.next;while(a!==f)}r.action=null}function Wv(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function Hv(r,a){return a}function Kv(r,a){if(Pe){var u=Ie.formState;if(u!==null){e:{var f=Se;if(Pe){if(et){t:{for(var g=et,O=Vi;g.nodeType!==8;){if(!O){g=null;break t}if(g=Gi(g.nextSibling),g===null){g=null;break t}}O=g.data,g=O==="F!"||O==="F"?g:null}if(g){et=Gi(g.nextSibling),f=g.data==="F!";break e}}xs(f)}f=!1}f&&(a=u[0])}}return u=Jt(),u.memoizedState=u.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hv,lastRenderedState:a},u.queue=f,u=mS.bind(null,Se,f),f.dispatch=u,f=rg(!1),O=fg.bind(null,Se,!1,f.queue),f=Jt(),g={state:a,dispatch:null,action:r,pending:null},f.queue=g,u=M2.bind(null,Se,g,O,u),g.dispatch=u,f.memoizedState=r,[a,u,!1]}function Jv(r){var a=ht();return Fv(a,Xe,r)}function Fv(r,a,u){if(a=ng(r,a,Hv)[0],r=Vu(Jn)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=bo(a)}catch(S){throw S===Tl?Zu:S}else f=a;a=ht();var g=a.queue,O=g.dispatch;return u!==a.memoizedState&&(Se.flags|=2048,El(9,{destroy:void 0},P2.bind(null,g,u),null)),[f,O,r]}function P2(r,a){r.action=a}function eS(r){var a=ht(),u=Xe;if(u!==null)return Fv(a,u,r);ht(),a=a.memoizedState,u=ht();var f=u.queue.dispatch;return u.memoizedState=r,[a,f,!1]}function El(r,a,u,f){return r={tag:r,create:u,deps:f,inst:a,next:null},a=Se.updateQueue,a===null&&(a=qu(),Se.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=r.next=r:(f=u.next,u.next=r,r.next=f,a.lastEffect=r),r}function tS(){return ht().memoizedState}function Iu(r,a,u,f){var g=Jt();Se.flags|=r,g.memoizedState=El(1|a,{destroy:void 0},u,f===void 0?null:f)}function Gu(r,a,u,f){var g=ht();f=f===void 0?null:f;var O=g.memoizedState.inst;Xe!==null&&f!==null&&Kp(f,Xe.memoizedState.deps)?g.memoizedState=El(a,O,u,f):(Se.flags|=r,g.memoizedState=El(1|a,O,u,f))}function iS(r,a){Iu(8390656,8,r,a)}function ag(r,a){Gu(2048,8,r,a)}function D2(r){Se.flags|=4;var a=Se.updateQueue;if(a===null)a=qu(),Se.updateQueue=a,a.events=[r];else{var u=a.events;u===null?a.events=[r]:u.push(r)}}function nS(r){var a=ht().memoizedState;return D2({ref:a,nextImpl:r}),function(){if((Ue&2)!==0)throw Error(n(440));return a.impl.apply(void 0,arguments)}}function sS(r,a){return Gu(4,2,r,a)}function rS(r,a){return Gu(4,4,r,a)}function lS(r,a){if(typeof a=="function"){r=r();var u=a(r);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function aS(r,a,u){u=u!=null?u.concat([r]):null,Gu(4,4,lS.bind(null,a,r),u)}function og(){}function oS(r,a){var u=ht();a=a===void 0?null:a;var f=u.memoizedState;return a!==null&&Kp(a,f[1])?f[0]:(u.memoizedState=[r,a],r)}function cS(r,a){var u=ht();a=a===void 0?null:a;var f=u.memoizedState;if(a!==null&&Kp(a,f[1]))return f[0];if(f=r(),Tr){bs(!0);try{r()}finally{bs(!1)}}return u.memoizedState=[f,a],f}function cg(r,a,u){return u===void 0||(Kn&1073741824)!==0&&(Ee&261930)===0?r.memoizedState=a:(r.memoizedState=u,r=uw(),Se.lanes|=r,Ms|=r,u)}function uS(r,a,u,f){return wi(u,a)?u:Al.current!==null?(r=cg(r,u,f),wi(r,a)||(Ot=!0),r):(Kn&42)===0||(Kn&1073741824)!==0&&(Ee&261930)===0?(Ot=!0,r.memoizedState=u):(r=uw(),Se.lanes|=r,Ms|=r,a)}function hS(r,a,u,f,g){var O=I.p;I.p=O!==0&&8>O?O:8;var S=Z.T,k={};Z.T=k,fg(r,!1,a,u);try{var T=g(),M=Z.S;if(M!==null&&M(k,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var U=$2(T,f);vo(r,a,U,Ai(r))}else vo(r,a,f,Ai(r))}catch(V){vo(r,a,{then:function(){},status:"rejected",reason:V},Ai())}finally{I.p=O,S!==null&&k.types!==null&&(S.types=k.types),Z.T=S}}function Z2(){}function ug(r,a,u,f){if(r.tag!==5)throw Error(n(476));var g=fS(r).queue;hS(r,g,a,le,u===null?Z2:function(){return dS(r),u(f)})}function fS(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:le},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:u},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function dS(r){var a=fS(r);a.next===null&&(a=r.alternate.memoizedState),vo(r,a.next.queue,{},Ai())}function hg(){return zt(Lo)}function pS(){return ht().memoizedState}function gS(){return ht().memoizedState}function L2(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var u=Ai();r=Qs(u);var f=As(a,r,u);f!==null&&(oi(f,a,u),go(f,a,u)),a={cache:Up()},r.payload=a;return}a=a.return}}function z2(r,a,u){var f=Ai();u={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Wu(r)?OS(a,u):(u=Cp(r,a,u,f),u!==null&&(oi(u,r,f),yS(u,a,f)))}function mS(r,a,u){var f=Ai();vo(r,a,u,f)}function vo(r,a,u,f){var g={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Wu(r))OS(a,g);else{var O=r.alternate;if(r.lanes===0&&(O===null||O.lanes===0)&&(O=a.lastRenderedReducer,O!==null))try{var S=a.lastRenderedState,k=O(S,u);if(g.hasEagerState=!0,g.eagerState=k,wi(k,S))return Cu(r,a,g,0),Ie===null&&Au(),!1}catch{}if(u=Cp(r,a,g,f),u!==null)return oi(u,r,f),yS(u,a,f),!0}return!1}function fg(r,a,u,f){if(f={lane:2,revertLane:qg(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Wu(r)){if(a)throw Error(n(479))}else a=Cp(r,u,f,2),a!==null&&oi(a,r,2)}function Wu(r){var a=r.alternate;return r===Se||a!==null&&a===Se}function OS(r,a){Cl=Bu=!0;var u=r.pending;u===null?a.next=a:(a.next=u.next,u.next=a),r.pending=a}function yS(r,a,u){if((u&4194048)!==0){var f=a.lanes;f&=r.pendingLanes,u|=f,a.lanes=u,kb(r,u)}}var So={readContext:zt,use:Yu,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useInsertionEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useSyncExternalStore:lt,useId:lt,useHostTransitionStatus:lt,useFormState:lt,useActionState:lt,useOptimistic:lt,useMemoCache:lt,useCacheRefresh:lt};So.useEffectEvent=lt;var bS={readContext:zt,use:Yu,useCallback:function(r,a){return Jt().memoizedState=[r,a===void 0?null:a],r},useContext:zt,useEffect:iS,useImperativeHandle:function(r,a,u){u=u!=null?u.concat([r]):null,Iu(4194308,4,lS.bind(null,a,r),u)},useLayoutEffect:function(r,a){return Iu(4194308,4,r,a)},useInsertionEffect:function(r,a){Iu(4,2,r,a)},useMemo:function(r,a){var u=Jt();a=a===void 0?null:a;var f=r();if(Tr){bs(!0);try{r()}finally{bs(!1)}}return u.memoizedState=[f,a],f},useReducer:function(r,a,u){var f=Jt();if(u!==void 0){var g=u(a);if(Tr){bs(!0);try{u(a)}finally{bs(!1)}}}else g=a;return f.memoizedState=f.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},f.queue=r,r=r.dispatch=z2.bind(null,Se,r),[f.memoizedState,r]},useRef:function(r){var a=Jt();return r={current:r},a.memoizedState=r},useState:function(r){r=rg(r);var a=r.queue,u=mS.bind(null,Se,a);return a.dispatch=u,[r.memoizedState,u]},useDebugValue:og,useDeferredValue:function(r,a){var u=Jt();return cg(u,r,a)},useTransition:function(){var r=rg(!1);return r=hS.bind(null,Se,r.queue,!0,!1),Jt().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,u){var f=Se,g=Jt();if(Pe){if(u===void 0)throw Error(n(407));u=u()}else{if(u=a(),Ie===null)throw Error(n(349));(Ee&127)!==0||Uv(f,a,u)}g.memoizedState=u;var O={value:u,getSnapshot:a};return g.queue=O,iS(Bv.bind(null,f,O,r),[r]),f.flags|=2048,El(9,{destroy:void 0},Nv.bind(null,f,O,u,a),null),u},useId:function(){var r=Jt(),a=Ie.identifierPrefix;if(Pe){var u=kn,f=wn;u=(f&~(1<<32-Si(f)-1)).toString(32)+u,a="_"+a+"R_"+u,u=Xu++,0<u&&(a+="H"+u.toString(32)),a+="_"}else u=E2++,a="_"+a+"r_"+u.toString(32)+"_";return r.memoizedState=a},useHostTransitionStatus:hg,useFormState:Kv,useActionState:Kv,useOptimistic:function(r){var a=Jt();a.memoizedState=a.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=fg.bind(null,Se,!0,u),u.dispatch=a,[r,a]},useMemoCache:ig,useCacheRefresh:function(){return Jt().memoizedState=L2.bind(null,Se)},useEffectEvent:function(r){var a=Jt(),u={impl:r};return a.memoizedState=u,function(){if((Ue&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}},dg={readContext:zt,use:Yu,useCallback:oS,useContext:zt,useEffect:ag,useImperativeHandle:aS,useInsertionEffect:sS,useLayoutEffect:rS,useMemo:cS,useReducer:Vu,useRef:tS,useState:function(){return Vu(Jn)},useDebugValue:og,useDeferredValue:function(r,a){var u=ht();return uS(u,Xe.memoizedState,r,a)},useTransition:function(){var r=Vu(Jn)[0],a=ht().memoizedState;return[typeof r=="boolean"?r:bo(r),a]},useSyncExternalStore:jv,useId:pS,useHostTransitionStatus:hg,useFormState:Jv,useActionState:Jv,useOptimistic:function(r,a){var u=ht();return Yv(u,Xe,r,a)},useMemoCache:ig,useCacheRefresh:gS};dg.useEffectEvent=nS;var vS={readContext:zt,use:Yu,useCallback:oS,useContext:zt,useEffect:ag,useImperativeHandle:aS,useInsertionEffect:sS,useLayoutEffect:rS,useMemo:cS,useReducer:sg,useRef:tS,useState:function(){return sg(Jn)},useDebugValue:og,useDeferredValue:function(r,a){var u=ht();return Xe===null?cg(u,r,a):uS(u,Xe.memoizedState,r,a)},useTransition:function(){var r=sg(Jn)[0],a=ht().memoizedState;return[typeof r=="boolean"?r:bo(r),a]},useSyncExternalStore:jv,useId:pS,useHostTransitionStatus:hg,useFormState:eS,useActionState:eS,useOptimistic:function(r,a){var u=ht();return Xe!==null?Yv(u,Xe,r,a):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:ig,useCacheRefresh:gS};vS.useEffectEvent=nS;function pg(r,a,u,f){a=r.memoizedState,u=u(f,a),u=u==null?a:m({},a,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var gg={enqueueSetState:function(r,a,u){r=r._reactInternals;var f=Ai(),g=Qs(f);g.payload=a,u!=null&&(g.callback=u),a=As(r,g,f),a!==null&&(oi(a,r,f),go(a,r,f))},enqueueReplaceState:function(r,a,u){r=r._reactInternals;var f=Ai(),g=Qs(f);g.tag=1,g.payload=a,u!=null&&(g.callback=u),a=As(r,g,f),a!==null&&(oi(a,r,f),go(a,r,f))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var u=Ai(),f=Qs(u);f.tag=2,a!=null&&(f.callback=a),a=As(r,f,u),a!==null&&(oi(a,r,u),go(a,r,u))}};function SS(r,a,u,f,g,O,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,O,S):a.prototype&&a.prototype.isPureReactComponent?!lo(u,f)||!lo(g,O):!0}function wS(r,a,u,f){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==r&&gg.enqueueReplaceState(a,a.state,null)}function Qr(r,a){var u=a;if("ref"in a){u={};for(var f in a)f!=="ref"&&(u[f]=a[f])}if(r=r.defaultProps){u===a&&(u=m({},u));for(var g in r)u[g]===void 0&&(u[g]=r[g])}return u}function kS(r){Qu(r)}function xS(r){console.error(r)}function _S(r){Qu(r)}function Hu(r,a){try{var u=r.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function TS(r,a,u){try{var f=r.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function mg(r,a,u){return u=Qs(u),u.tag=3,u.payload={element:null},u.callback=function(){Hu(r,a)},u}function QS(r){return r=Qs(r),r.tag=3,r}function AS(r,a,u,f){var g=u.type.getDerivedStateFromError;if(typeof g=="function"){var O=f.value;r.payload=function(){return g(O)},r.callback=function(){TS(a,u,f)}}var S=u.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){TS(a,u,f),typeof g!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var k=f.stack;this.componentDidCatch(f.value,{componentStack:k!==null?k:""})})}function j2(r,a,u,f,g){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=u.alternate,a!==null&&kl(a,u,g,!0),u=xi.current,u!==null){switch(u.tag){case 31:case 13:return Ii===null?oh():u.alternate===null&&at===0&&(at=3),u.flags&=-257,u.flags|=65536,u.lanes=g,f===Lu?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([f]):a.add(f),Ng(r,f,g)),!1;case 22:return u.flags|=65536,f===Lu?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([f]):u.add(f)),Ng(r,f,g)),!1}throw Error(n(435,u.tag))}return Ng(r,f,g),oh(),!1}if(Pe)return a=xi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,f!==Dp&&(r=Error(n(422),{cause:f}),co(Xi(r,u)))):(f!==Dp&&(a=Error(n(423),{cause:f}),co(Xi(a,u))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,f=Xi(f,u),g=mg(r.stateNode,f,g),Vp(r,g),at!==4&&(at=2)),!1;var O=Error(n(520),{cause:f});if(O=Xi(O,u),Co===null?Co=[O]:Co.push(O),at!==4&&(at=2),a===null)return!0;f=Xi(f,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,r=g&-g,u.lanes|=r,r=mg(u.stateNode,f,r),Vp(u,r),!1;case 1:if(a=u.type,O=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Ps===null||!Ps.has(O))))return u.flags|=65536,g&=-g,u.lanes|=g,g=QS(g),AS(g,r,u,f),Vp(u,g),!1}u=u.return}while(u!==null);return!1}var Og=Error(n(461)),Ot=!1;function jt(r,a,u,f){a.child=r===null?Rv(a,null,u,f):_r(a,r.child,u,f)}function CS(r,a,u,f,g){u=u.render;var O=a.ref;if("ref"in f){var S={};for(var k in f)k!=="ref"&&(S[k]=f[k])}else S=f;return Sr(a),f=Jp(r,a,u,S,O,g),k=Fp(),r!==null&&!Ot?(eg(r,a,g),Fn(r,a,g)):(Pe&&k&&Mp(a),a.flags|=1,jt(r,a,f,g),a.child)}function $S(r,a,u,f,g){if(r===null){var O=u.type;return typeof O=="function"&&!$p(O)&&O.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=O,ES(r,a,O,f,g)):(r=Eu(u.type,null,f,a,a.mode,g),r.ref=a.ref,r.return=a,a.child=r)}if(O=r.child,!_g(r,g)){var S=O.memoizedProps;if(u=u.compare,u=u!==null?u:lo,u(S,f)&&r.ref===a.ref)return Fn(r,a,g)}return a.flags|=1,r=In(O,f),r.ref=a.ref,r.return=a,a.child=r}function ES(r,a,u,f,g){if(r!==null){var O=r.memoizedProps;if(lo(O,f)&&r.ref===a.ref)if(Ot=!1,a.pendingProps=f=O,_g(r,g))(r.flags&131072)!==0&&(Ot=!0);else return a.lanes=r.lanes,Fn(r,a,g)}return yg(r,a,u,f,g)}function RS(r,a,u,f){var g=f.children,O=r!==null?r.memoizedState:null;if(r===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((a.flags&128)!==0){if(O=O!==null?O.baseLanes|u:u,r!==null){for(f=a.child=r.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;f=g&~O}else f=0,a.child=null;return MS(r,a,O,u,f)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Du(a,O!==null?O.cachePool:null),O!==null?Dv(a,O):Gp(),Zv(a);else return f=a.lanes=536870912,MS(r,a,O!==null?O.baseLanes|u:u,u,f)}else O!==null?(Du(a,O.cachePool),Dv(a,O),$s(),a.memoizedState=null):(r!==null&&Du(a,null),Gp(),$s());return jt(r,a,g,u),a.child}function wo(r,a){return r!==null&&r.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function MS(r,a,u,f,g){var O=Bp();return O=O===null?null:{parent:gt._currentValue,pool:O},a.memoizedState={baseLanes:u,cachePool:O},r!==null&&Du(a,null),Gp(),Zv(a),r!==null&&kl(r,a,f,!0),a.childLanes=g,null}function Ku(r,a){return a=Fu({mode:a.mode,children:a.children},r.mode),a.ref=r.ref,r.child=a,a.return=r,a}function PS(r,a,u){return _r(a,r.child,null,u),r=Ku(a,a.pendingProps),r.flags|=2,_i(a),a.memoizedState=null,r}function U2(r,a,u){var f=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,r===null){if(Pe){if(f.mode==="hidden")return r=Ku(a,f),a.lanes=536870912,wo(null,r);if(Hp(a),(r=et)?(r=Vw(r,Vi),r=r!==null&&r.data==="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:ws!==null?{id:wn,overflow:kn}:null,retryLane:536870912,hydrationErrors:null},u=Ov(r),u.return=a,a.child=u,Lt=a,et=null)):r=null,r===null)throw xs(a);return a.lanes=536870912,null}return Ku(a,f)}var O=r.memoizedState;if(O!==null){var S=O.dehydrated;if(Hp(a),g)if(a.flags&256)a.flags&=-257,a=PS(r,a,u);else if(a.memoizedState!==null)a.child=r.child,a.flags|=128,a=null;else throw Error(n(558));else if(Ot||kl(r,a,u,!1),g=(u&r.childLanes)!==0,Ot||g){if(f=Ie,f!==null&&(S=xb(f,u),S!==0&&S!==O.retryLane))throw O.retryLane=S,Or(r,S),oi(f,r,S),Og;oh(),a=PS(r,a,u)}else r=O.treeContext,et=Gi(S.nextSibling),Lt=a,Pe=!0,ks=null,Vi=!1,r!==null&&vv(a,r),a=Ku(a,f),a.flags|=4096;return a}return r=In(r.child,{mode:f.mode,children:f.children}),r.ref=a.ref,a.child=r,r.return=a,r}function Ju(r,a){var u=a.ref;if(u===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(r===null||r.ref!==u)&&(a.flags|=4194816)}}function yg(r,a,u,f,g){return Sr(a),u=Jp(r,a,u,f,void 0,g),f=Fp(),r!==null&&!Ot?(eg(r,a,g),Fn(r,a,g)):(Pe&&f&&Mp(a),a.flags|=1,jt(r,a,u,g),a.child)}function DS(r,a,u,f,g,O){return Sr(a),a.updateQueue=null,u=zv(a,f,u,g),Lv(r),f=Fp(),r!==null&&!Ot?(eg(r,a,O),Fn(r,a,O)):(Pe&&f&&Mp(a),a.flags|=1,jt(r,a,u,O),a.child)}function ZS(r,a,u,f,g){if(Sr(a),a.stateNode===null){var O=bl,S=u.contextType;typeof S=="object"&&S!==null&&(O=zt(S)),O=new u(f,O),a.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=gg,a.stateNode=O,O._reactInternals=a,O=a.stateNode,O.props=f,O.state=a.memoizedState,O.refs={},qp(a),S=u.contextType,O.context=typeof S=="object"&&S!==null?zt(S):bl,O.state=a.memoizedState,S=u.getDerivedStateFromProps,typeof S=="function"&&(pg(a,u,S,f),O.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(S=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),S!==O.state&&gg.enqueueReplaceState(O,O.state,null),Oo(a,f,O,g),mo(),O.state=a.memoizedState),typeof O.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(r===null){O=a.stateNode;var k=a.memoizedProps,T=Qr(u,k);O.props=T;var M=O.context,U=u.contextType;S=bl,typeof U=="object"&&U!==null&&(S=zt(U));var V=u.getDerivedStateFromProps;U=typeof V=="function"||typeof O.getSnapshotBeforeUpdate=="function",k=a.pendingProps!==k,U||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(k||M!==S)&&wS(a,O,f,S),Ts=!1;var P=a.memoizedState;O.state=P,Oo(a,f,O,g),mo(),M=a.memoizedState,k||P!==M||Ts?(typeof V=="function"&&(pg(a,u,V,f),M=a.memoizedState),(T=Ts||SS(a,u,T,f,P,M,S))?(U||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(a.flags|=4194308)):(typeof O.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=M),O.props=f,O.state=M,O.context=S,f=T):(typeof O.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{O=a.stateNode,Yp(r,a),S=a.memoizedProps,U=Qr(u,S),O.props=U,V=a.pendingProps,P=O.context,M=u.contextType,T=bl,typeof M=="object"&&M!==null&&(T=zt(M)),k=u.getDerivedStateFromProps,(M=typeof k=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(S!==V||P!==T)&&wS(a,O,f,T),Ts=!1,P=a.memoizedState,O.state=P,Oo(a,f,O,g),mo();var L=a.memoizedState;S!==V||P!==L||Ts||r!==null&&r.dependencies!==null&&Mu(r.dependencies)?(typeof k=="function"&&(pg(a,u,k,f),L=a.memoizedState),(U=Ts||SS(a,u,U,f,P,L,T)||r!==null&&r.dependencies!==null&&Mu(r.dependencies))?(M||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(f,L,T),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(f,L,T)),typeof O.componentDidUpdate=="function"&&(a.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof O.componentDidUpdate!="function"||S===r.memoizedProps&&P===r.memoizedState||(a.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&P===r.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=L),O.props=f,O.state=L,O.context=T,f=U):(typeof O.componentDidUpdate!="function"||S===r.memoizedProps&&P===r.memoizedState||(a.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&P===r.memoizedState||(a.flags|=1024),f=!1)}return O=f,Ju(r,a),f=(a.flags&128)!==0,O||f?(O=a.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:O.render(),a.flags|=1,r!==null&&f?(a.child=_r(a,r.child,null,g),a.child=_r(a,null,u,g)):jt(r,a,u,g),a.memoizedState=O.state,r=a.child):r=Fn(r,a,g),r}function LS(r,a,u,f){return br(),a.flags|=256,jt(r,a,u,f),a.child}var bg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vg(r){return{baseLanes:r,cachePool:Tv()}}function Sg(r,a,u){return r=r!==null?r.childLanes&~u:0,a&&(r|=Qi),r}function zS(r,a,u){var f=a.pendingProps,g=!1,O=(a.flags&128)!==0,S;if((S=O)||(S=r!==null&&r.memoizedState===null?!1:(ut.current&2)!==0),S&&(g=!0,a.flags&=-129),S=(a.flags&32)!==0,a.flags&=-33,r===null){if(Pe){if(g?Cs(a):$s(),(r=et)?(r=Vw(r,Vi),r=r!==null&&r.data!=="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:ws!==null?{id:wn,overflow:kn}:null,retryLane:536870912,hydrationErrors:null},u=Ov(r),u.return=a,a.child=u,Lt=a,et=null)):r=null,r===null)throw xs(a);return nm(r)?a.lanes=32:a.lanes=536870912,null}var k=f.children;return f=f.fallback,g?($s(),g=a.mode,k=Fu({mode:"hidden",children:k},g),f=yr(f,g,u,null),k.return=a,f.return=a,k.sibling=f,a.child=k,f=a.child,f.memoizedState=vg(u),f.childLanes=Sg(r,S,u),a.memoizedState=bg,wo(null,f)):(Cs(a),wg(a,k))}var T=r.memoizedState;if(T!==null&&(k=T.dehydrated,k!==null)){if(O)a.flags&256?(Cs(a),a.flags&=-257,a=kg(r,a,u)):a.memoizedState!==null?($s(),a.child=r.child,a.flags|=128,a=null):($s(),k=f.fallback,g=a.mode,f=Fu({mode:"visible",children:f.children},g),k=yr(k,g,u,null),k.flags|=2,f.return=a,k.return=a,f.sibling=k,a.child=f,_r(a,r.child,null,u),f=a.child,f.memoizedState=vg(u),f.childLanes=Sg(r,S,u),a.memoizedState=bg,a=wo(null,f));else if(Cs(a),nm(k)){if(S=k.nextSibling&&k.nextSibling.dataset,S)var M=S.dgst;S=M,f=Error(n(419)),f.stack="",f.digest=S,co({value:f,source:null,stack:null}),a=kg(r,a,u)}else if(Ot||kl(r,a,u,!1),S=(u&r.childLanes)!==0,Ot||S){if(S=Ie,S!==null&&(f=xb(S,u),f!==0&&f!==T.retryLane))throw T.retryLane=f,Or(r,f),oi(S,r,f),Og;im(k)||oh(),a=kg(r,a,u)}else im(k)?(a.flags|=192,a.child=r.child,a=null):(r=T.treeContext,et=Gi(k.nextSibling),Lt=a,Pe=!0,ks=null,Vi=!1,r!==null&&vv(a,r),a=wg(a,f.children),a.flags|=4096);return a}return g?($s(),k=f.fallback,g=a.mode,T=r.child,M=T.sibling,f=In(T,{mode:"hidden",children:f.children}),f.subtreeFlags=T.subtreeFlags&65011712,M!==null?k=In(M,k):(k=yr(k,g,u,null),k.flags|=2),k.return=a,f.return=a,f.sibling=k,a.child=f,wo(null,f),f=a.child,k=r.child.memoizedState,k===null?k=vg(u):(g=k.cachePool,g!==null?(T=gt._currentValue,g=g.parent!==T?{parent:T,pool:T}:g):g=Tv(),k={baseLanes:k.baseLanes|u,cachePool:g}),f.memoizedState=k,f.childLanes=Sg(r,S,u),a.memoizedState=bg,wo(r.child,f)):(Cs(a),u=r.child,r=u.sibling,u=In(u,{mode:"visible",children:f.children}),u.return=a,u.sibling=null,r!==null&&(S=a.deletions,S===null?(a.deletions=[r],a.flags|=16):S.push(r)),a.child=u,a.memoizedState=null,u)}function wg(r,a){return a=Fu({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Fu(r,a){return r=ki(22,r,null,a),r.lanes=0,r}function kg(r,a,u){return _r(a,r.child,null,u),r=wg(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function jS(r,a,u){r.lanes|=a;var f=r.alternate;f!==null&&(f.lanes|=a),zp(r.return,a,u)}function xg(r,a,u,f,g,O){var S=r.memoizedState;S===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g,treeForkCount:O}:(S.isBackwards=a,S.rendering=null,S.renderingStartTime=0,S.last=f,S.tail=u,S.tailMode=g,S.treeForkCount=O)}function US(r,a,u){var f=a.pendingProps,g=f.revealOrder,O=f.tail;f=f.children;var S=ut.current,k=(S&2)!==0;if(k?(S=S&1|2,a.flags|=128):S&=1,G(ut,S),jt(r,a,f,u),f=Pe?oo:0,!k&&r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&jS(r,u,a);else if(r.tag===19)jS(r,u,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(g){case"forwards":for(u=a.child,g=null;u!==null;)r=u.alternate,r!==null&&Nu(r)===null&&(g=u),u=u.sibling;u=g,u===null?(g=a.child,a.child=null):(g=u.sibling,u.sibling=null),xg(a,!1,g,u,O,f);break;case"backwards":case"unstable_legacy-backwards":for(u=null,g=a.child,a.child=null;g!==null;){if(r=g.alternate,r!==null&&Nu(r)===null){a.child=g;break}r=g.sibling,g.sibling=u,u=g,g=r}xg(a,!0,u,null,O,f);break;case"together":xg(a,!1,null,null,void 0,f);break;default:a.memoizedState=null}return a.child}function Fn(r,a,u){if(r!==null&&(a.dependencies=r.dependencies),Ms|=a.lanes,(u&a.childLanes)===0)if(r!==null){if(kl(r,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(n(153));if(a.child!==null){for(r=a.child,u=In(r,r.pendingProps),a.child=u,u.return=a;r.sibling!==null;)r=r.sibling,u=u.sibling=In(r,r.pendingProps),u.return=a;u.sibling=null}return a.child}function _g(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Mu(r)))}function N2(r,a,u){switch(a.tag){case 3:Kt(a,a.stateNode.containerInfo),_s(a,gt,r.memoizedState.cache),br();break;case 27:case 5:Ia(a);break;case 4:Kt(a,a.stateNode.containerInfo);break;case 10:_s(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Hp(a),null;break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(Cs(a),a.flags|=128,null):(u&a.child.childLanes)!==0?zS(r,a,u):(Cs(a),r=Fn(r,a,u),r!==null?r.sibling:null);Cs(a);break;case 19:var g=(r.flags&128)!==0;if(f=(u&a.childLanes)!==0,f||(kl(r,a,u,!1),f=(u&a.childLanes)!==0),g){if(f)return US(r,a,u);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),G(ut,ut.current),f)break;return null;case 22:return a.lanes=0,RS(r,a,u,a.pendingProps);case 24:_s(a,gt,r.memoizedState.cache)}return Fn(r,a,u)}function NS(r,a,u){if(r!==null)if(r.memoizedProps!==a.pendingProps)Ot=!0;else{if(!_g(r,u)&&(a.flags&128)===0)return Ot=!1,N2(r,a,u);Ot=(r.flags&131072)!==0}else Ot=!1,Pe&&(a.flags&1048576)!==0&&bv(a,oo,a.index);switch(a.lanes=0,a.tag){case 16:e:{var f=a.pendingProps;if(r=kr(a.elementType),a.type=r,typeof r=="function")$p(r)?(f=Qr(r,f),a.tag=1,a=ZS(null,a,r,f,u)):(a.tag=0,a=yg(null,a,r,f,u));else{if(r!=null){var g=r.$$typeof;if(g===j){a.tag=11,a=CS(null,a,r,f,u);break e}else if(g===z){a.tag=14,a=$S(null,a,r,f,u);break e}}throw a=fe(r)||r,Error(n(306,a,""))}}return a;case 0:return yg(r,a,a.type,a.pendingProps,u);case 1:return f=a.type,g=Qr(f,a.pendingProps),ZS(r,a,f,g,u);case 3:e:{if(Kt(a,a.stateNode.containerInfo),r===null)throw Error(n(387));f=a.pendingProps;var O=a.memoizedState;g=O.element,Yp(r,a),Oo(a,f,null,u);var S=a.memoizedState;if(f=S.cache,_s(a,gt,f),f!==O.cache&&jp(a,[gt],u,!0),mo(),f=S.element,O.isDehydrated)if(O={element:f,isDehydrated:!1,cache:S.cache},a.updateQueue.baseState=O,a.memoizedState=O,a.flags&256){a=LS(r,a,f,u);break e}else if(f!==g){g=Xi(Error(n(424)),a),co(g),a=LS(r,a,f,u);break e}else for(r=a.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,et=Gi(r.firstChild),Lt=a,Pe=!0,ks=null,Vi=!0,u=Rv(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(br(),f===g){a=Fn(r,a,u);break e}jt(r,a,f,u)}a=a.child}return a;case 26:return Ju(r,a),r===null?(u=Jw(a.type,null,a.pendingProps,null))?a.memoizedState=u:Pe||(u=a.type,r=a.pendingProps,f=gh(ve.current).createElement(u),f[Zt]=a,f[ii]=r,Ut(f,u,r),Ct(f),a.stateNode=f):a.memoizedState=Jw(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Ia(a),r===null&&Pe&&(f=a.stateNode=Ww(a.type,a.pendingProps,ve.current),Lt=a,Vi=!0,g=et,zs(a.type)?(sm=g,et=Gi(f.firstChild)):et=g),jt(r,a,a.pendingProps.children,u),Ju(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&Pe&&((g=f=et)&&(f=OE(f,a.type,a.pendingProps,Vi),f!==null?(a.stateNode=f,Lt=a,et=Gi(f.firstChild),Vi=!1,g=!0):g=!1),g||xs(a)),Ia(a),g=a.type,O=a.pendingProps,S=r!==null?r.memoizedProps:null,f=O.children,Fg(g,O)?f=null:S!==null&&Fg(g,S)&&(a.flags|=32),a.memoizedState!==null&&(g=Jp(r,a,R2,null,null,u),Lo._currentValue=g),Ju(r,a),jt(r,a,f,u),a.child;case 6:return r===null&&Pe&&((r=u=et)&&(u=yE(u,a.pendingProps,Vi),u!==null?(a.stateNode=u,Lt=a,et=null,r=!0):r=!1),r||xs(a)),null;case 13:return zS(r,a,u);case 4:return Kt(a,a.stateNode.containerInfo),f=a.pendingProps,r===null?a.child=_r(a,null,f,u):jt(r,a,f,u),a.child;case 11:return CS(r,a,a.type,a.pendingProps,u);case 7:return jt(r,a,a.pendingProps,u),a.child;case 8:return jt(r,a,a.pendingProps.children,u),a.child;case 12:return jt(r,a,a.pendingProps.children,u),a.child;case 10:return f=a.pendingProps,_s(a,a.type,f.value),jt(r,a,f.children,u),a.child;case 9:return g=a.type._context,f=a.pendingProps.children,Sr(a),g=zt(g),f=f(g),a.flags|=1,jt(r,a,f,u),a.child;case 14:return $S(r,a,a.type,a.pendingProps,u);case 15:return ES(r,a,a.type,a.pendingProps,u);case 19:return US(r,a,u);case 31:return U2(r,a,u);case 22:return RS(r,a,u,a.pendingProps);case 24:return Sr(a),f=zt(gt),r===null?(g=Bp(),g===null&&(g=Ie,O=Up(),g.pooledCache=O,O.refCount++,O!==null&&(g.pooledCacheLanes|=u),g=O),a.memoizedState={parent:f,cache:g},qp(a),_s(a,gt,g)):((r.lanes&u)!==0&&(Yp(r,a),Oo(a,null,null,u),mo()),g=r.memoizedState,O=a.memoizedState,g.parent!==f?(g={parent:f,cache:f},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),_s(a,gt,f)):(f=O.cache,_s(a,gt,f),f!==g.cache&&jp(a,[gt],u,!0))),jt(r,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(n(156,a.tag))}function es(r){r.flags|=4}function Tg(r,a,u,f,g){if((a=(r.mode&32)!==0)&&(a=!1),a){if(r.flags|=16777216,(g&335544128)===g)if(r.stateNode.complete)r.flags|=8192;else if(pw())r.flags|=8192;else throw xr=Lu,Xp}else r.flags&=-16777217}function BS(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!n1(a))if(pw())r.flags|=8192;else throw xr=Lu,Xp}function eh(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Sb():536870912,r.lanes|=a,Dl|=a)}function ko(r,a){if(!Pe)switch(r.tailMode){case"hidden":a=r.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function tt(r){var a=r.alternate!==null&&r.alternate.child===r.child,u=0,f=0;if(a)for(var g=r.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=f,r.childLanes=u,a}function B2(r,a,u){var f=a.pendingProps;switch(Pp(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(a),null;case 1:return tt(a),null;case 3:return u=a.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),Hn(gt),ct(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(wl(a)?es(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Zp())),tt(a),null;case 26:var g=a.type,O=a.memoizedState;return r===null?(es(a),O!==null?(tt(a),BS(a,O)):(tt(a),Tg(a,g,null,f,u))):O?O!==r.memoizedState?(es(a),tt(a),BS(a,O)):(tt(a),a.flags&=-16777217):(r=r.memoizedProps,r!==f&&es(a),tt(a),Tg(a,g,r,f,u)),null;case 27:if(hu(a),u=ve.current,g=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==f&&es(a);else{if(!f){if(a.stateNode===null)throw Error(n(166));return tt(a),null}r=J.current,wl(a)?Sv(a):(r=Ww(g,f,u),a.stateNode=r,es(a))}return tt(a),null;case 5:if(hu(a),g=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==f&&es(a);else{if(!f){if(a.stateNode===null)throw Error(n(166));return tt(a),null}if(O=J.current,wl(a))Sv(a);else{var S=gh(ve.current);switch(O){case 1:O=S.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:O=S.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":O=S.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":O=S.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":O=S.createElement("div"),O.innerHTML="<script><\/script>",O=O.removeChild(O.firstChild);break;case"select":O=typeof f.is=="string"?S.createElement("select",{is:f.is}):S.createElement("select"),f.multiple?O.multiple=!0:f.size&&(O.size=f.size);break;default:O=typeof f.is=="string"?S.createElement(g,{is:f.is}):S.createElement(g)}}O[Zt]=a,O[ii]=f;e:for(S=a.child;S!==null;){if(S.tag===5||S.tag===6)O.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===a)break e;for(;S.sibling===null;){if(S.return===null||S.return===a)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}a.stateNode=O;e:switch(Ut(O,g,f),g){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&es(a)}}return tt(a),Tg(a,a.type,r===null?null:r.memoizedProps,a.pendingProps,u),null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==f&&es(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(n(166));if(r=ve.current,wl(a)){if(r=a.stateNode,u=a.memoizedProps,f=null,g=Lt,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}r[Zt]=a,r=!!(r.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||zw(r.nodeValue,u)),r||xs(a,!0)}else r=gh(r).createTextNode(f),r[Zt]=a,a.stateNode=r}return tt(a),null;case 31:if(u=a.memoizedState,r===null||r.memoizedState!==null){if(f=wl(a),u!==null){if(r===null){if(!f)throw Error(n(318));if(r=a.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(557));r[Zt]=a}else br(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;tt(a),r=!1}else u=Zp(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=u),r=!0;if(!r)return a.flags&256?(_i(a),a):(_i(a),null);if((a.flags&128)!==0)throw Error(n(558))}return tt(a),null;case 13:if(f=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=wl(a),f!==null&&f.dehydrated!==null){if(r===null){if(!g)throw Error(n(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[Zt]=a}else br(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;tt(a),g=!1}else g=Zp(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(_i(a),a):(_i(a),null)}return _i(a),(a.flags&128)!==0?(a.lanes=u,a):(u=f!==null,r=r!==null&&r.memoizedState!==null,u&&(f=a.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool),O=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(O=f.memoizedState.cachePool.pool),O!==g&&(f.flags|=2048)),u!==r&&u&&(a.child.flags|=8192),eh(a,a.updateQueue),tt(a),null);case 4:return ct(),r===null&&Gg(a.stateNode.containerInfo),tt(a),null;case 10:return Hn(a.type),tt(a),null;case 19:if(N(ut),f=a.memoizedState,f===null)return tt(a),null;if(g=(a.flags&128)!==0,O=f.rendering,O===null)if(g)ko(f,!1);else{if(at!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(O=Nu(r),O!==null){for(a.flags|=128,ko(f,!1),r=O.updateQueue,a.updateQueue=r,eh(a,r),a.subtreeFlags=0,r=u,u=a.child;u!==null;)mv(u,r),u=u.sibling;return G(ut,ut.current&1|2),Pe&&Gn(a,f.treeForkCount),a.child}r=r.sibling}f.tail!==null&&bi()>rh&&(a.flags|=128,g=!0,ko(f,!1),a.lanes=4194304)}else{if(!g)if(r=Nu(O),r!==null){if(a.flags|=128,g=!0,r=r.updateQueue,a.updateQueue=r,eh(a,r),ko(f,!0),f.tail===null&&f.tailMode==="hidden"&&!O.alternate&&!Pe)return tt(a),null}else 2*bi()-f.renderingStartTime>rh&&u!==536870912&&(a.flags|=128,g=!0,ko(f,!1),a.lanes=4194304);f.isBackwards?(O.sibling=a.child,a.child=O):(r=f.last,r!==null?r.sibling=O:a.child=O,f.last=O)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=bi(),r.sibling=null,u=ut.current,G(ut,g?u&1|2:u&1),Pe&&Gn(a,f.treeForkCount),r):(tt(a),null);case 22:case 23:return _i(a),Wp(),f=a.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(u&536870912)!==0&&(a.flags&128)===0&&(tt(a),a.subtreeFlags&6&&(a.flags|=8192)):tt(a),u=a.updateQueue,u!==null&&eh(a,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==u&&(a.flags|=2048),r!==null&&N(wr),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Hn(gt),tt(a),null;case 25:return null;case 30:return null}throw Error(n(156,a.tag))}function X2(r,a){switch(Pp(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Hn(gt),ct(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return hu(a),null;case 31:if(a.memoizedState!==null){if(_i(a),a.alternate===null)throw Error(n(340));br()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 13:if(_i(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(n(340));br()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return N(ut),null;case 4:return ct(),null;case 10:return Hn(a.type),null;case 22:case 23:return _i(a),Wp(),r!==null&&N(wr),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Hn(gt),null;case 25:return null;default:return null}}function XS(r,a){switch(Pp(a),a.tag){case 3:Hn(gt),ct();break;case 26:case 27:case 5:hu(a);break;case 4:ct();break;case 31:a.memoizedState!==null&&_i(a);break;case 13:_i(a);break;case 19:N(ut);break;case 10:Hn(a.type);break;case 22:case 23:_i(a),Wp(),r!==null&&N(wr);break;case 24:Hn(gt)}}function xo(r,a){try{var u=a.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&r)===r){f=void 0;var O=u.create,S=u.inst;f=O(),S.destroy=f}u=u.next}while(u!==g)}}catch(k){Be(a,a.return,k)}}function Es(r,a,u){try{var f=a.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var O=g.next;f=O;do{if((f.tag&r)===r){var S=f.inst,k=S.destroy;if(k!==void 0){S.destroy=void 0,g=a;var T=u,M=k;try{M()}catch(U){Be(g,T,U)}}}f=f.next}while(f!==O)}}catch(U){Be(a,a.return,U)}}function qS(r){var a=r.updateQueue;if(a!==null){var u=r.stateNode;try{Pv(a,u)}catch(f){Be(r,r.return,f)}}}function YS(r,a,u){u.props=Qr(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(f){Be(r,a,f)}}function _o(r,a){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof u=="function"?r.refCleanup=u(f):u.current=f}}catch(g){Be(r,a,g)}}function xn(r,a){var u=r.ref,f=r.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(g){Be(r,a,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(g){Be(r,a,g)}else u.current=null}function VS(r){var a=r.type,u=r.memoizedProps,f=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(g){Be(r,r.return,g)}}function Qg(r,a,u){try{var f=r.stateNode;hE(f,r.type,u,a),f[ii]=a}catch(g){Be(r,r.return,g)}}function IS(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&zs(r.type)||r.tag===4}function Ag(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||IS(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&zs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Cg(r,a,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(r),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Yn));else if(f!==4&&(f===27&&zs(r.type)&&(u=r.stateNode,a=null),r=r.child,r!==null))for(Cg(r,a,u),r=r.sibling;r!==null;)Cg(r,a,u),r=r.sibling}function th(r,a,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,a?u.insertBefore(r,a):u.appendChild(r);else if(f!==4&&(f===27&&zs(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(th(r,a,u),r=r.sibling;r!==null;)th(r,a,u),r=r.sibling}function GS(r){var a=r.stateNode,u=r.memoizedProps;try{for(var f=r.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);Ut(a,f,u),a[Zt]=r,a[ii]=u}catch(O){Be(r,r.return,O)}}var ts=!1,yt=!1,$g=!1,WS=typeof WeakSet=="function"?WeakSet:Set,$t=null;function q2(r,a){if(r=r.containerInfo,Kg=wh,r=av(r),kp(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,O=f.focusNode;f=f.focusOffset;try{u.nodeType,O.nodeType}catch{u=null;break e}var S=0,k=-1,T=-1,M=0,U=0,V=r,P=null;t:for(;;){for(var L;V!==u||g!==0&&V.nodeType!==3||(k=S+g),V!==O||f!==0&&V.nodeType!==3||(T=S+f),V.nodeType===3&&(S+=V.nodeValue.length),(L=V.firstChild)!==null;)P=V,V=L;for(;;){if(V===r)break t;if(P===u&&++M===g&&(k=S),P===O&&++U===f&&(T=S),(L=V.nextSibling)!==null)break;V=P,P=V.parentNode}V=L}u=k===-1||T===-1?null:{start:k,end:T}}else u=null}u=u||{start:0,end:0}}else u=null;for(Jg={focusedElem:r,selectionRange:u},wh=!1,$t=a;$t!==null;)if(a=$t,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,$t=r;else for(;$t!==null;){switch(a=$t,O=a.alternate,r=a.flags,a.tag){case 0:if((r&4)!==0&&(r=a.updateQueue,r=r!==null?r.events:null,r!==null))for(u=0;u<r.length;u++)g=r[u],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&O!==null){r=void 0,u=a,g=O.memoizedProps,O=O.memoizedState,f=u.stateNode;try{var ie=Qr(u.type,g);r=f.getSnapshotBeforeUpdate(ie,O),f.__reactInternalSnapshotBeforeUpdate=r}catch(ue){Be(u,u.return,ue)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,u=r.nodeType,u===9)tm(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":tm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(n(163))}if(r=a.sibling,r!==null){r.return=a.return,$t=r;break}$t=a.return}}function HS(r,a,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:ns(r,u),f&4&&xo(5,u);break;case 1:if(ns(r,u),f&4)if(r=u.stateNode,a===null)try{r.componentDidMount()}catch(S){Be(u,u.return,S)}else{var g=Qr(u.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(g,a,r.__reactInternalSnapshotBeforeUpdate)}catch(S){Be(u,u.return,S)}}f&64&&qS(u),f&512&&_o(u,u.return);break;case 3:if(ns(r,u),f&64&&(r=u.updateQueue,r!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{Pv(r,a)}catch(S){Be(u,u.return,S)}}break;case 27:a===null&&f&4&&GS(u);case 26:case 5:ns(r,u),a===null&&f&4&&VS(u),f&512&&_o(u,u.return);break;case 12:ns(r,u);break;case 31:ns(r,u),f&4&&FS(r,u);break;case 13:ns(r,u),f&4&&ew(r,u),f&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=F2.bind(null,u),bE(r,u))));break;case 22:if(f=u.memoizedState!==null||ts,!f){a=a!==null&&a.memoizedState!==null||yt,g=ts;var O=yt;ts=f,(yt=a)&&!O?ss(r,u,(u.subtreeFlags&8772)!==0):ns(r,u),ts=g,yt=O}break;case 30:break;default:ns(r,u)}}function KS(r){var a=r.alternate;a!==null&&(r.alternate=null,KS(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&lp(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var it=null,si=!1;function is(r,a,u){for(u=u.child;u!==null;)JS(r,a,u),u=u.sibling}function JS(r,a,u){if(vi&&typeof vi.onCommitFiberUnmount=="function")try{vi.onCommitFiberUnmount(Ga,u)}catch{}switch(u.tag){case 26:yt||xn(u,a),is(r,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:yt||xn(u,a);var f=it,g=si;zs(u.type)&&(it=u.stateNode,si=!1),is(r,a,u),Po(u.stateNode),it=f,si=g;break;case 5:yt||xn(u,a);case 6:if(f=it,g=si,it=null,is(r,a,u),it=f,si=g,it!==null)if(si)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(u.stateNode)}catch(O){Be(u,a,O)}else try{it.removeChild(u.stateNode)}catch(O){Be(u,a,O)}break;case 18:it!==null&&(si?(r=it,qw(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),Xl(r)):qw(it,u.stateNode));break;case 4:f=it,g=si,it=u.stateNode.containerInfo,si=!0,is(r,a,u),it=f,si=g;break;case 0:case 11:case 14:case 15:Es(2,u,a),yt||Es(4,u,a),is(r,a,u);break;case 1:yt||(xn(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"&&YS(u,a,f)),is(r,a,u);break;case 21:is(r,a,u);break;case 22:yt=(f=yt)||u.memoizedState!==null,is(r,a,u),yt=f;break;default:is(r,a,u)}}function FS(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Xl(r)}catch(u){Be(a,a.return,u)}}}function ew(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Xl(r)}catch(u){Be(a,a.return,u)}}function Y2(r){switch(r.tag){case 31:case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new WS),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new WS),a;default:throw Error(n(435,r.tag))}}function ih(r,a){var u=Y2(r);a.forEach(function(f){if(!u.has(f)){u.add(f);var g=eE.bind(null,r,f);f.then(g,g)}})}function ri(r,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f],O=r,S=a,k=S;e:for(;k!==null;){switch(k.tag){case 27:if(zs(k.type)){it=k.stateNode,si=!1;break e}break;case 5:it=k.stateNode,si=!1;break e;case 3:case 4:it=k.stateNode.containerInfo,si=!0;break e}k=k.return}if(it===null)throw Error(n(160));JS(O,S,g),it=null,si=!1,O=g.alternate,O!==null&&(O.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)tw(a,r),a=a.sibling}var ln=null;function tw(r,a){var u=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ri(a,r),li(r),f&4&&(Es(3,r,r.return),xo(3,r),Es(5,r,r.return));break;case 1:ri(a,r),li(r),f&512&&(yt||u===null||xn(u,u.return)),f&64&&ts&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var g=ln;if(ri(a,r),li(r),f&512&&(yt||u===null||xn(u,u.return)),f&4){var O=u!==null?u.memoizedState:null;if(f=r.memoizedState,u===null)if(f===null)if(r.stateNode===null){e:{f=r.type,u=r.memoizedProps,g=g.ownerDocument||g;t:switch(f){case"title":O=g.getElementsByTagName("title")[0],(!O||O[Ka]||O[Zt]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=g.createElement(f),g.head.insertBefore(O,g.querySelector("head > title"))),Ut(O,f,u),O[Zt]=r,Ct(O),f=O;break e;case"link":var S=t1("link","href",g).get(f+(u.href||""));if(S){for(var k=0;k<S.length;k++)if(O=S[k],O.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&O.getAttribute("rel")===(u.rel==null?null:u.rel)&&O.getAttribute("title")===(u.title==null?null:u.title)&&O.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){S.splice(k,1);break t}}O=g.createElement(f),Ut(O,f,u),g.head.appendChild(O);break;case"meta":if(S=t1("meta","content",g).get(f+(u.content||""))){for(k=0;k<S.length;k++)if(O=S[k],O.getAttribute("content")===(u.content==null?null:""+u.content)&&O.getAttribute("name")===(u.name==null?null:u.name)&&O.getAttribute("property")===(u.property==null?null:u.property)&&O.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&O.getAttribute("charset")===(u.charSet==null?null:u.charSet)){S.splice(k,1);break t}}O=g.createElement(f),Ut(O,f,u),g.head.appendChild(O);break;default:throw Error(n(468,f))}O[Zt]=r,Ct(O),f=O}r.stateNode=f}else i1(g,r.type,r.stateNode);else r.stateNode=e1(g,f,r.memoizedProps);else O!==f?(O===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):O.count--,f===null?i1(g,r.type,r.stateNode):e1(g,f,r.memoizedProps)):f===null&&r.stateNode!==null&&Qg(r,r.memoizedProps,u.memoizedProps)}break;case 27:ri(a,r),li(r),f&512&&(yt||u===null||xn(u,u.return)),u!==null&&f&4&&Qg(r,r.memoizedProps,u.memoizedProps);break;case 5:if(ri(a,r),li(r),f&512&&(yt||u===null||xn(u,u.return)),r.flags&32){g=r.stateNode;try{fl(g,"")}catch(ie){Be(r,r.return,ie)}}f&4&&r.stateNode!=null&&(g=r.memoizedProps,Qg(r,g,u!==null?u.memoizedProps:g)),f&1024&&($g=!0);break;case 6:if(ri(a,r),li(r),f&4){if(r.stateNode===null)throw Error(n(162));f=r.memoizedProps,u=r.stateNode;try{u.nodeValue=f}catch(ie){Be(r,r.return,ie)}}break;case 3:if(yh=null,g=ln,ln=mh(a.containerInfo),ri(a,r),ln=g,li(r),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Xl(a.containerInfo)}catch(ie){Be(r,r.return,ie)}$g&&($g=!1,iw(r));break;case 4:f=ln,ln=mh(r.stateNode.containerInfo),ri(a,r),li(r),ln=f;break;case 12:ri(a,r),li(r);break;case 31:ri(a,r),li(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,ih(r,f)));break;case 13:ri(a,r),li(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(sh=bi()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,ih(r,f)));break;case 22:g=r.memoizedState!==null;var T=u!==null&&u.memoizedState!==null,M=ts,U=yt;if(ts=M||g,yt=U||T,ri(a,r),yt=U,ts=M,li(r),f&8192)e:for(a=r.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(u===null||T||ts||yt||Ar(r)),u=null,a=r;;){if(a.tag===5||a.tag===26){if(u===null){T=u=a;try{if(O=T.stateNode,g)S=O.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{k=T.stateNode;var V=T.memoizedProps.style,P=V!=null&&V.hasOwnProperty("display")?V.display:null;k.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(ie){Be(T,T.return,ie)}}}else if(a.tag===6){if(u===null){T=a;try{T.stateNode.nodeValue=g?"":T.memoizedProps}catch(ie){Be(T,T.return,ie)}}}else if(a.tag===18){if(u===null){T=a;try{var L=T.stateNode;g?Yw(L,!0):Yw(T.stateNode,!1)}catch(ie){Be(T,T.return,ie)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=r.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,ih(r,u))));break;case 19:ri(a,r),li(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,ih(r,f)));break;case 30:break;case 21:break;default:ri(a,r),li(r)}}function li(r){var a=r.flags;if(a&2){try{for(var u,f=r.return;f!==null;){if(IS(f)){u=f;break}f=f.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var g=u.stateNode,O=Ag(r);th(r,O,g);break;case 5:var S=u.stateNode;u.flags&32&&(fl(S,""),u.flags&=-33);var k=Ag(r);th(r,k,S);break;case 3:case 4:var T=u.stateNode.containerInfo,M=Ag(r);Cg(r,M,T);break;default:throw Error(n(161))}}catch(U){Be(r,r.return,U)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function iw(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;iw(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function ns(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)HS(r,a.alternate,a),a=a.sibling}function Ar(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Es(4,a,a.return),Ar(a);break;case 1:xn(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&YS(a,a.return,u),Ar(a);break;case 27:Po(a.stateNode);case 26:case 5:xn(a,a.return),Ar(a);break;case 22:a.memoizedState===null&&Ar(a);break;case 30:Ar(a);break;default:Ar(a)}r=r.sibling}}function ss(r,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,g=r,O=a,S=O.flags;switch(O.tag){case 0:case 11:case 15:ss(g,O,u),xo(4,O);break;case 1:if(ss(g,O,u),f=O,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(M){Be(f,f.return,M)}if(f=O,g=f.updateQueue,g!==null){var k=f.stateNode;try{var T=g.shared.hiddenCallbacks;if(T!==null)for(g.shared.hiddenCallbacks=null,g=0;g<T.length;g++)Mv(T[g],k)}catch(M){Be(f,f.return,M)}}u&&S&64&&qS(O),_o(O,O.return);break;case 27:GS(O);case 26:case 5:ss(g,O,u),u&&f===null&&S&4&&VS(O),_o(O,O.return);break;case 12:ss(g,O,u);break;case 31:ss(g,O,u),u&&S&4&&FS(g,O);break;case 13:ss(g,O,u),u&&S&4&&ew(g,O);break;case 22:O.memoizedState===null&&ss(g,O,u),_o(O,O.return);break;case 30:break;default:ss(g,O,u)}a=a.sibling}}function Eg(r,a){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&uo(u))}function Rg(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&uo(r))}function an(r,a,u,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)nw(r,a,u,f),a=a.sibling}function nw(r,a,u,f){var g=a.flags;switch(a.tag){case 0:case 11:case 15:an(r,a,u,f),g&2048&&xo(9,a);break;case 1:an(r,a,u,f);break;case 3:an(r,a,u,f),g&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&uo(r)));break;case 12:if(g&2048){an(r,a,u,f),r=a.stateNode;try{var O=a.memoizedProps,S=O.id,k=O.onPostCommit;typeof k=="function"&&k(S,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(T){Be(a,a.return,T)}}else an(r,a,u,f);break;case 31:an(r,a,u,f);break;case 13:an(r,a,u,f);break;case 23:break;case 22:O=a.stateNode,S=a.alternate,a.memoizedState!==null?O._visibility&2?an(r,a,u,f):To(r,a):O._visibility&2?an(r,a,u,f):(O._visibility|=2,Rl(r,a,u,f,(a.subtreeFlags&10256)!==0||!1)),g&2048&&Eg(S,a);break;case 24:an(r,a,u,f),g&2048&&Rg(a.alternate,a);break;default:an(r,a,u,f)}}function Rl(r,a,u,f,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var O=r,S=a,k=u,T=f,M=S.flags;switch(S.tag){case 0:case 11:case 15:Rl(O,S,k,T,g),xo(8,S);break;case 23:break;case 22:var U=S.stateNode;S.memoizedState!==null?U._visibility&2?Rl(O,S,k,T,g):To(O,S):(U._visibility|=2,Rl(O,S,k,T,g)),g&&M&2048&&Eg(S.alternate,S);break;case 24:Rl(O,S,k,T,g),g&&M&2048&&Rg(S.alternate,S);break;default:Rl(O,S,k,T,g)}a=a.sibling}}function To(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=r,f=a,g=f.flags;switch(f.tag){case 22:To(u,f),g&2048&&Eg(f.alternate,f);break;case 24:To(u,f),g&2048&&Rg(f.alternate,f);break;default:To(u,f)}a=a.sibling}}var Qo=8192;function Ml(r,a,u){if(r.subtreeFlags&Qo)for(r=r.child;r!==null;)sw(r,a,u),r=r.sibling}function sw(r,a,u){switch(r.tag){case 26:Ml(r,a,u),r.flags&Qo&&r.memoizedState!==null&&EE(u,ln,r.memoizedState,r.memoizedProps);break;case 5:Ml(r,a,u);break;case 3:case 4:var f=ln;ln=mh(r.stateNode.containerInfo),Ml(r,a,u),ln=f;break;case 22:r.memoizedState===null&&(f=r.alternate,f!==null&&f.memoizedState!==null?(f=Qo,Qo=16777216,Ml(r,a,u),Qo=f):Ml(r,a,u));break;default:Ml(r,a,u)}}function rw(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Ao(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];$t=f,aw(f,r)}rw(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)lw(r),r=r.sibling}function lw(r){switch(r.tag){case 0:case 11:case 15:Ao(r),r.flags&2048&&Es(9,r,r.return);break;case 3:Ao(r);break;case 12:Ao(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,nh(r)):Ao(r);break;default:Ao(r)}}function nh(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];$t=f,aw(f,r)}rw(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Es(8,a,a.return),nh(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,nh(a));break;default:nh(a)}r=r.sibling}}function aw(r,a){for(;$t!==null;){var u=$t;switch(u.tag){case 0:case 11:case 15:Es(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:uo(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,$t=f;else e:for(u=r;$t!==null;){f=$t;var g=f.sibling,O=f.return;if(KS(f),f===u){$t=null;break e}if(g!==null){g.return=O,$t=g;break e}$t=O}}}var V2={getCacheForType:function(r){var a=zt(gt),u=a.data.get(r);return u===void 0&&(u=r(),a.data.set(r,u)),u},cacheSignal:function(){return zt(gt).controller.signal}},I2=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Ie=null,Ae=null,Ee=0,Ne=0,Ti=null,Rs=!1,Pl=!1,Mg=!1,rs=0,at=0,Ms=0,Cr=0,Pg=0,Qi=0,Dl=0,Co=null,ai=null,Dg=!1,sh=0,ow=0,rh=1/0,lh=null,Ps=null,kt=0,Ds=null,Zl=null,ls=0,Zg=0,Lg=null,cw=null,$o=0,zg=null;function Ai(){return(Ue&2)!==0&&Ee!==0?Ee&-Ee:Z.T!==null?qg():_b()}function uw(){if(Qi===0)if((Ee&536870912)===0||Pe){var r=pu;pu<<=1,(pu&3932160)===0&&(pu=262144),Qi=r}else Qi=536870912;return r=xi.current,r!==null&&(r.flags|=32),Qi}function oi(r,a,u){(r===Ie&&(Ne===2||Ne===9)||r.cancelPendingCommit!==null)&&(Ll(r,0),Zs(r,Ee,Qi,!1)),Ha(r,u),((Ue&2)===0||r!==Ie)&&(r===Ie&&((Ue&2)===0&&(Cr|=u),at===4&&Zs(r,Ee,Qi,!1)),_n(r))}function hw(r,a,u){if((Ue&6)!==0)throw Error(n(327));var f=!u&&(a&127)===0&&(a&r.expiredLanes)===0||Wa(r,a),g=f?H2(r,a):Ug(r,a,!0),O=f;do{if(g===0){Pl&&!f&&Zs(r,a,0,!1);break}else{if(u=r.current.alternate,O&&!G2(u)){g=Ug(r,a,!1),O=!1;continue}if(g===2){if(O=a,r.errorRecoveryDisabledLanes&O)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){a=S;e:{var k=r;g=Co;var T=k.current.memoizedState.isDehydrated;if(T&&(Ll(k,S).flags|=256),S=Ug(k,S,!1),S!==2){if(Mg&&!T){k.errorRecoveryDisabledLanes|=O,Cr|=O,g=4;break e}O=ai,ai=g,O!==null&&(ai===null?ai=O:ai.push.apply(ai,O))}g=S}if(O=!1,g!==2)continue}}if(g===1){Ll(r,0),Zs(r,a,0,!0);break}e:{switch(f=r,O=g,O){case 0:case 1:throw Error(n(345));case 4:if((a&4194048)!==a)break;case 6:Zs(f,a,Qi,!Rs);break e;case 2:ai=null;break;case 3:case 5:break;default:throw Error(n(329))}if((a&62914560)===a&&(g=sh+300-bi(),10<g)){if(Zs(f,a,Qi,!Rs),mu(f,0,!0)!==0)break e;ls=a,f.timeoutHandle=Bw(fw.bind(null,f,u,ai,lh,Dg,a,Qi,Cr,Dl,Rs,O,"Throttled",-0,0),g);break e}fw(f,u,ai,lh,Dg,a,Qi,Cr,Dl,Rs,O,null,-0,0)}}break}while(!0);_n(r)}function fw(r,a,u,f,g,O,S,k,T,M,U,V,P,L){if(r.timeoutHandle=-1,V=a.subtreeFlags,V&8192||(V&16785408)===16785408){V={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},sw(a,O,V);var ie=(O&62914560)===O?sh-bi():(O&4194048)===O?ow-bi():0;if(ie=RE(V,ie),ie!==null){ls=O,r.cancelPendingCommit=ie(vw.bind(null,r,a,O,u,f,g,S,k,T,U,V,null,P,L)),Zs(r,O,S,!M);return}}vw(r,a,O,u,f,g,S,k,T)}function G2(r){for(var a=r;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var g=u[f],O=g.getSnapshot;g=g.value;try{if(!wi(O(),g))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Zs(r,a,u,f){a&=~Pg,a&=~Cr,r.suspendedLanes|=a,r.pingedLanes&=~a,f&&(r.warmLanes|=a),f=r.expirationTimes;for(var g=a;0<g;){var O=31-Si(g),S=1<<O;f[O]=-1,g&=~S}u!==0&&wb(r,u,a)}function ah(){return(Ue&6)===0?(Eo(0),!1):!0}function jg(){if(Ae!==null){if(Ne===0)var r=Ae.return;else r=Ae,Wn=vr=null,tg(r),Ql=null,fo=0,r=Ae;for(;r!==null;)XS(r.alternate,r),r=r.return;Ae=null}}function Ll(r,a){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,pE(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),ls=0,jg(),Ie=r,Ae=u=In(r.current,null),Ee=a,Ne=0,Ti=null,Rs=!1,Pl=Wa(r,a),Mg=!1,Dl=Qi=Pg=Cr=Ms=at=0,ai=Co=null,Dg=!1,(a&8)!==0&&(a|=a&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=a;0<f;){var g=31-Si(f),O=1<<g;a|=r[g],f&=~O}return rs=a,Au(),u}function dw(r,a){Se=null,Z.H=So,a===Tl||a===Zu?(a=Cv(),Ne=3):a===Xp?(a=Cv(),Ne=4):Ne=a===Og?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ti=a,Ae===null&&(at=1,Hu(r,Xi(a,r.current)))}function pw(){var r=xi.current;return r===null?!0:(Ee&4194048)===Ee?Ii===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?r===Ii:!1}function gw(){var r=Z.H;return Z.H=So,r===null?So:r}function mw(){var r=Z.A;return Z.A=V2,r}function oh(){at=4,Rs||(Ee&4194048)!==Ee&&xi.current!==null||(Pl=!0),(Ms&134217727)===0&&(Cr&134217727)===0||Ie===null||Zs(Ie,Ee,Qi,!1)}function Ug(r,a,u){var f=Ue;Ue|=2;var g=gw(),O=mw();(Ie!==r||Ee!==a)&&(lh=null,Ll(r,a)),a=!1;var S=at;e:do try{if(Ne!==0&&Ae!==null){var k=Ae,T=Ti;switch(Ne){case 8:jg(),S=6;break e;case 3:case 2:case 9:case 6:xi.current===null&&(a=!0);var M=Ne;if(Ne=0,Ti=null,zl(r,k,T,M),u&&Pl){S=0;break e}break;default:M=Ne,Ne=0,Ti=null,zl(r,k,T,M)}}W2(),S=at;break}catch(U){dw(r,U)}while(!0);return a&&r.shellSuspendCounter++,Wn=vr=null,Ue=f,Z.H=g,Z.A=O,Ae===null&&(Ie=null,Ee=0,Au()),S}function W2(){for(;Ae!==null;)Ow(Ae)}function H2(r,a){var u=Ue;Ue|=2;var f=gw(),g=mw();Ie!==r||Ee!==a?(lh=null,rh=bi()+500,Ll(r,a)):Pl=Wa(r,a);e:do try{if(Ne!==0&&Ae!==null){a=Ae;var O=Ti;t:switch(Ne){case 1:Ne=0,Ti=null,zl(r,a,O,1);break;case 2:case 9:if(Qv(O)){Ne=0,Ti=null,yw(a);break}a=function(){Ne!==2&&Ne!==9||Ie!==r||(Ne=7),_n(r)},O.then(a,a);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:Qv(O)?(Ne=0,Ti=null,yw(a)):(Ne=0,Ti=null,zl(r,a,O,7));break;case 5:var S=null;switch(Ae.tag){case 26:S=Ae.memoizedState;case 5:case 27:var k=Ae;if(S?n1(S):k.stateNode.complete){Ne=0,Ti=null;var T=k.sibling;if(T!==null)Ae=T;else{var M=k.return;M!==null?(Ae=M,ch(M)):Ae=null}break t}}Ne=0,Ti=null,zl(r,a,O,5);break;case 6:Ne=0,Ti=null,zl(r,a,O,6);break;case 8:jg(),at=6;break e;default:throw Error(n(462))}}K2();break}catch(U){dw(r,U)}while(!0);return Wn=vr=null,Z.H=f,Z.A=g,Ue=u,Ae!==null?0:(Ie=null,Ee=0,Au(),at)}function K2(){for(;Ae!==null&&!v$();)Ow(Ae)}function Ow(r){var a=NS(r.alternate,r,rs);r.memoizedProps=r.pendingProps,a===null?ch(r):Ae=a}function yw(r){var a=r,u=a.alternate;switch(a.tag){case 15:case 0:a=DS(u,a,a.pendingProps,a.type,void 0,Ee);break;case 11:a=DS(u,a,a.pendingProps,a.type.render,a.ref,Ee);break;case 5:tg(a);default:XS(u,a),a=Ae=mv(a,rs),a=NS(u,a,rs)}r.memoizedProps=r.pendingProps,a===null?ch(r):Ae=a}function zl(r,a,u,f){Wn=vr=null,tg(a),Ql=null,fo=0;var g=a.return;try{if(j2(r,g,a,u,Ee)){at=1,Hu(r,Xi(u,r.current)),Ae=null;return}}catch(O){if(g!==null)throw Ae=g,O;at=1,Hu(r,Xi(u,r.current)),Ae=null;return}a.flags&32768?(Pe||f===1?r=!0:Pl||(Ee&536870912)!==0?r=!1:(Rs=r=!0,(f===2||f===9||f===3||f===6)&&(f=xi.current,f!==null&&f.tag===13&&(f.flags|=16384))),bw(a,r)):ch(a)}function ch(r){var a=r;do{if((a.flags&32768)!==0){bw(a,Rs);return}r=a.return;var u=B2(a.alternate,a,rs);if(u!==null){Ae=u;return}if(a=a.sibling,a!==null){Ae=a;return}Ae=a=r}while(a!==null);at===0&&(at=5)}function bw(r,a){do{var u=X2(r.alternate,r);if(u!==null){u.flags&=32767,Ae=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(r=r.sibling,r!==null)){Ae=r;return}Ae=r=u}while(r!==null);at=6,Ae=null}function vw(r,a,u,f,g,O,S,k,T){r.cancelPendingCommit=null;do uh();while(kt!==0);if((Ue&6)!==0)throw Error(n(327));if(a!==null){if(a===r.current)throw Error(n(177));if(O=a.lanes|a.childLanes,O|=Ap,$$(r,u,O,S,k,T),r===Ie&&(Ae=Ie=null,Ee=0),Zl=a,Ds=r,ls=u,Zg=O,Lg=g,cw=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,tE(fu,function(){return _w(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=Z.T,Z.T=null,g=I.p,I.p=2,S=Ue,Ue|=4;try{q2(r,a,u)}finally{Ue=S,I.p=g,Z.T=f}}kt=1,Sw(),ww(),kw()}}function Sw(){if(kt===1){kt=0;var r=Ds,a=Zl,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null;var f=I.p;I.p=2;var g=Ue;Ue|=4;try{tw(a,r);var O=Jg,S=av(r.containerInfo),k=O.focusedElem,T=O.selectionRange;if(S!==k&&k&&k.ownerDocument&&lv(k.ownerDocument.documentElement,k)){if(T!==null&&kp(k)){var M=T.start,U=T.end;if(U===void 0&&(U=M),"selectionStart"in k)k.selectionStart=M,k.selectionEnd=Math.min(U,k.value.length);else{var V=k.ownerDocument||document,P=V&&V.defaultView||window;if(P.getSelection){var L=P.getSelection(),ie=k.textContent.length,ue=Math.min(T.start,ie),Ye=T.end===void 0?ue:Math.min(T.end,ie);!L.extend&&ue>Ye&&(S=Ye,Ye=ue,ue=S);var $=rv(k,ue),A=rv(k,Ye);if($&&A&&(L.rangeCount!==1||L.anchorNode!==$.node||L.anchorOffset!==$.offset||L.focusNode!==A.node||L.focusOffset!==A.offset)){var R=V.createRange();R.setStart($.node,$.offset),L.removeAllRanges(),ue>Ye?(L.addRange(R),L.extend(A.node,A.offset)):(R.setEnd(A.node,A.offset),L.addRange(R))}}}}for(V=[],L=k;L=L.parentNode;)L.nodeType===1&&V.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<V.length;k++){var Y=V[k];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}wh=!!Kg,Jg=Kg=null}finally{Ue=g,I.p=f,Z.T=u}}r.current=a,kt=2}}function ww(){if(kt===2){kt=0;var r=Ds,a=Zl,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=Z.T,Z.T=null;var f=I.p;I.p=2;var g=Ue;Ue|=4;try{HS(r,a.alternate,a)}finally{Ue=g,I.p=f,Z.T=u}}kt=3}}function kw(){if(kt===4||kt===3){kt=0,S$();var r=Ds,a=Zl,u=ls,f=cw;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?kt=5:(kt=0,Zl=Ds=null,xw(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(Ps=null),sp(u),a=a.stateNode,vi&&typeof vi.onCommitFiberRoot=="function")try{vi.onCommitFiberRoot(Ga,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=Z.T,g=I.p,I.p=2,Z.T=null;try{for(var O=r.onRecoverableError,S=0;S<f.length;S++){var k=f[S];O(k.value,{componentStack:k.stack})}}finally{Z.T=a,I.p=g}}(ls&3)!==0&&uh(),_n(r),g=r.pendingLanes,(u&261930)!==0&&(g&42)!==0?r===zg?$o++:($o=0,zg=r):$o=0,Eo(0)}}function xw(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,uo(a)))}function uh(){return Sw(),ww(),kw(),_w()}function _w(){if(kt!==5)return!1;var r=Ds,a=Zg;Zg=0;var u=sp(ls),f=Z.T,g=I.p;try{I.p=32>u?32:u,Z.T=null,u=Lg,Lg=null;var O=Ds,S=ls;if(kt=0,Zl=Ds=null,ls=0,(Ue&6)!==0)throw Error(n(331));var k=Ue;if(Ue|=4,lw(O.current),nw(O,O.current,S,u),Ue=k,Eo(0,!1),vi&&typeof vi.onPostCommitFiberRoot=="function")try{vi.onPostCommitFiberRoot(Ga,O)}catch{}return!0}finally{I.p=g,Z.T=f,xw(r,a)}}function Tw(r,a,u){a=Xi(u,a),a=mg(r.stateNode,a,2),r=As(r,a,2),r!==null&&(Ha(r,2),_n(r))}function Be(r,a,u){if(r.tag===3)Tw(r,r,u);else for(;a!==null;){if(a.tag===3){Tw(a,r,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ps===null||!Ps.has(f))){r=Xi(u,r),u=QS(2),f=As(a,u,2),f!==null&&(AS(u,f,a,r),Ha(f,2),_n(f));break}}a=a.return}}function Ng(r,a,u){var f=r.pingCache;if(f===null){f=r.pingCache=new I2;var g=new Set;f.set(a,g)}else g=f.get(a),g===void 0&&(g=new Set,f.set(a,g));g.has(u)||(Mg=!0,g.add(u),r=J2.bind(null,r,a,u),a.then(r,r))}function J2(r,a,u){var f=r.pingCache;f!==null&&f.delete(a),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,Ie===r&&(Ee&u)===u&&(at===4||at===3&&(Ee&62914560)===Ee&&300>bi()-sh?(Ue&2)===0&&Ll(r,0):Pg|=u,Dl===Ee&&(Dl=0)),_n(r)}function Qw(r,a){a===0&&(a=Sb()),r=Or(r,a),r!==null&&(Ha(r,a),_n(r))}function F2(r){var a=r.memoizedState,u=0;a!==null&&(u=a.retryLane),Qw(r,u)}function eE(r,a){var u=0;switch(r.tag){case 31:case 13:var f=r.stateNode,g=r.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(n(314))}f!==null&&f.delete(a),Qw(r,u)}function tE(r,a){return ep(r,a)}var hh=null,jl=null,Bg=!1,fh=!1,Xg=!1,Ls=0;function _n(r){r!==jl&&r.next===null&&(jl===null?hh=jl=r:jl=jl.next=r),fh=!0,Bg||(Bg=!0,nE())}function Eo(r,a){if(!Xg&&fh){Xg=!0;do for(var u=!1,f=hh;f!==null;){if(r!==0){var g=f.pendingLanes;if(g===0)var O=0;else{var S=f.suspendedLanes,k=f.pingedLanes;O=(1<<31-Si(42|r)+1)-1,O&=g&~(S&~k),O=O&201326741?O&201326741|1:O?O|2:0}O!==0&&(u=!0,Ew(f,O))}else O=Ee,O=mu(f,f===Ie?O:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(O&3)===0||Wa(f,O)||(u=!0,Ew(f,O));f=f.next}while(u);Xg=!1}}function iE(){Aw()}function Aw(){fh=Bg=!1;var r=0;Ls!==0&&dE()&&(r=Ls);for(var a=bi(),u=null,f=hh;f!==null;){var g=f.next,O=Cw(f,a);O===0?(f.next=null,u===null?hh=g:u.next=g,g===null&&(jl=u)):(u=f,(r!==0||(O&3)!==0)&&(fh=!0)),f=g}kt!==0&&kt!==5||Eo(r),Ls!==0&&(Ls=0)}function Cw(r,a){for(var u=r.suspendedLanes,f=r.pingedLanes,g=r.expirationTimes,O=r.pendingLanes&-62914561;0<O;){var S=31-Si(O),k=1<<S,T=g[S];T===-1?((k&u)===0||(k&f)!==0)&&(g[S]=C$(k,a)):T<=a&&(r.expiredLanes|=k),O&=~k}if(a=Ie,u=Ee,u=mu(r,r===a?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,u===0||r===a&&(Ne===2||Ne===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&tp(f),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||Wa(r,u)){if(a=u&-u,a===r.callbackPriority)return a;switch(f!==null&&tp(f),sp(u)){case 2:case 8:u=bb;break;case 32:u=fu;break;case 268435456:u=vb;break;default:u=fu}return f=$w.bind(null,r),u=ep(u,f),r.callbackPriority=a,r.callbackNode=u,a}return f!==null&&f!==null&&tp(f),r.callbackPriority=2,r.callbackNode=null,2}function $w(r,a){if(kt!==0&&kt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(uh()&&r.callbackNode!==u)return null;var f=Ee;return f=mu(r,r===Ie?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(hw(r,f,a),Cw(r,bi()),r.callbackNode!=null&&r.callbackNode===u?$w.bind(null,r):null)}function Ew(r,a){if(uh())return null;hw(r,a,!0)}function nE(){gE(function(){(Ue&6)!==0?ep(yb,iE):Aw()})}function qg(){if(Ls===0){var r=xl;r===0&&(r=du,du<<=1,(du&261888)===0&&(du=256)),Ls=r}return Ls}function Rw(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:vu(""+r)}function Mw(r,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,r.id&&u.setAttribute("form",r.id),a.parentNode.insertBefore(u,a),r=new FormData(r),u.parentNode.removeChild(u),r}function sE(r,a,u,f,g){if(a==="submit"&&u&&u.stateNode===g){var O=Rw((g[ii]||null).action),S=f.submitter;S&&(a=(a=S[ii]||null)?Rw(a.formAction):S.getAttribute("formAction"),a!==null&&(O=a,S=null));var k=new xu("action","action",null,f,g);r.push({event:k,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Ls!==0){var T=S?Mw(g,S):new FormData(g);ug(u,{pending:!0,data:T,method:g.method,action:O},null,T)}}else typeof O=="function"&&(k.preventDefault(),T=S?Mw(g,S):new FormData(g),ug(u,{pending:!0,data:T,method:g.method,action:O},O,T))},currentTarget:g}]})}}for(var Yg=0;Yg<Qp.length;Yg++){var Vg=Qp[Yg],rE=Vg.toLowerCase(),lE=Vg[0].toUpperCase()+Vg.slice(1);rn(rE,"on"+lE)}rn(uv,"onAnimationEnd"),rn(hv,"onAnimationIteration"),rn(fv,"onAnimationStart"),rn("dblclick","onDoubleClick"),rn("focusin","onFocus"),rn("focusout","onBlur"),rn(w2,"onTransitionRun"),rn(k2,"onTransitionStart"),rn(x2,"onTransitionCancel"),rn(dv,"onTransitionEnd"),ul("onMouseEnter",["mouseout","mouseover"]),ul("onMouseLeave",["mouseout","mouseover"]),ul("onPointerEnter",["pointerout","pointerover"]),ul("onPointerLeave",["pointerout","pointerover"]),dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ro));function Pw(r,a){a=(a&4)!==0;for(var u=0;u<r.length;u++){var f=r[u],g=f.event;f=f.listeners;e:{var O=void 0;if(a)for(var S=f.length-1;0<=S;S--){var k=f[S],T=k.instance,M=k.currentTarget;if(k=k.listener,T!==O&&g.isPropagationStopped())break e;O=k,g.currentTarget=M;try{O(g)}catch(U){Qu(U)}g.currentTarget=null,O=T}else for(S=0;S<f.length;S++){if(k=f[S],T=k.instance,M=k.currentTarget,k=k.listener,T!==O&&g.isPropagationStopped())break e;O=k,g.currentTarget=M;try{O(g)}catch(U){Qu(U)}g.currentTarget=null,O=T}}}}function Ce(r,a){var u=a[rp];u===void 0&&(u=a[rp]=new Set);var f=r+"__bubble";u.has(f)||(Dw(a,r,2,!1),u.add(f))}function Ig(r,a,u){var f=0;a&&(f|=4),Dw(u,r,f,a)}var dh="_reactListening"+Math.random().toString(36).slice(2);function Gg(r){if(!r[dh]){r[dh]=!0,Ab.forEach(function(u){u!=="selectionchange"&&(aE.has(u)||Ig(u,!1,r),Ig(u,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[dh]||(a[dh]=!0,Ig("selectionchange",!1,a))}}function Dw(r,a,u,f){switch(u1(a)){case 2:var g=DE;break;case 8:g=ZE;break;default:g=cm}u=g.bind(null,a,u,r),g=void 0,!pp||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),f?g!==void 0?r.addEventListener(a,u,{capture:!0,passive:g}):r.addEventListener(a,u,!0):g!==void 0?r.addEventListener(a,u,{passive:g}):r.addEventListener(a,u,!1)}function Wg(r,a,u,f,g){var O=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var k=f.stateNode.containerInfo;if(k===g)break;if(S===4)for(S=f.return;S!==null;){var T=S.tag;if((T===3||T===4)&&S.stateNode.containerInfo===g)return;S=S.return}for(;k!==null;){if(S=al(k),S===null)return;if(T=S.tag,T===5||T===6||T===26||T===27){f=O=S;continue e}k=k.parentNode}}f=f.return}Ub(function(){var M=O,U=fp(u),V=[];e:{var P=pv.get(r);if(P!==void 0){var L=xu,ie=r;switch(r){case"keypress":if(wu(u)===0)break e;case"keydown":case"keyup":L=e2;break;case"focusin":ie="focus",L=yp;break;case"focusout":ie="blur",L=yp;break;case"beforeblur":case"afterblur":L=yp;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Xb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=B$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=n2;break;case uv:case hv:case fv:L=Y$;break;case dv:L=r2;break;case"scroll":case"scrollend":L=U$;break;case"wheel":L=a2;break;case"copy":case"cut":case"paste":L=I$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Yb;break;case"toggle":case"beforetoggle":L=c2}var ue=(a&4)!==0,Ye=!ue&&(r==="scroll"||r==="scrollend"),$=ue?P!==null?P+"Capture":null:P;ue=[];for(var A=M,R;A!==null;){var Y=A;if(R=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||R===null||$===null||(Y=Fa(A,$),Y!=null&&ue.push(Mo(A,Y,R))),Ye)break;A=A.return}0<ue.length&&(P=new L(P,ie,null,u,U),V.push({event:P,listeners:ue}))}}if((a&7)===0){e:{if(P=r==="mouseover"||r==="pointerover",L=r==="mouseout"||r==="pointerout",P&&u!==hp&&(ie=u.relatedTarget||u.fromElement)&&(al(ie)||ie[ll]))break e;if((L||P)&&(P=U.window===U?U:(P=U.ownerDocument)?P.defaultView||P.parentWindow:window,L?(ie=u.relatedTarget||u.toElement,L=M,ie=ie?al(ie):null,ie!==null&&(Ye=l(ie),ue=ie.tag,ie!==Ye||ue!==5&&ue!==27&&ue!==6)&&(ie=null)):(L=null,ie=M),L!==ie)){if(ue=Xb,Y="onMouseLeave",$="onMouseEnter",A="mouse",(r==="pointerout"||r==="pointerover")&&(ue=Yb,Y="onPointerLeave",$="onPointerEnter",A="pointer"),Ye=L==null?P:Ja(L),R=ie==null?P:Ja(ie),P=new ue(Y,A+"leave",L,u,U),P.target=Ye,P.relatedTarget=R,Y=null,al(U)===M&&(ue=new ue($,A+"enter",ie,u,U),ue.target=R,ue.relatedTarget=Ye,Y=ue),Ye=Y,L&&ie)t:{for(ue=oE,$=L,A=ie,R=0,Y=$;Y;Y=ue(Y))R++;Y=0;for(var ce=A;ce;ce=ue(ce))Y++;for(;0<R-Y;)$=ue($),R--;for(;0<Y-R;)A=ue(A),Y--;for(;R--;){if($===A||A!==null&&$===A.alternate){ue=$;break t}$=ue($),A=ue(A)}ue=null}else ue=null;L!==null&&Zw(V,P,L,ue,!1),ie!==null&&Ye!==null&&Zw(V,Ye,ie,ue,!0)}}e:{if(P=M?Ja(M):window,L=P.nodeName&&P.nodeName.toLowerCase(),L==="select"||L==="input"&&P.type==="file")var ze=Fb;else if(Kb(P))if(ev)ze=b2;else{ze=O2;var ne=m2}else L=P.nodeName,!L||L.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?M&&up(M.elementType)&&(ze=Fb):ze=y2;if(ze&&(ze=ze(r,M))){Jb(V,ze,u,U);break e}ne&&ne(r,P,M),r==="focusout"&&M&&P.type==="number"&&M.memoizedProps.value!=null&&cp(P,"number",P.value)}switch(ne=M?Ja(M):window,r){case"focusin":(Kb(ne)||ne.contentEditable==="true")&&(ml=ne,xp=M,ao=null);break;case"focusout":ao=xp=ml=null;break;case"mousedown":_p=!0;break;case"contextmenu":case"mouseup":case"dragend":_p=!1,ov(V,u,U);break;case"selectionchange":if(S2)break;case"keydown":case"keyup":ov(V,u,U)}var ke;if(vp)e:{switch(r){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else gl?Wb(r,u)&&(Re="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Re="onCompositionStart");Re&&(Vb&&u.locale!=="ko"&&(gl||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&gl&&(ke=Nb()):(Ss=U,gp="value"in Ss?Ss.value:Ss.textContent,gl=!0)),ne=ph(M,Re),0<ne.length&&(Re=new qb(Re,r,null,u,U),V.push({event:Re,listeners:ne}),ke?Re.data=ke:(ke=Hb(u),ke!==null&&(Re.data=ke)))),(ke=h2?f2(r,u):d2(r,u))&&(Re=ph(M,"onBeforeInput"),0<Re.length&&(ne=new qb("onBeforeInput","beforeinput",null,u,U),V.push({event:ne,listeners:Re}),ne.data=ke)),sE(V,r,M,u,U)}Pw(V,a)})}function Mo(r,a,u){return{instance:r,listener:a,currentTarget:u}}function ph(r,a){for(var u=a+"Capture",f=[];r!==null;){var g=r,O=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||O===null||(g=Fa(r,u),g!=null&&f.unshift(Mo(r,g,O)),g=Fa(r,a),g!=null&&f.push(Mo(r,g,O))),r.tag===3)return f;r=r.return}return[]}function oE(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Zw(r,a,u,f,g){for(var O=a._reactName,S=[];u!==null&&u!==f;){var k=u,T=k.alternate,M=k.stateNode;if(k=k.tag,T!==null&&T===f)break;k!==5&&k!==26&&k!==27||M===null||(T=M,g?(M=Fa(u,O),M!=null&&S.unshift(Mo(u,M,T))):g||(M=Fa(u,O),M!=null&&S.push(Mo(u,M,T)))),u=u.return}S.length!==0&&r.push({event:a,listeners:S})}var cE=/\r\n?/g,uE=/\u0000|\uFFFD/g;function Lw(r){return(typeof r=="string"?r:""+r).replace(cE,`
`).replace(uE,"")}function zw(r,a){return a=Lw(a),Lw(r)===a}function qe(r,a,u,f,g,O){switch(u){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||fl(r,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&fl(r,""+f);break;case"className":yu(r,"class",f);break;case"tabIndex":yu(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":yu(r,u,f);break;case"style":zb(r,f,O);break;case"data":if(a!=="object"){yu(r,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||u!=="href")){r.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(u);break}f=vu(""+f),r.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(u==="formAction"?(a!=="input"&&qe(r,a,"name",g.name,g,null),qe(r,a,"formEncType",g.formEncType,g,null),qe(r,a,"formMethod",g.formMethod,g,null),qe(r,a,"formTarget",g.formTarget,g,null)):(qe(r,a,"encType",g.encType,g,null),qe(r,a,"method",g.method,g,null),qe(r,a,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(u);break}f=vu(""+f),r.setAttribute(u,f);break;case"onClick":f!=null&&(r.onclick=Yn);break;case"onScroll":f!=null&&Ce("scroll",r);break;case"onScrollEnd":f!=null&&Ce("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(u=f.__html,u!=null){if(g.children!=null)throw Error(n(60));r.innerHTML=u}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}u=vu(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,""+f):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":f===!0?r.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,f):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(u,f):r.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(u):r.setAttribute(u,f);break;case"popover":Ce("beforetoggle",r),Ce("toggle",r),Ou(r,"popover",f);break;case"xlinkActuate":qn(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":qn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":qn(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":qn(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":qn(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":qn(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":qn(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":qn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":qn(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Ou(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=z$.get(u)||u,Ou(r,u,f))}}function Hg(r,a,u,f,g,O){switch(u){case"style":zb(r,f,O);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(u=f.__html,u!=null){if(g.children!=null)throw Error(n(60));r.innerHTML=u}}break;case"children":typeof f=="string"?fl(r,f):(typeof f=="number"||typeof f=="bigint")&&fl(r,""+f);break;case"onScroll":f!=null&&Ce("scroll",r);break;case"onScrollEnd":f!=null&&Ce("scrollend",r);break;case"onClick":f!=null&&(r.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cb.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(g=u.endsWith("Capture"),a=u.slice(2,g?u.length-7:void 0),O=r[ii]||null,O=O!=null?O[u]:null,typeof O=="function"&&r.removeEventListener(a,O,g),typeof f=="function")){typeof O!="function"&&O!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(a,f,g);break e}u in r?r[u]=f:f===!0?r.setAttribute(u,""):Ou(r,u,f)}}}function Ut(r,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",r),Ce("load",r);var f=!1,g=!1,O;for(O in u)if(u.hasOwnProperty(O)){var S=u[O];if(S!=null)switch(O){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,a));default:qe(r,a,O,S,u,null)}}g&&qe(r,a,"srcSet",u.srcSet,u,null),f&&qe(r,a,"src",u.src,u,null);return;case"input":Ce("invalid",r);var k=O=S=g=null,T=null,M=null;for(f in u)if(u.hasOwnProperty(f)){var U=u[f];if(U!=null)switch(f){case"name":g=U;break;case"type":S=U;break;case"checked":T=U;break;case"defaultChecked":M=U;break;case"value":O=U;break;case"defaultValue":k=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(n(137,a));break;default:qe(r,a,f,U,u,null)}}Pb(r,O,k,T,M,S,g,!1);return;case"select":Ce("invalid",r),f=S=O=null;for(g in u)if(u.hasOwnProperty(g)&&(k=u[g],k!=null))switch(g){case"value":O=k;break;case"defaultValue":S=k;break;case"multiple":f=k;default:qe(r,a,g,k,u,null)}a=O,u=S,r.multiple=!!f,a!=null?hl(r,!!f,a,!1):u!=null&&hl(r,!!f,u,!0);return;case"textarea":Ce("invalid",r),O=g=f=null;for(S in u)if(u.hasOwnProperty(S)&&(k=u[S],k!=null))switch(S){case"value":f=k;break;case"defaultValue":g=k;break;case"children":O=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(n(91));break;default:qe(r,a,S,k,u,null)}Zb(r,f,g,O);return;case"option":for(T in u)u.hasOwnProperty(T)&&(f=u[T],f!=null)&&(T==="selected"?r.selected=f&&typeof f!="function"&&typeof f!="symbol":qe(r,a,T,f,u,null));return;case"dialog":Ce("beforetoggle",r),Ce("toggle",r),Ce("cancel",r),Ce("close",r);break;case"iframe":case"object":Ce("load",r);break;case"video":case"audio":for(f=0;f<Ro.length;f++)Ce(Ro[f],r);break;case"image":Ce("error",r),Ce("load",r);break;case"details":Ce("toggle",r);break;case"embed":case"source":case"link":Ce("error",r),Ce("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in u)if(u.hasOwnProperty(M)&&(f=u[M],f!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,a));default:qe(r,a,M,f,u,null)}return;default:if(up(a)){for(U in u)u.hasOwnProperty(U)&&(f=u[U],f!==void 0&&Hg(r,a,U,f,u,void 0));return}}for(k in u)u.hasOwnProperty(k)&&(f=u[k],f!=null&&qe(r,a,k,f,u,null))}function hE(r,a,u,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,O=null,S=null,k=null,T=null,M=null,U=null;for(L in u){var V=u[L];if(u.hasOwnProperty(L)&&V!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":T=V;default:f.hasOwnProperty(L)||qe(r,a,L,null,f,V)}}for(var P in f){var L=f[P];if(V=u[P],f.hasOwnProperty(P)&&(L!=null||V!=null))switch(P){case"type":O=L;break;case"name":g=L;break;case"checked":M=L;break;case"defaultChecked":U=L;break;case"value":S=L;break;case"defaultValue":k=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(n(137,a));break;default:L!==V&&qe(r,a,P,L,f,V)}}op(r,S,k,T,M,U,O,g);return;case"select":L=S=k=P=null;for(O in u)if(T=u[O],u.hasOwnProperty(O)&&T!=null)switch(O){case"value":break;case"multiple":L=T;default:f.hasOwnProperty(O)||qe(r,a,O,null,f,T)}for(g in f)if(O=f[g],T=u[g],f.hasOwnProperty(g)&&(O!=null||T!=null))switch(g){case"value":P=O;break;case"defaultValue":k=O;break;case"multiple":S=O;default:O!==T&&qe(r,a,g,O,f,T)}a=k,u=S,f=L,P!=null?hl(r,!!u,P,!1):!!f!=!!u&&(a!=null?hl(r,!!u,a,!0):hl(r,!!u,u?[]:"",!1));return;case"textarea":L=P=null;for(k in u)if(g=u[k],u.hasOwnProperty(k)&&g!=null&&!f.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:qe(r,a,k,null,f,g)}for(S in f)if(g=f[S],O=u[S],f.hasOwnProperty(S)&&(g!=null||O!=null))switch(S){case"value":P=g;break;case"defaultValue":L=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(n(91));break;default:g!==O&&qe(r,a,S,g,f,O)}Db(r,P,L);return;case"option":for(var ie in u)P=u[ie],u.hasOwnProperty(ie)&&P!=null&&!f.hasOwnProperty(ie)&&(ie==="selected"?r.selected=!1:qe(r,a,ie,null,f,P));for(T in f)P=f[T],L=u[T],f.hasOwnProperty(T)&&P!==L&&(P!=null||L!=null)&&(T==="selected"?r.selected=P&&typeof P!="function"&&typeof P!="symbol":qe(r,a,T,P,f,L));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ue in u)P=u[ue],u.hasOwnProperty(ue)&&P!=null&&!f.hasOwnProperty(ue)&&qe(r,a,ue,null,f,P);for(M in f)if(P=f[M],L=u[M],f.hasOwnProperty(M)&&P!==L&&(P!=null||L!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(n(137,a));break;default:qe(r,a,M,P,f,L)}return;default:if(up(a)){for(var Ye in u)P=u[Ye],u.hasOwnProperty(Ye)&&P!==void 0&&!f.hasOwnProperty(Ye)&&Hg(r,a,Ye,void 0,f,P);for(U in f)P=f[U],L=u[U],!f.hasOwnProperty(U)||P===L||P===void 0&&L===void 0||Hg(r,a,U,P,f,L);return}}for(var $ in u)P=u[$],u.hasOwnProperty($)&&P!=null&&!f.hasOwnProperty($)&&qe(r,a,$,null,f,P);for(V in f)P=f[V],L=u[V],!f.hasOwnProperty(V)||P===L||P==null&&L==null||qe(r,a,V,P,f,L)}function jw(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fE(){if(typeof performance.getEntriesByType=="function"){for(var r=0,a=0,u=performance.getEntriesByType("resource"),f=0;f<u.length;f++){var g=u[f],O=g.transferSize,S=g.initiatorType,k=g.duration;if(O&&k&&jw(S)){for(S=0,k=g.responseEnd,f+=1;f<u.length;f++){var T=u[f],M=T.startTime;if(M>k)break;var U=T.transferSize,V=T.initiatorType;U&&jw(V)&&(T=T.responseEnd,S+=U*(T<k?1:(k-M)/(T-M)))}if(--f,a+=8*(O+S)/(g.duration/1e3),r++,10<r)break}}if(0<r)return a/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Kg=null,Jg=null;function gh(r){return r.nodeType===9?r:r.ownerDocument}function Uw(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nw(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Fg(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var em=null;function dE(){var r=window.event;return r&&r.type==="popstate"?r===em?!1:(em=r,!0):(em=null,!1)}var Bw=typeof setTimeout=="function"?setTimeout:void 0,pE=typeof clearTimeout=="function"?clearTimeout:void 0,Xw=typeof Promise=="function"?Promise:void 0,gE=typeof queueMicrotask=="function"?queueMicrotask:typeof Xw<"u"?function(r){return Xw.resolve(null).then(r).catch(mE)}:Bw;function mE(r){setTimeout(function(){throw r})}function zs(r){return r==="head"}function qw(r,a){var u=a,f=0;do{var g=u.nextSibling;if(r.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"||u==="/&"){if(f===0){r.removeChild(g),Xl(a);return}f--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")f++;else if(u==="html")Po(r.ownerDocument.documentElement);else if(u==="head"){u=r.ownerDocument.head,Po(u);for(var O=u.firstChild;O;){var S=O.nextSibling,k=O.nodeName;O[Ka]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&O.rel.toLowerCase()==="stylesheet"||u.removeChild(O),O=S}}else u==="body"&&Po(r.ownerDocument.body);u=g}while(u);Xl(a)}function Yw(r,a){var u=r;r=0;do{var f=u.nextSibling;if(u.nodeType===1?a?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(a?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),f&&f.nodeType===8)if(u=f.data,u==="/$"){if(r===0)break;r--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||r++;u=f}while(u)}function tm(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":tm(u),lp(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function OE(r,a,u,f){for(;r.nodeType===1;){var g=u;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[Ka])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(O=r.getAttribute("rel"),O==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(O!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(O=r.getAttribute("src"),(O!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&O&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var O=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===O)return r}else return r;if(r=Gi(r.nextSibling),r===null)break}return null}function yE(r,a,u){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=Gi(r.nextSibling),r===null))return null;return r}function Vw(r,a){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=Gi(r.nextSibling),r===null))return null;return r}function im(r){return r.data==="$?"||r.data==="$~"}function nm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function bE(r,a){var u=r.ownerDocument;if(r.data==="$~")r._reactRetry=a;else if(r.data!=="$?"||u.readyState!=="loading")a();else{var f=function(){a(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function Gi(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return r}var sm=null;function Iw(r){r=r.nextSibling;for(var a=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"||u==="/&"){if(a===0)return Gi(r.nextSibling);a--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||a++}r=r.nextSibling}return null}function Gw(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(a===0)return r;a--}else u!=="/$"&&u!=="/&"||a++}r=r.previousSibling}return null}function Ww(r,a,u){switch(a=gh(u),r){case"html":if(r=a.documentElement,!r)throw Error(n(452));return r;case"head":if(r=a.head,!r)throw Error(n(453));return r;case"body":if(r=a.body,!r)throw Error(n(454));return r;default:throw Error(n(451))}}function Po(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);lp(r)}var Wi=new Map,Hw=new Set;function mh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var as=I.d;I.d={f:vE,r:SE,D:wE,C:kE,L:xE,m:_E,X:QE,S:TE,M:AE};function vE(){var r=as.f(),a=ah();return r||a}function SE(r){var a=ol(r);a!==null&&a.tag===5&&a.type==="form"?dS(a):as.r(r)}var Ul=typeof document>"u"?null:document;function Kw(r,a,u){var f=Ul;if(f&&typeof a=="string"&&a){var g=Ni(a);g='link[rel="'+r+'"][href="'+g+'"]',typeof u=="string"&&(g+='[crossorigin="'+u+'"]'),Hw.has(g)||(Hw.add(g),r={rel:r,crossOrigin:u,href:a},f.querySelector(g)===null&&(a=f.createElement("link"),Ut(a,"link",r),Ct(a),f.head.appendChild(a)))}}function wE(r){as.D(r),Kw("dns-prefetch",r,null)}function kE(r,a){as.C(r,a),Kw("preconnect",r,a)}function xE(r,a,u){as.L(r,a,u);var f=Ul;if(f&&r&&a){var g='link[rel="preload"][as="'+Ni(a)+'"]';a==="image"&&u&&u.imageSrcSet?(g+='[imagesrcset="'+Ni(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(g+='[imagesizes="'+Ni(u.imageSizes)+'"]')):g+='[href="'+Ni(r)+'"]';var O=g;switch(a){case"style":O=Nl(r);break;case"script":O=Bl(r)}Wi.has(O)||(r=m({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:r,as:a},u),Wi.set(O,r),f.querySelector(g)!==null||a==="style"&&f.querySelector(Do(O))||a==="script"&&f.querySelector(Zo(O))||(a=f.createElement("link"),Ut(a,"link",r),Ct(a),f.head.appendChild(a)))}}function _E(r,a){as.m(r,a);var u=Ul;if(u&&r){var f=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+Ni(f)+'"][href="'+Ni(r)+'"]',O=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=Bl(r)}if(!Wi.has(O)&&(r=m({rel:"modulepreload",href:r},a),Wi.set(O,r),u.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Zo(O)))return}f=u.createElement("link"),Ut(f,"link",r),Ct(f),u.head.appendChild(f)}}}function TE(r,a,u){as.S(r,a,u);var f=Ul;if(f&&r){var g=cl(f).hoistableStyles,O=Nl(r);a=a||"default";var S=g.get(O);if(!S){var k={loading:0,preload:null};if(S=f.querySelector(Do(O)))k.loading=5;else{r=m({rel:"stylesheet",href:r,"data-precedence":a},u),(u=Wi.get(O))&&rm(r,u);var T=S=f.createElement("link");Ct(T),Ut(T,"link",r),T._p=new Promise(function(M,U){T.onload=M,T.onerror=U}),T.addEventListener("load",function(){k.loading|=1}),T.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Oh(S,a,f)}S={type:"stylesheet",instance:S,count:1,state:k},g.set(O,S)}}}function QE(r,a){as.X(r,a);var u=Ul;if(u&&r){var f=cl(u).hoistableScripts,g=Bl(r),O=f.get(g);O||(O=u.querySelector(Zo(g)),O||(r=m({src:r,async:!0},a),(a=Wi.get(g))&&lm(r,a),O=u.createElement("script"),Ct(O),Ut(O,"link",r),u.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},f.set(g,O))}}function AE(r,a){as.M(r,a);var u=Ul;if(u&&r){var f=cl(u).hoistableScripts,g=Bl(r),O=f.get(g);O||(O=u.querySelector(Zo(g)),O||(r=m({src:r,async:!0,type:"module"},a),(a=Wi.get(g))&&lm(r,a),O=u.createElement("script"),Ct(O),Ut(O,"link",r),u.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},f.set(g,O))}}function Jw(r,a,u,f){var g=(g=ve.current)?mh(g):null;if(!g)throw Error(n(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=Nl(u.href),u=cl(g).hoistableStyles,f=u.get(a),f||(f={type:"style",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=Nl(u.href);var O=cl(g).hoistableStyles,S=O.get(r);if(S||(g=g.ownerDocument||g,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(r,S),(O=g.querySelector(Do(r)))&&!O._p&&(S.instance=O,S.state.loading=5),Wi.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Wi.set(r,u),O||CE(g,r,u,S.state))),a&&f===null)throw Error(n(528,""));return S}if(a&&f!==null)throw Error(n(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Bl(u),u=cl(g).hoistableScripts,f=u.get(a),f||(f={type:"script",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,r))}}function Nl(r){return'href="'+Ni(r)+'"'}function Do(r){return'link[rel="stylesheet"]['+r+"]"}function Fw(r){return m({},r,{"data-precedence":r.precedence,precedence:null})}function CE(r,a,u,f){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=r.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),Ut(a,"link",u),Ct(a),r.head.appendChild(a))}function Bl(r){return'[src="'+Ni(r)+'"]'}function Zo(r){return"script[async]"+r}function e1(r,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var f=r.querySelector('style[data-href~="'+Ni(u.href)+'"]');if(f)return a.instance=f,Ct(f),f;var g=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),Ct(f),Ut(f,"style",g),Oh(f,u.precedence,r),a.instance=f;case"stylesheet":g=Nl(u.href);var O=r.querySelector(Do(g));if(O)return a.state.loading|=4,a.instance=O,Ct(O),O;f=Fw(u),(g=Wi.get(g))&&rm(f,g),O=(r.ownerDocument||r).createElement("link"),Ct(O);var S=O;return S._p=new Promise(function(k,T){S.onload=k,S.onerror=T}),Ut(O,"link",f),a.state.loading|=4,Oh(O,u.precedence,r),a.instance=O;case"script":return O=Bl(u.src),(g=r.querySelector(Zo(O)))?(a.instance=g,Ct(g),g):(f=u,(g=Wi.get(O))&&(f=m({},u),lm(f,g)),r=r.ownerDocument||r,g=r.createElement("script"),Ct(g),Ut(g,"link",f),r.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(n(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,Oh(f,u.precedence,r));return a.instance}function Oh(r,a,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,O=g,S=0;S<f.length;S++){var k=f[S];if(k.dataset.precedence===a)O=k;else if(O!==g)break}O?O.parentNode.insertBefore(r,O.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(r,a.firstChild))}function rm(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function lm(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var yh=null;function t1(r,a,u){if(yh===null){var f=new Map,g=yh=new Map;g.set(u,f)}else g=yh,f=g.get(u),f||(f=new Map,g.set(u,f));if(f.has(r))return f;for(f.set(r,null),u=u.getElementsByTagName(r),g=0;g<u.length;g++){var O=u[g];if(!(O[Ka]||O[Zt]||r==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var S=O.getAttribute(a)||"";S=r+S;var k=f.get(S);k?k.push(O):f.set(S,[O])}}return f}function i1(r,a,u){r=r.ownerDocument||r,r.head.insertBefore(u,a==="title"?r.querySelector("head > title"):null)}function $E(r,a,u){if(u===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(r=a.disabled,typeof a.precedence=="string"&&r==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function n1(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function EE(r,a,u,f){if(u.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var g=Nl(f.href),O=a.querySelector(Do(g));if(O){a=O._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(r.count++,r=bh.bind(r),a.then(r,r)),u.state.loading|=4,u.instance=O,Ct(O);return}O=a.ownerDocument||a,f=Fw(f),(g=Wi.get(g))&&rm(f,g),O=O.createElement("link"),Ct(O);var S=O;S._p=new Promise(function(k,T){S.onload=k,S.onerror=T}),Ut(O,"link",f),u.instance=O}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(u,a),(a=u.state.preload)&&(u.state.loading&3)===0&&(r.count++,u=bh.bind(r),a.addEventListener("load",u),a.addEventListener("error",u))}}var am=0;function RE(r,a){return r.stylesheets&&r.count===0&&Sh(r,r.stylesheets),0<r.count||0<r.imgCount?function(u){var f=setTimeout(function(){if(r.stylesheets&&Sh(r,r.stylesheets),r.unsuspend){var O=r.unsuspend;r.unsuspend=null,O()}},6e4+a);0<r.imgBytes&&am===0&&(am=62500*fE());var g=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Sh(r,r.stylesheets),r.unsuspend)){var O=r.unsuspend;r.unsuspend=null,O()}},(r.imgBytes>am?50:800)+a);return r.unsuspend=u,function(){r.unsuspend=null,clearTimeout(f),clearTimeout(g)}}:null}function bh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sh(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var vh=null;function Sh(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,vh=new Map,a.forEach(ME,r),vh=null,bh.call(r))}function ME(r,a){if(!(a.state.loading&4)){var u=vh.get(r);if(u)var f=u.get(null);else{u=new Map,vh.set(r,u);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<g.length;O++){var S=g[O];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(u.set(S.dataset.precedence,S),f=S)}f&&u.set(null,f)}g=a.instance,S=g.getAttribute("data-precedence"),O=u.get(S)||f,O===f&&u.set(null,g),u.set(S,g),this.count++,f=bh.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),O?O.parentNode.insertBefore(g,O.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),a.state.loading|=4}}var Lo={$$typeof:C,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function PE(r,a,u,f,g,O,S,k,T){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ip(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ip(0),this.hiddenUpdates=ip(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=O,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function s1(r,a,u,f,g,O,S,k,T,M,U,V){return r=new PE(r,a,u,S,T,M,U,V,k),a=1,O===!0&&(a|=24),O=ki(3,null,null,a),r.current=O,O.stateNode=r,a=Up(),a.refCount++,r.pooledCache=a,a.refCount++,O.memoizedState={element:f,isDehydrated:u,cache:a},qp(O),r}function r1(r){return r?(r=bl,r):bl}function l1(r,a,u,f,g,O){g=r1(g),f.context===null?f.context=g:f.pendingContext=g,f=Qs(a),f.payload={element:u},O=O===void 0?null:O,O!==null&&(f.callback=O),u=As(r,f,a),u!==null&&(oi(u,r,a),go(u,r,a))}function a1(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<a?u:a}}function om(r,a){a1(r,a),(r=r.alternate)&&a1(r,a)}function o1(r){if(r.tag===13||r.tag===31){var a=Or(r,67108864);a!==null&&oi(a,r,67108864),om(r,67108864)}}function c1(r){if(r.tag===13||r.tag===31){var a=Ai();a=np(a);var u=Or(r,a);u!==null&&oi(u,r,a),om(r,a)}}var wh=!0;function DE(r,a,u,f){var g=Z.T;Z.T=null;var O=I.p;try{I.p=2,cm(r,a,u,f)}finally{I.p=O,Z.T=g}}function ZE(r,a,u,f){var g=Z.T;Z.T=null;var O=I.p;try{I.p=8,cm(r,a,u,f)}finally{I.p=O,Z.T=g}}function cm(r,a,u,f){if(wh){var g=um(f);if(g===null)Wg(r,a,f,kh,u),h1(r,f);else if(zE(g,r,a,u,f))f.stopPropagation();else if(h1(r,f),a&4&&-1<LE.indexOf(r)){for(;g!==null;){var O=ol(g);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var S=fr(O.pendingLanes);if(S!==0){var k=O;for(k.pendingLanes|=2,k.entangledLanes|=2;S;){var T=1<<31-Si(S);k.entanglements[1]|=T,S&=~T}_n(O),(Ue&6)===0&&(rh=bi()+500,Eo(0))}}break;case 31:case 13:k=Or(O,2),k!==null&&oi(k,O,2),ah(),om(O,2)}if(O=um(f),O===null&&Wg(r,a,f,kh,u),O===g)break;g=O}g!==null&&f.stopPropagation()}else Wg(r,a,f,null,u)}}function um(r){return r=fp(r),hm(r)}var kh=null;function hm(r){if(kh=null,r=al(r),r!==null){var a=l(r);if(a===null)r=null;else{var u=a.tag;if(u===13){if(r=o(a),r!==null)return r;r=null}else if(u===31){if(r=c(a),r!==null)return r;r=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return kh=r,null}function u1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(w$()){case yb:return 2;case bb:return 8;case fu:case k$:return 32;case vb:return 268435456;default:return 32}default:return 32}}var fm=!1,js=null,Us=null,Ns=null,zo=new Map,jo=new Map,Bs=[],LE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h1(r,a){switch(r){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":Ns=null;break;case"pointerover":case"pointerout":zo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":jo.delete(a.pointerId)}}function Uo(r,a,u,f,g,O){return r===null||r.nativeEvent!==O?(r={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:O,targetContainers:[g]},a!==null&&(a=ol(a),a!==null&&o1(a)),r):(r.eventSystemFlags|=f,a=r.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),r)}function zE(r,a,u,f,g){switch(a){case"focusin":return js=Uo(js,r,a,u,f,g),!0;case"dragenter":return Us=Uo(Us,r,a,u,f,g),!0;case"mouseover":return Ns=Uo(Ns,r,a,u,f,g),!0;case"pointerover":var O=g.pointerId;return zo.set(O,Uo(zo.get(O)||null,r,a,u,f,g)),!0;case"gotpointercapture":return O=g.pointerId,jo.set(O,Uo(jo.get(O)||null,r,a,u,f,g)),!0}return!1}function f1(r){var a=al(r.target);if(a!==null){var u=l(a);if(u!==null){if(a=u.tag,a===13){if(a=o(u),a!==null){r.blockedOn=a,Tb(r.priority,function(){c1(u)});return}}else if(a===31){if(a=c(u),a!==null){r.blockedOn=a,Tb(r.priority,function(){c1(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function xh(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var u=um(r.nativeEvent);if(u===null){u=r.nativeEvent;var f=new u.constructor(u.type,u);hp=f,u.target.dispatchEvent(f),hp=null}else return a=ol(u),a!==null&&o1(a),r.blockedOn=u,!1;a.shift()}return!0}function d1(r,a,u){xh(r)&&u.delete(a)}function jE(){fm=!1,js!==null&&xh(js)&&(js=null),Us!==null&&xh(Us)&&(Us=null),Ns!==null&&xh(Ns)&&(Ns=null),zo.forEach(d1),jo.forEach(d1)}function _h(r,a){r.blockedOn===a&&(r.blockedOn=null,fm||(fm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jE)))}var Th=null;function p1(r){Th!==r&&(Th=r,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Th===r&&(Th=null);for(var a=0;a<r.length;a+=3){var u=r[a],f=r[a+1],g=r[a+2];if(typeof f!="function"){if(hm(f||u)===null)continue;break}var O=ol(u);O!==null&&(r.splice(a,3),a-=3,ug(O,{pending:!0,data:g,method:u.method,action:f},f,g))}}))}function Xl(r){function a(T){return _h(T,r)}js!==null&&_h(js,r),Us!==null&&_h(Us,r),Ns!==null&&_h(Ns,r),zo.forEach(a),jo.forEach(a);for(var u=0;u<Bs.length;u++){var f=Bs[u];f.blockedOn===r&&(f.blockedOn=null)}for(;0<Bs.length&&(u=Bs[0],u.blockedOn===null);)f1(u),u.blockedOn===null&&Bs.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var g=u[f],O=u[f+1],S=g[ii]||null;if(typeof O=="function")S||p1(u);else if(S){var k=null;if(O&&O.hasAttribute("formAction")){if(g=O,S=O[ii]||null)k=S.formAction;else if(hm(g)!==null)continue}else k=S.action;typeof k=="function"?u[f+1]=k:(u.splice(f,3),f-=3),p1(u)}}}function g1(){function r(O){O.canIntercept&&O.info==="react-transition"&&O.intercept({handler:function(){return new Promise(function(S){return g=S})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),f||setTimeout(u,20)}function u(){if(!f&&!navigation.transition){var O=navigation.currentEntry;O&&O.url!=null&&navigation.navigate(O.url,{state:O.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,g=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(u,100),function(){f=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function dm(r){this._internalRoot=r}Qh.prototype.render=dm.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(n(409));var u=a.current,f=Ai();l1(u,f,r,a,null,null)},Qh.prototype.unmount=dm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;l1(r.current,2,null,r,null,null),ah(),a[ll]=null}};function Qh(r){this._internalRoot=r}Qh.prototype.unstable_scheduleHydration=function(r){if(r){var a=_b();r={blockedOn:null,target:r,priority:a};for(var u=0;u<Bs.length&&a!==0&&a<Bs[u].priority;u++);Bs.splice(u,0,r),u===0&&f1(r)}};var m1=e.version;if(m1!=="19.2.4")throw Error(n(527,m1,"19.2.4"));I.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=d(a),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var UE={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{Ga=Ah.inject(UE),vi=Ah}catch{}}return Bo.createRoot=function(r,a){if(!s(r))throw Error(n(299));var u=!1,f="",g=kS,O=xS,S=_S;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(O=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError)),a=s1(r,1,!1,null,null,u,f,null,g,O,S,g1),r[ll]=a.current,Gg(r),new dm(a)},Bo.hydrateRoot=function(r,a,u){if(!s(r))throw Error(n(299));var f=!1,g="",O=kS,S=xS,k=_S,T=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(O=u.onUncaughtError),u.onCaughtError!==void 0&&(S=u.onCaughtError),u.onRecoverableError!==void 0&&(k=u.onRecoverableError),u.formState!==void 0&&(T=u.formState)),a=s1(r,1,!0,a,u??null,f,g,T,O,S,k,g1),a.context=r1(null),u=a.current,f=Ai(),f=np(f),g=Qs(f),g.callback=null,As(u,g,f),u=f,a.current.lanes=u,Ha(a,u),_n(a),r[ll]=a.current,Gg(r),new Qh(a)},Bo.version="19.2.4",Bo}var T1;function KE(){if(T1)return mm.exports;T1=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),mm.exports=HE(),mm.exports}var JE=KE();function md(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(t[n[s]]=i[n[s]]);return t}function FE(i,e,t,n){function s(l){return l instanceof t?l:new t(function(o){o(l)})}return new(t||(t=Promise))(function(l,o){function c(p){try{d(n.next(p))}catch(m){o(m)}}function h(p){try{d(n.throw(p))}catch(m){o(m)}}function d(p){p.done?l(p.value):s(p.value).then(c,h)}d((n=n.apply(i,e||[])).next())})}const eR=i=>i?(...e)=>i(...e):(...e)=>fetch(...e);class J0 extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class tR extends J0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Q1 extends J0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class A1 extends J0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var RO;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(RO||(RO={}));class iR{constructor(e,{headers:t={},customFetch:n,region:s=RO.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=eR(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return FE(this,arguments,void 0,function*(t,n={}){var s;let l,o;try{const{headers:c,method:h,body:d,signal:p,timeout:m}=n;let y={},{region:b}=n;b||(b=this.region);const v=new URL(`${this.url}/${t}`);b&&b!=="any"&&(y["x-region"]=b,v.searchParams.set("forceFunctionRegion",b));let w;d&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",w=d):typeof d=="string"?(y["Content-Type"]="text/plain",w=d):typeof FormData<"u"&&d instanceof FormData?w=d:(y["Content-Type"]="application/json",w=JSON.stringify(d)):d&&typeof d!="string"&&!(typeof Blob<"u"&&d instanceof Blob)&&!(d instanceof ArrayBuffer)&&!(typeof FormData<"u"&&d instanceof FormData)?w=JSON.stringify(d):w=d;let x=p;m&&(o=new AbortController,l=setTimeout(()=>o.abort(),m),p?(x=o.signal,p.addEventListener("abort",()=>o.abort())):x=o.signal);const _=yield this.fetch(v.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),c),body:w,signal:x}).catch(B=>{throw new tR(B)}),E=_.headers.get("x-relay-error");if(E&&E==="true")throw new Q1(_);if(!_.ok)throw new A1(_);let C=((s=_.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),j;return C==="application/json"?j=yield _.json():C==="application/octet-stream"||C==="application/pdf"?j=yield _.blob():C==="text/event-stream"?j=_:C==="multipart/form-data"?j=yield _.formData():j=yield _.text(),{data:j,error:null,response:_}}catch(c){return{data:null,error:c,response:c instanceof A1||c instanceof Q1?c.context:void 0}}finally{l&&clearTimeout(l)}})}}var nR=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}},sR=class{constructor(i){var e,t,n;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(e=i.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=i.signal,this.isMaybeSingle=(t=i.isMaybeSingle)!==null&&t!==void 0?t:!1,this.urlLengthLimit=(n=i.urlLengthLimit)!==null&&n!==void 0?n:8e3,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,e){return this.headers=new Headers(this.headers),this.headers.set(i,e),this}then(i,e){var t=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let o=null,c=null,h=null,d=l.status,p=l.statusText;if(l.ok){var m,y;if(t.method!=="HEAD"){var b;const _=await l.text();_===""||(t.headers.get("Accept")==="text/csv"||t.headers.get("Accept")&&(!((b=t.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?c=_:c=JSON.parse(_))}const w=(m=t.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),x=(y=l.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");w&&x&&x.length>1&&(h=parseInt(x[1])),t.isMaybeSingle&&t.method==="GET"&&Array.isArray(c)&&(c.length>1?(o={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,d=406,p="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var v;const w=await l.text();try{o=JSON.parse(w),Array.isArray(o)&&l.status===404&&(c=[],o=null,d=200,p="OK")}catch{l.status===404&&w===""?(d=204,p="No Content"):o={message:w}}if(o&&t.isMaybeSingle&&(!(o==null||(v=o.details)===null||v===void 0)&&v.includes("0 rows"))&&(o=null,d=200,p="OK"),o&&t.shouldThrowOnError)throw new nR(o)}return{error:o,data:c,count:h,status:d,statusText:p}});return this.shouldThrowOnError||(s=s.catch(l=>{var o;let c="",h="",d="";const p=l?.cause;if(p){var m,y,b,v;const _=(m=p?.message)!==null&&m!==void 0?m:"",E=(y=p?.code)!==null&&y!==void 0?y:"";c=`${(b=l?.name)!==null&&b!==void 0?b:"FetchError"}: ${l?.message}`,c+=`

Caused by: ${(v=p?.name)!==null&&v!==void 0?v:"Error"}: ${_}`,E&&(c+=` (${E})`),p?.stack&&(c+=`
${p.stack}`)}else{var w;c=(w=l?.stack)!==null&&w!==void 0?w:""}const x=this.url.toString().length;return l?.name==="AbortError"||l?.code==="ABORT_ERR"?(d="",h="Request was aborted (timeout or manual cancellation)",x>this.urlLengthLimit&&(h+=`. Note: Your request URL is ${x} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(p?.name==="HeadersOverflowError"||p?.code==="UND_ERR_HEADERS_OVERFLOW")&&(d="",h="HTTP headers exceeded server limits (typically 16KB)",x>this.urlLengthLimit&&(h+=`. Your request URL is ${x} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=l?.name)!==null&&o!==void 0?o:"FetchError"}: ${l?.message}`,details:c,hint:h,code:d},data:null,count:null,status:0,statusText:""}})),s.then(i,e)}returns(){return this}overrideTypes(){return this}},rR=class extends sR{select(i){let e=!1;const t=(i??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",t),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:e=!0,nullsFirst:t,foreignTable:n,referencedTable:s=n}={}){const l=s?`${s}.order`:"order",o=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${o?`${o},`:""}${i}.${e?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:e,referencedTable:t=e}={}){const n=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(n,`${i}`),this}range(i,e,{foreignTable:t,referencedTable:n=t}={}){const s=typeof n>"u"?"offset":`${n}.offset`,l=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${i}`),this.url.searchParams.set(l,`${e-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:e=!1,settings:t=!1,buffers:n=!1,wal:s=!1,format:l="text"}={}){var o;const c=[i?"analyze":null,e?"verbose":null,t?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),h=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${c};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};const C1=new RegExp("[,()]");var Kl=class extends rR{eq(i,e){return this.url.searchParams.append(i,`eq.${e}`),this}neq(i,e){return this.url.searchParams.append(i,`neq.${e}`),this}gt(i,e){return this.url.searchParams.append(i,`gt.${e}`),this}gte(i,e){return this.url.searchParams.append(i,`gte.${e}`),this}lt(i,e){return this.url.searchParams.append(i,`lt.${e}`),this}lte(i,e){return this.url.searchParams.append(i,`lte.${e}`),this}like(i,e){return this.url.searchParams.append(i,`like.${e}`),this}likeAllOf(i,e){return this.url.searchParams.append(i,`like(all).{${e.join(",")}}`),this}likeAnyOf(i,e){return this.url.searchParams.append(i,`like(any).{${e.join(",")}}`),this}ilike(i,e){return this.url.searchParams.append(i,`ilike.${e}`),this}ilikeAllOf(i,e){return this.url.searchParams.append(i,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(i,e){return this.url.searchParams.append(i,`ilike(any).{${e.join(",")}}`),this}regexMatch(i,e){return this.url.searchParams.append(i,`match.${e}`),this}regexIMatch(i,e){return this.url.searchParams.append(i,`imatch.${e}`),this}is(i,e){return this.url.searchParams.append(i,`is.${e}`),this}isDistinct(i,e){return this.url.searchParams.append(i,`isdistinct.${e}`),this}in(i,e){const t=Array.from(new Set(e)).map(n=>typeof n=="string"&&C1.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(i,`in.(${t})`),this}notIn(i,e){const t=Array.from(new Set(e)).map(n=>typeof n=="string"&&C1.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(i,`not.in.(${t})`),this}contains(i,e){return typeof e=="string"?this.url.searchParams.append(i,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(i,`cs.{${e.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(e)}`),this}containedBy(i,e){return typeof e=="string"?this.url.searchParams.append(i,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(i,`cd.{${e.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(e)}`),this}rangeGt(i,e){return this.url.searchParams.append(i,`sr.${e}`),this}rangeGte(i,e){return this.url.searchParams.append(i,`nxl.${e}`),this}rangeLt(i,e){return this.url.searchParams.append(i,`sl.${e}`),this}rangeLte(i,e){return this.url.searchParams.append(i,`nxr.${e}`),this}rangeAdjacent(i,e){return this.url.searchParams.append(i,`adj.${e}`),this}overlaps(i,e){return typeof e=="string"?this.url.searchParams.append(i,`ov.${e}`):this.url.searchParams.append(i,`ov.{${e.join(",")}}`),this}textSearch(i,e,{config:t,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const l=t===void 0?"":`(${t})`;return this.url.searchParams.append(i,`${s}fts${l}.${e}`),this}match(i){return Object.entries(i).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(i,e,t){return this.url.searchParams.append(i,`not.${e}.${t}`),this}or(i,{foreignTable:e,referencedTable:t=e}={}){const n=t?`${t}.or`:"or";return this.url.searchParams.append(n,`(${i})`),this}filter(i,e,t){return this.url.searchParams.append(i,`${e}.${t}`),this}},lR=class{constructor(i,{headers:e={},schema:t,fetch:n,urlLengthLimit:s=8e3}){this.url=i,this.headers=new Headers(e),this.schema=t,this.fetch=n,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(i,e){const{head:t=!1,count:n}=e??{},s=t?"HEAD":"GET";let l=!1;const o=(i??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join(""),{url:c,headers:h}=this.cloneRequestState();return c.searchParams.set("select",o),n&&h.append("Prefer",`count=${n}`),new Kl({method:s,url:c,headers:h,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(i,{count:e,defaultToNull:t=!0}={}){var n;const s="POST",{url:l,headers:o}=this.cloneRequestState();if(e&&o.append("Prefer",`count=${e}`),t||o.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((h,d)=>h.concat(Object.keys(d)),[]);if(c.length>0){const h=[...new Set(c)].map(d=>`"${d}"`);l.searchParams.set("columns",h.join(","))}}return new Kl({method:s,url:l,headers:o,schema:this.schema,body:i,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(i,{onConflict:e,ignoreDuplicates:t=!1,count:n,defaultToNull:s=!0}={}){var l;const o="POST",{url:c,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${t?"ignore":"merge"}-duplicates`),e!==void 0&&c.searchParams.set("on_conflict",e),n&&h.append("Prefer",`count=${n}`),s||h.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(d.length>0){const p=[...new Set(d)].map(m=>`"${m}"`);c.searchParams.set("columns",p.join(","))}}return new Kl({method:o,url:c,headers:h,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}update(i,{count:e}={}){var t;const n="PATCH",{url:s,headers:l}=this.cloneRequestState();return e&&l.append("Prefer",`count=${e}`),new Kl({method:n,url:s,headers:l,schema:this.schema,body:i,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:i}={}){var e;const t="DELETE",{url:n,headers:s}=this.cloneRequestState();return i&&s.append("Prefer",`count=${i}`),new Kl({method:t,url:n,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function fc(i){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(i)}function aR(i,e){if(fc(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function oR(i){var e=aR(i,"string");return fc(e)=="symbol"?e:e+""}function cR(i,e,t){return(e=oR(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function $1(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),t.push.apply(t,n)}return t}function $h(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$1(Object(t),!0).forEach(function(n){cR(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):$1(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}var uR=class P_{constructor(e,{headers:t={},schema:n,fetch:s,timeout:l,urlLengthLimit:o=8e3}={}){this.url=e,this.headers=new Headers(t),this.schemaName=n,this.urlLengthLimit=o;const c=s??globalThis.fetch;l!==void 0&&l>0?this.fetch=(h,d)=>{const p=new AbortController,m=setTimeout(()=>p.abort(),l),y=d?.signal;if(y){if(y.aborted)return clearTimeout(m),c(h,d);const b=()=>{clearTimeout(m),p.abort()};return y.addEventListener("abort",b,{once:!0}),c(h,$h($h({},d),{},{signal:p.signal})).finally(()=>{clearTimeout(m),y.removeEventListener("abort",b)})}return c(h,$h($h({},d),{},{signal:p.signal})).finally(()=>clearTimeout(m))}:this.fetch=c}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new lR(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new P_(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,t={},{head:n=!1,get:s=!1,count:l}={}){var o;let c;const h=new URL(`${this.url}/rpc/${e}`);let d;const p=b=>b!==null&&typeof b=="object"&&(!Array.isArray(b)||b.some(p)),m=n&&Object.values(t).some(p);m?(c="POST",d=t):n||s?(c=n?"HEAD":"GET",Object.entries(t).filter(([b,v])=>v!==void 0).map(([b,v])=>[b,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([b,v])=>{h.searchParams.append(b,v)})):(c="POST",d=t);const y=new Headers(this.headers);return m?y.set("Prefer",l?`count=${l},return=minimal`:"return=minimal"):l&&y.set("Prefer",`count=${l}`),new Kl({method:c,url:h,headers:y,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class hR{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const t=globalThis.process;if(t){const n=t.versions;if(n&&n.node){const s=n.node,l=parseInt(s.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const n=this.getWebSocketConstructor();return new n(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const fR="2.95.2",dR=`realtime-js/${fR}`,pR="1.0.0",D_="2.0.0",E1=D_,MO=1e4,gR=1e3,mR=100;var qs;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(qs||(qs={}));var xt;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(xt||(xt={}));var un;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(un||(un={}));var PO;(function(i){i.websocket="websocket"})(PO||(PO={}));var Dr;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Dr||(Dr={}));class OR{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,n;const s=(n=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var t,n;const s=(n=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,t,n){var s,l;const o=e.topic,c=(s=e.ref)!==null&&s!==void 0?s:"",h=(l=e.join_ref)!==null&&l!==void 0?l:"",d=e.payload.event,p=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},m=Object.keys(p).length===0?"":JSON.stringify(p);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+c.length+o.length+d.length+m.length,b=new ArrayBuffer(this.HEADER_LENGTH+y);let v=new DataView(b),w=0;v.setUint8(w++,this.KINDS.userBroadcastPush),v.setUint8(w++,h.length),v.setUint8(w++,c.length),v.setUint8(w++,o.length),v.setUint8(w++,d.length),v.setUint8(w++,m.length),v.setUint8(w++,t),Array.from(h,_=>v.setUint8(w++,_.charCodeAt(0))),Array.from(c,_=>v.setUint8(w++,_.charCodeAt(0))),Array.from(o,_=>v.setUint8(w++,_.charCodeAt(0))),Array.from(d,_=>v.setUint8(w++,_.charCodeAt(0))),Array.from(m,_=>v.setUint8(w++,_.charCodeAt(0)));var x=new Uint8Array(b.byteLength+n.byteLength);return x.set(new Uint8Array(b),0),x.set(new Uint8Array(n),b.byteLength),x.buffer}decode(e,t){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return t(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,l,o,c,h]=n;return t({join_ref:s,ref:l,topic:o,event:c,payload:h})}return t({})}_binaryDecode(e){const t=new DataView(e),n=t.getUint8(0),s=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,t,s)}_decodeUserBroadcast(e,t,n){const s=t.getUint8(1),l=t.getUint8(2),o=t.getUint8(3),c=t.getUint8(4);let h=this.HEADER_LENGTH+4;const d=n.decode(e.slice(h,h+s));h=h+s;const p=n.decode(e.slice(h,h+l));h=h+l;const m=n.decode(e.slice(h,h+o));h=h+o;const y=e.slice(h,e.byteLength),b=c===this.JSON_ENCODING?JSON.parse(n.decode(y)):y,v={type:this.BROADCAST_EVENT,event:p,payload:b};return o>0&&(v.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e?.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>t.includes(n)))}}class Z_{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Je;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Je||(Je={}));const R1=(i,e,t={})=>{var n;const s=(n=t.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((l,o)=>(l[o]=yR(o,i,e,s),l),{}):{}},yR=(i,e,t,n)=>{const s=e.find(c=>c.name===i),l=s?.type,o=t[i];return l&&!n.includes(l)?L_(l,o):DO(o)},L_=(i,e)=>{if(i.charAt(0)==="_"){const t=i.slice(1,i.length);return wR(e,t)}switch(i){case Je.bool:return bR(e);case Je.float4:case Je.float8:case Je.int2:case Je.int4:case Je.int8:case Je.numeric:case Je.oid:return vR(e);case Je.json:case Je.jsonb:return SR(e);case Je.timestamp:return kR(e);case Je.abstime:case Je.date:case Je.daterange:case Je.int4range:case Je.int8range:case Je.money:case Je.reltime:case Je.text:case Je.time:case Je.timestamptz:case Je.timetz:case Je.tsrange:case Je.tstzrange:return DO(e);default:return DO(e)}},DO=i=>i,bR=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},vR=i=>{if(typeof i=="string"){const e=parseFloat(i);if(!Number.isNaN(e))return e}return i},SR=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch{return i}return i},wR=(i,e)=>{if(typeof i!="string")return i;const t=i.length-1,n=i[t];if(i[0]==="{"&&n==="}"){let l;const o=i.slice(1,t);try{l=JSON.parse("["+o+"]")}catch{l=o?o.split(","):[]}return l.map(c=>L_(e,c))}return i},kR=i=>typeof i=="string"?i.replace(" ","T"):i,z_=i=>{const e=new URL(i);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class vm{constructor(e,t,n={},s=MO){this.channel=e,this.event=t,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var M1;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(M1||(M1={}));class ic{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:l,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ic.syncState(this.state,s,l,o),this.pendingDiffs.forEach(h=>{this.state=ic.syncDiff(this.state,h,l,o)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},s=>{const{onJoin:l,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ic.syncDiff(this.state,s,l,o),c())}),this.onJoin((s,l,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:l,newPresences:o})}),this.onLeave((s,l,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:l,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,s){const l=this.cloneDeep(e),o=this.transformState(t),c={},h={};return this.map(l,(d,p)=>{o[d]||(h[d]=p)}),this.map(o,(d,p)=>{const m=l[d];if(m){const y=p.map(x=>x.presence_ref),b=m.map(x=>x.presence_ref),v=p.filter(x=>b.indexOf(x.presence_ref)<0),w=m.filter(x=>y.indexOf(x.presence_ref)<0);v.length>0&&(c[d]=v),w.length>0&&(h[d]=w)}else c[d]=p}),this.syncDiff(l,{joins:c,leaves:h},n,s)}static syncDiff(e,t,n,s){const{joins:l,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(l,(c,h)=>{var d;const p=(d=e[c])!==null&&d!==void 0?d:[];if(e[c]=this.cloneDeep(h),p.length>0){const m=e[c].map(b=>b.presence_ref),y=p.filter(b=>m.indexOf(b.presence_ref)<0);e[c].unshift(...y)}n(c,p,h)}),this.map(o,(c,h)=>{let d=e[c];if(!d)return;const p=h.map(m=>m.presence_ref);d=d.filter(m=>p.indexOf(m.presence_ref)<0),e[c]=d,s(c,d,h),d.length===0&&delete e[c]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const s=e[n];return"metas"in s?t[n]=s.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):t[n]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var P1;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(P1||(P1={}));var nc;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(nc||(nc={}));var os;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(os||(os={}));class na{constructor(e,t={config:{}},n){var s,l;if(this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=xt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new vm(this,un.join,this.params,this.timeout),this.rejoinTimer=new Z_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(un.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new ic(this),this.broadcastEndpointURL=z_(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var n,s,l;if(this.socket.isConnected()||this.socket.connect(),this.state==xt.closed){const{config:{broadcast:o,presence:c,private:h}}=this.params,d=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(b=>b.filter))!==null&&s!==void 0?s:[],p=!!this.bindings[nc.PRESENCE]&&this.bindings[nc.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,m={},y={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:p}),postgres_changes:d,private:h};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(b=>e?.(os.CHANNEL_ERROR,b)),this._onClose(()=>e?.(os.CLOSED)),this.updateJoinPayload(Object.assign({config:y},m)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:b})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){e?.(os.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,x=(v=w?.length)!==null&&v!==void 0?v:0,_=[];for(let E=0;E<x;E++){const C=w[E],{filter:{event:j,schema:B,table:X,filter:z}}=C,ee=b&&b[E];if(ee&&ee.event===j&&na.isFilterValueEqual(ee.schema,B)&&na.isFilterValueEqual(ee.table,X)&&na.isFilterValueEqual(ee.filter,z))_.push(Object.assign(Object.assign({},C),{id:ee.id}));else{this.unsubscribe(),this.state=xt.errored,e?.(os.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(os.SUBSCRIBED);return}}).receive("error",b=>{this.state=xt.errored,e?.(os.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e?.(os.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===xt.joined&&e===nc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,n)}async httpSend(e,t,n={}){var s;if(t==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let h=c.statusText;try{const d=await c.json();h=d.error||d.message||h}catch{}return Promise.reject(new Error(h))}async send(e,t={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:o}=e,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var o,c,h;const d=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),d.receive("ok",()=>l("ok")),d.receive("error",()=>l("error")),d.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=xt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(un.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new vm(this,un.leave,{},e),n.receive("ok",()=>{t(),s("ok")}).receive("timeout",()=>{t(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=xt.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const s=new AbortController,l=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(l),o}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new vm(this,e,t,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>mR){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var s,l;const o=e.toLocaleLowerCase(),{close:c,error:h,leave:d,join:p}=un;if(n&&[c,h,d,p].indexOf(o)>=0&&n!==this._joinRef())return;let y=this._onMessage(o,t,n);if(t&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(b=>{var v,w,x;return((v=b.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(w=b.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(b=>b.callback(y,n)):(l=this.bindings[o])===null||l===void 0||l.filter(b=>{var v,w,x,_,E,C;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in b){const j=b.id,B=(v=b.filter)===null||v===void 0?void 0:v.event;return j&&((w=t.ids)===null||w===void 0?void 0:w.includes(j))&&(B==="*"||B?.toLocaleLowerCase()===((x=t.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const j=(E=(_=b?.filter)===null||_===void 0?void 0:_.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return j==="*"||j===((C=t?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===o}).map(b=>{if(typeof y=="object"&&"ids"in y){const v=y.data,{schema:w,table:x,commit_timestamp:_,type:E,errors:C}=v;y=Object.assign(Object.assign({},{schema:w,table:x,commit_timestamp:_,eventType:E,new:{},old:{},errors:C}),this._getPayloadRecords(v))}b.callback(y,n)})}_isClosed(){return this.state===xt.closed}_isJoined(){return this.state===xt.joined}_isJoining(){return this.state===xt.joining}_isLeaving(){return this.state===xt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const s=e.toLocaleLowerCase(),l={type:s,filter:t,callback:n};return this.bindings[s]?this.bindings[s].push(l):this.bindings[s]=[l],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var l;return!(((l=s.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===n&&na.isEqual(s.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(un.close,{},e)}_onError(e){this._on(un.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=R1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=R1(e.columns,e.old_record)),t}}const Sm=()=>{},Eh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},xR=[1e3,2e3,5e3,1e4],_R=1e4,TR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class QR{constructor(e,t){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=MO,this.transport=null,this.heartbeatIntervalMs=Eh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Sm,this.ref=0,this.reconnectTimer=null,this.vsn=E1,this.logger=Sm,this.conn=null,this.sendBuffer=[],this.serializer=new OR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...l)=>s(...l):(...l)=>fetch(...l),!(!((n=t?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${PO.websocket}`,this.httpEndpoint=z_(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=hR.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case qs.connecting:return Dr.Connecting;case qs.open:return Dr.Open;case qs.closing:return Dr.Closing;default:return Dr.Closed}}isConnected(){return this.connectionState()===Dr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(l=>l.topic===n);if(s)return s;{const l=new na(`realtime:${e}`,t,this);return this.channels.push(l),l}}push(e){const{topic:t,event:n,payload:s,ref:l}=e,o=()=>{this.encode(e,c=>{var h;(h=this.conn)===null||h===void 0||h.send(c)})};this.log("push",`${t} ${n} (${l})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(gR,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Eh.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply"&&t.ref&&t.ref===this.pendingHeartbeatRef){const d=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error",d)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:l,ref:o}=t,c=o?`(${o})`:"",h=l.status||"";this.log("receive",`${h} ${n} ${s} ${c}`.trim(),l),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(s,l,o)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===qs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===qs.open||this.conn.readyState===qs.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this._terminateWorker()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(t){this.log("error","error in heartbeat callback",t)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(un.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${n}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([TR],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,n=!1;if(e)t=e,n=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),t=this.accessTokenValue}else t=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(s=>{const l={access_token:t,version:dR};t&&s.updateJoinPayload(l),s.joinedOnce&&s._isJoined()&&s._push(un.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Z_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Eh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,s,l,o,c,h,d,p,m,y,b;switch(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:MO,this.heartbeatIntervalMs=(s=e?.heartbeatIntervalMs)!==null&&s!==void 0?s:Eh.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(c=e?.heartbeatCallback)!==null&&c!==void 0?c:Sm,this.vsn=(h=e?.vsn)!==null&&h!==void 0?h:E1,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e?.reconnectAfterMs)!==null&&d!==void 0?d:(v=>xR[v-1]||_R),this.vsn){case pR:this.encode=(p=e?.encode)!==null&&p!==void 0?p:((v,w)=>w(JSON.stringify(v))),this.decode=(m=e?.decode)!==null&&m!==void 0?m:((v,w)=>w(JSON.parse(v)));break;case D_:this.encode=(y=e?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(b=e?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var dc=class extends Error{constructor(i,e){super(i),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function AR(i,e,t){const n=new URL(e,i);if(t)for(const[s,l]of Object.entries(t))l!==void 0&&n.searchParams.set(s,l);return n.toString()}async function CR(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function $R(i){const e=i.fetchImpl??globalThis.fetch;return{async request({method:t,path:n,query:s,body:l,headers:o}){const c=AR(i.baseUrl,n,s),h=await CR(i.auth),d=await e(c,{method:t,headers:{...l?{"Content-Type":"application/json"}:{},...h,...o},body:l?JSON.stringify(l):void 0}),p=await d.text(),m=(d.headers.get("content-type")||"").includes("application/json"),y=m&&p?JSON.parse(p):p;if(!d.ok){const b=m?y:void 0,v=b?.error;throw new dc(v?.message??`Request failed with status ${d.status}`,{status:d.status,icebergType:v?.type,icebergCode:v?.code,details:b})}return{status:d.status,headers:d.headers,data:y}}}}function Rh(i){return i.join("")}var ER=class{constructor(i,e=""){this.client=i,this.prefix=e}async listNamespaces(i){const e=i?{parent:Rh(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(i,e){const t={namespace:i.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Rh(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Rh(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Rh(i.namespace)}`}),!0}catch(e){if(e instanceof dc&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(i,e){try{return await this.createNamespace(i,e)}catch(t){if(t instanceof dc&&t.status===409)return;throw t}}};function ql(i){return i.join("")}var RR=class{constructor(i,e="",t){this.client=i,this.prefix=e,this.accessDelegation=t}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ql(i.namespace)}/tables`})).data.identifiers}async createTable(i,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ql(i.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(i,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ql(i.namespace)}/tables/${i.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(i,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ql(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(i){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ql(i.namespace)}/tables/${i.name}`,headers:e})).data.metadata}async tableExists(i){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ql(i.namespace)}/tables/${i.name}`,headers:e}),!0}catch(t){if(t instanceof dc&&t.status===404)return!1;throw t}}async createTableIfNotExists(i,e){try{return await this.createTable(i,e)}catch(t){if(t instanceof dc&&t.status===409)return await this.loadTable({namespace:i.namespace,name:e.name});throw t}}},MR=class{constructor(i){let e="v1";i.catalogName&&(e+=`/${i.catalogName}`);const t=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=$R({baseUrl:t,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new ER(this.client,e),this.tableOps=new RR(this.client,e,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,e){return this.namespaceOps.createNamespace(i,e)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,e){return this.tableOps.createTable(i,e)}async updateTable(i,e){return this.tableOps.updateTable(i,e)}async dropTable(i,e){await this.tableOps.dropTable(i,e)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,e){return this.namespaceOps.createNamespaceIfNotExists(i,e)}async createTableIfNotExists(i,e){return this.tableOps.createTableIfNotExists(i,e)}},Od=class extends Error{constructor(i,e="storage",t,n){super(i),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=t,this.statusCode=n}};function yd(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var Mh=class extends Od{constructor(i,e,t,n="storage"){super(i,n,e,t),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},j_=class extends Od{constructor(i,e,t="storage"){super(i,t),this.name=t==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const PR=i=>i?(...e)=>i(...e):(...e)=>fetch(...e),DR=i=>{if(typeof i!="object"||i===null)return!1;const e=Object.getPrototypeOf(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},ZO=i=>{if(Array.isArray(i))return i.map(t=>ZO(t));if(typeof i=="function"||i!==Object(i))return i;const e={};return Object.entries(i).forEach(([t,n])=>{const s=t.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[s]=ZO(n)}),e},ZR=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function pc(i){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(i)}function LR(i,e){if(pc(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function zR(i){var e=LR(i,"string");return pc(e)=="symbol"?e:e+""}function jR(i,e,t){return(e=zR(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function D1(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),t.push.apply(t,n)}return t}function ge(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?D1(Object(t),!0).forEach(function(n){jR(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):D1(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}const Z1=i=>{var e;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(e=i.error)===null||e===void 0?void 0:e.message)||JSON.stringify(i)},UR=async(i,e,t,n)=>{if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!t?.noResolveJson){const s=i,l=s.status||500;if(typeof s.json=="function")s.json().then(o=>{const c=o?.statusCode||o?.code||l+"";e(new Mh(Z1(o),l,c,n))}).catch(()=>{if(n==="vectors"){const o=l+"";e(new Mh(s.statusText||`HTTP ${l} error`,l,o,n))}else{const o=l+"";e(new Mh(s.statusText||`HTTP ${l} error`,l,o,n))}});else{const o=l+"";e(new Mh(s.statusText||`HTTP ${l} error`,l,o,n))}}else e(new j_(Z1(i),i,n))},NR=(i,e,t,n)=>{const s={method:i,headers:e?.headers||{}};return i==="GET"||i==="HEAD"||!n?ge(ge({},s),t):(DR(n)?(s.headers=ge({"Content-Type":"application/json"},e?.headers),s.body=JSON.stringify(n)):s.body=n,e?.duplex&&(s.duplex=e.duplex),ge(ge({},s),t))};async function Xo(i,e,t,n,s,l,o){return new Promise((c,h)=>{i(t,NR(e,n,s,l)).then(d=>{if(!d.ok)throw d;if(n?.noResolveJson)return d;if(o==="vectors"){const p=d.headers.get("content-type");if(d.headers.get("content-length")==="0"||d.status===204)return{};if(!p||!p.includes("application/json"))return{}}return d.json()}).then(d=>c(d)).catch(d=>UR(d,h,n,o))})}function U_(i="storage"){return{get:async(e,t,n,s)=>Xo(e,"GET",t,n,s,void 0,i),post:async(e,t,n,s,l)=>Xo(e,"POST",t,s,l,n,i),put:async(e,t,n,s,l)=>Xo(e,"PUT",t,s,l,n,i),head:async(e,t,n,s)=>Xo(e,"HEAD",t,ge(ge({},n),{},{noResolveJson:!0}),s,void 0,i),remove:async(e,t,n,s,l)=>Xo(e,"DELETE",t,s,l,n,i)}}const BR=U_("storage"),{get:gc,post:cn,put:LO,head:XR,remove:F0}=BR,Zi=U_("vectors");var za=class{constructor(i,e={},t,n="storage"){this.shouldThrowOnError=!1,this.url=i,this.headers=e,this.fetch=PR(t),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(i){var e=this;try{return{data:await i(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(yd(t))return{data:null,error:t};throw t}}},qR=class{constructor(i,e){this.downloadFn=i,this.shouldThrowOnError=e}then(i,e){return this.execute().then(i,e)}async execute(){var i=this;try{return{data:(await i.downloadFn()).body,error:null}}catch(e){if(i.shouldThrowOnError)throw e;if(yd(e))return{data:null,error:e};throw e}}};let N_;N_=Symbol.toStringTag;var YR=class{constructor(i,e){this.downloadFn=i,this.shouldThrowOnError=e,this[N_]="BlobDownloadBuilder",this.promise=null}asStream(){return new qR(this.downloadFn,this.shouldThrowOnError)}then(i,e){return this.getPromise().then(i,e)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var i=this;try{return{data:await(await i.downloadFn()).blob(),error:null}}catch(e){if(i.shouldThrowOnError)throw e;if(yd(e))return{data:null,error:e};throw e}}};const VR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},L1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var IR=class extends za{constructor(i,e={},t,n){super(i,e,n,"storage"),this.bucketId=t}async uploadOrUpdate(i,e,t,n){var s=this;return s.handleOperation(async()=>{let l;const o=ge(ge({},L1),n);let c=ge(ge({},s.headers),i==="POST"&&{"x-upsert":String(o.upsert)});const h=o.metadata;typeof Blob<"u"&&t instanceof Blob?(l=new FormData,l.append("cacheControl",o.cacheControl),h&&l.append("metadata",s.encodeMetadata(h)),l.append("",t)):typeof FormData<"u"&&t instanceof FormData?(l=t,l.has("cacheControl")||l.append("cacheControl",o.cacheControl),h&&!l.has("metadata")&&l.append("metadata",s.encodeMetadata(h))):(l=t,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,h&&(c["x-metadata"]=s.toBase64(s.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!o.duplex&&(o.duplex="half")),n?.headers&&(c=ge(ge({},c),n.headers));const d=s._removeEmptyFolders(e),p=s._getFinalPath(d),m=await(i=="PUT"?LO:cn)(s.fetch,`${s.url}/object/${p}`,l,ge({headers:c},o?.duplex?{duplex:o.duplex}:{}));return{path:d,id:m.Id,fullPath:m.Key}})}async upload(i,e,t){return this.uploadOrUpdate("POST",i,e,t)}async uploadToSignedUrl(i,e,t,n){var s=this;const l=s._removeEmptyFolders(i),o=s._getFinalPath(l),c=new URL(s.url+`/object/upload/sign/${o}`);return c.searchParams.set("token",e),s.handleOperation(async()=>{let h;const d=ge({upsert:L1.upsert},n),p=ge(ge({},s.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&t instanceof Blob?(h=new FormData,h.append("cacheControl",d.cacheControl),h.append("",t)):typeof FormData<"u"&&t instanceof FormData?(h=t,h.append("cacheControl",d.cacheControl)):(h=t,p["cache-control"]=`max-age=${d.cacheControl}`,p["content-type"]=d.contentType),{path:l,fullPath:(await LO(s.fetch,c.toString(),h,{headers:p})).Key}})}async createSignedUploadUrl(i,e){var t=this;return t.handleOperation(async()=>{let n=t._getFinalPath(i);const s=ge({},t.headers);e?.upsert&&(s["x-upsert"]="true");const l=await cn(t.fetch,`${t.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(t.url+l.url),c=o.searchParams.get("token");if(!c)throw new Od("No token returned by API");return{signedUrl:o.toString(),path:i,token:c}})}async update(i,e,t){return this.uploadOrUpdate("PUT",i,e,t)}async move(i,e,t){var n=this;return n.handleOperation(async()=>await cn(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:i,destinationKey:e,destinationBucket:t?.destinationBucket},{headers:n.headers}))}async copy(i,e,t){var n=this;return n.handleOperation(async()=>({path:(await cn(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:i,destinationKey:e,destinationBucket:t?.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(i,e,t){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(i),l=await cn(n.fetch,`${n.url}/object/sign/${s}`,ge({expiresIn:e},t?.transform?{transform:t.transform}:{}),{headers:n.headers});const o=t?.download?`&download=${t.download===!0?"":t.download}`:"";return{signedUrl:encodeURI(`${n.url}${l.signedURL}${o}`)}})}async createSignedUrls(i,e,t){var n=this;return n.handleOperation(async()=>{const s=await cn(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:i},{headers:n.headers}),l=t?.download?`&download=${t.download===!0?"":t.download}`:"";return s.map(o=>ge(ge({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${l}`):null}))})}download(i,e){const t=typeof e?.transform<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString(e?.transform||{}),s=n?`?${n}`:"",l=this._getFinalPath(i),o=()=>gc(this.fetch,`${this.url}/${t}/${l}${s}`,{headers:this.headers,noResolveJson:!0});return new YR(o,this.shouldThrowOnError)}async info(i){var e=this;const t=e._getFinalPath(i);return e.handleOperation(async()=>ZO(await gc(e.fetch,`${e.url}/object/info/${t}`,{headers:e.headers})))}async exists(i){var e=this;const t=e._getFinalPath(i);try{return await XR(e.fetch,`${e.url}/object/${t}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(yd(n)&&n instanceof j_){const s=n.originalError;if([400,404].includes(s?.status))return{data:!1,error:n}}throw n}}getPublicUrl(i,e){const t=this._getFinalPath(i),n=[],s=e?.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&n.push(s);const l=typeof e?.transform<"u"?"render/image":"object",o=this.transformOptsToQueryString(e?.transform||{});o!==""&&n.push(o);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${t}${c}`)}}}async remove(i){var e=this;return e.handleOperation(async()=>await F0(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:i},{headers:e.headers}))}async list(i,e,t){var n=this;return n.handleOperation(async()=>{const s=ge(ge(ge({},VR),e),{},{prefix:i||""});return await cn(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},t)})}async listV2(i,e){var t=this;return t.handleOperation(async()=>{const n=ge({},i);return await cn(t.fetch,`${t.url}/object/list-v2/${t.bucketId}`,n,{headers:t.headers},e)})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const e=[];return i.width&&e.push(`width=${i.width}`),i.height&&e.push(`height=${i.height}`),i.resize&&e.push(`resize=${i.resize}`),i.format&&e.push(`format=${i.format}`),i.quality&&e.push(`quality=${i.quality}`),e.join("&")}};const GR="2.95.2",Gc={"X-Client-Info":`storage-js/${GR}`};var WR=class extends za{constructor(i,e={},t,n){const s=new URL(i);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const l=s.href.replace(/\/$/,""),o=ge(ge({},Gc),e);super(l,o,t,"storage")}async listBuckets(i){var e=this;return e.handleOperation(async()=>{const t=e.listBucketOptionsToQueryString(i);return await gc(e.fetch,`${e.url}/bucket${t}`,{headers:e.headers})})}async getBucket(i){var e=this;return e.handleOperation(async()=>await gc(e.fetch,`${e.url}/bucket/${i}`,{headers:e.headers}))}async createBucket(i,e={public:!1}){var t=this;return t.handleOperation(async()=>await cn(t.fetch,`${t.url}/bucket`,{id:i,name:i,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}))}async updateBucket(i,e){var t=this;return t.handleOperation(async()=>await LO(t.fetch,`${t.url}/bucket/${i}`,{id:i,name:i,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}))}async emptyBucket(i){var e=this;return e.handleOperation(async()=>await cn(e.fetch,`${e.url}/bucket/${i}/empty`,{},{headers:e.headers}))}async deleteBucket(i){var e=this;return e.handleOperation(async()=>await F0(e.fetch,`${e.url}/bucket/${i}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(i){const e={};return i&&("limit"in i&&(e.limit=String(i.limit)),"offset"in i&&(e.offset=String(i.offset)),i.search&&(e.search=i.search),i.sortColumn&&(e.sortColumn=i.sortColumn),i.sortOrder&&(e.sortOrder=i.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},HR=class extends za{constructor(i,e={},t){const n=i.replace(/\/$/,""),s=ge(ge({},Gc),e);super(n,s,t,"storage")}async createBucket(i){var e=this;return e.handleOperation(async()=>await cn(e.fetch,`${e.url}/bucket`,{name:i},{headers:e.headers}))}async listBuckets(i){var e=this;return e.handleOperation(async()=>{const t=new URLSearchParams;i?.limit!==void 0&&t.set("limit",i.limit.toString()),i?.offset!==void 0&&t.set("offset",i.offset.toString()),i?.sortColumn&&t.set("sortColumn",i.sortColumn),i?.sortOrder&&t.set("sortOrder",i.sortOrder),i?.search&&t.set("search",i.search);const n=t.toString(),s=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return await gc(e.fetch,s,{headers:e.headers})})}async deleteBucket(i){var e=this;return e.handleOperation(async()=>await F0(e.fetch,`${e.url}/bucket/${i}`,{},{headers:e.headers}))}from(i){var e=this;if(!ZR(i))throw new Od("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const t=new MR({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(t,{get(s,l){const o=s[l];return typeof o!="function"?o:async(...c)=>{try{return{data:await o.apply(s,c),error:null}}catch(h){if(n)throw h;return{data:null,error:h}}}}})}},KR=class extends za{constructor(i,e={},t){const n=i.replace(/\/$/,""),s=ge(ge({},Gc),{},{"Content-Type":"application/json"},e);super(n,s,t,"vectors")}async createIndex(i){var e=this;return e.handleOperation(async()=>await Zi.post(e.fetch,`${e.url}/CreateIndex`,i,{headers:e.headers})||{})}async getIndex(i,e){var t=this;return t.handleOperation(async()=>await Zi.post(t.fetch,`${t.url}/GetIndex`,{vectorBucketName:i,indexName:e},{headers:t.headers}))}async listIndexes(i){var e=this;return e.handleOperation(async()=>await Zi.post(e.fetch,`${e.url}/ListIndexes`,i,{headers:e.headers}))}async deleteIndex(i,e){var t=this;return t.handleOperation(async()=>await Zi.post(t.fetch,`${t.url}/DeleteIndex`,{vectorBucketName:i,indexName:e},{headers:t.headers})||{})}},JR=class extends za{constructor(i,e={},t){const n=i.replace(/\/$/,""),s=ge(ge({},Gc),{},{"Content-Type":"application/json"},e);super(n,s,t,"vectors")}async putVectors(i){var e=this;if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Zi.post(e.fetch,`${e.url}/PutVectors`,i,{headers:e.headers})||{})}async getVectors(i){var e=this;return e.handleOperation(async()=>await Zi.post(e.fetch,`${e.url}/GetVectors`,i,{headers:e.headers}))}async listVectors(i){var e=this;if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return e.handleOperation(async()=>await Zi.post(e.fetch,`${e.url}/ListVectors`,i,{headers:e.headers}))}async queryVectors(i){var e=this;return e.handleOperation(async()=>await Zi.post(e.fetch,`${e.url}/QueryVectors`,i,{headers:e.headers}))}async deleteVectors(i){var e=this;if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Zi.post(e.fetch,`${e.url}/DeleteVectors`,i,{headers:e.headers})||{})}},FR=class extends za{constructor(i,e={},t){const n=i.replace(/\/$/,""),s=ge(ge({},Gc),{},{"Content-Type":"application/json"},e);super(n,s,t,"vectors")}async createBucket(i){var e=this;return e.handleOperation(async()=>await Zi.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:e.headers})||{})}async getBucket(i){var e=this;return e.handleOperation(async()=>await Zi.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:i},{headers:e.headers}))}async listBuckets(i={}){var e=this;return e.handleOperation(async()=>await Zi.post(e.fetch,`${e.url}/ListVectorBuckets`,i,{headers:e.headers}))}async deleteBucket(i){var e=this;return e.handleOperation(async()=>await Zi.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:e.headers})||{})}},eM=class extends FR{constructor(i,e={}){super(i,e.headers||{},e.fetch)}from(i){return new tM(this.url,this.headers,i,this.fetch)}async createBucket(i){var e=()=>super.createBucket,t=this;return e().call(t,i)}async getBucket(i){var e=()=>super.getBucket,t=this;return e().call(t,i)}async listBuckets(i={}){var e=()=>super.listBuckets,t=this;return e().call(t,i)}async deleteBucket(i){var e=()=>super.deleteBucket,t=this;return e().call(t,i)}},tM=class extends KR{constructor(i,e,t,n){super(i,e,n),this.vectorBucketName=t}async createIndex(i){var e=()=>super.createIndex,t=this;return e().call(t,ge(ge({},i),{},{vectorBucketName:t.vectorBucketName}))}async listIndexes(i={}){var e=()=>super.listIndexes,t=this;return e().call(t,ge(ge({},i),{},{vectorBucketName:t.vectorBucketName}))}async getIndex(i){var e=()=>super.getIndex,t=this;return e().call(t,t.vectorBucketName,i)}async deleteIndex(i){var e=()=>super.deleteIndex,t=this;return e().call(t,t.vectorBucketName,i)}index(i){return new iM(this.url,this.headers,this.vectorBucketName,i,this.fetch)}},iM=class extends JR{constructor(i,e,t,n,s){super(i,e,s),this.vectorBucketName=t,this.indexName=n}async putVectors(i){var e=()=>super.putVectors,t=this;return e().call(t,ge(ge({},i),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(i){var e=()=>super.getVectors,t=this;return e().call(t,ge(ge({},i),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(i={}){var e=()=>super.listVectors,t=this;return e().call(t,ge(ge({},i),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(i){var e=()=>super.queryVectors,t=this;return e().call(t,ge(ge({},i),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(i){var e=()=>super.deleteVectors,t=this;return e().call(t,ge(ge({},i),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},nM=class extends WR{constructor(i,e={},t,n){super(i,e,t,n)}from(i){return new IR(this.url,this.headers,i,this.fetch)}get vectors(){return new eM(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new HR(this.url+"/iceberg",this.headers,this.fetch)}};const B_="2.95.2",Jl=30*1e3,zO=3,wm=zO*Jl,sM="http://localhost:9999",rM="supabase.auth.token",lM={"X-Client-Info":`gotrue-js/${B_}`},jO="X-Supabase-Api-Version",X_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},aM=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,oM=600*1e3;class mc extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function ae(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class cM extends mc{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function uM(i){return ae(i)&&i.name==="AuthApiError"}class Zr extends mc{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ms extends mc{constructor(e,t,n,s){super(e,n,s),this.name=t,this.status=n}}class Ei extends ms{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function km(i){return ae(i)&&i.name==="AuthSessionMissingError"}class Yl extends ms{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ph extends ms{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Dh extends ms{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function hM(i){return ae(i)&&i.name==="AuthImplicitGrantRedirectError"}class z1 extends ms{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fM extends ms{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class UO extends ms{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function xm(i){return ae(i)&&i.name==="AuthRetryableFetchError"}class j1 extends ms{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class NO extends ms{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const _f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),U1=` 	
\r=`.split(""),dM=(()=>{const i=new Array(128);for(let e=0;e<i.length;e+=1)i[e]=-1;for(let e=0;e<U1.length;e+=1)i[U1[e].charCodeAt(0)]=-2;for(let e=0;e<_f.length;e+=1)i[_f[e].charCodeAt(0)]=e;return i})();function N1(i,e,t){if(i!==null)for(e.queue=e.queue<<8|i,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(_f[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(_f[n]),e.queuedBits-=6}}function q_(i,e,t){const n=dM[i];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function B1(i){const e=[],t=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},l=o=>{mM(o,n,t)};for(let o=0;o<i.length;o+=1)q_(i.charCodeAt(o),s,l);return e.join("")}function pM(i,e){if(i<=127){e(i);return}else if(i<=2047){e(192|i>>6),e(128|i&63);return}else if(i<=65535){e(224|i>>12),e(128|i>>6&63),e(128|i&63);return}else if(i<=1114111){e(240|i>>18),e(128|i>>12&63),e(128|i>>6&63),e(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function gM(i,e){for(let t=0;t<i.length;t+=1){let n=i.charCodeAt(t);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(i.charCodeAt(t+1)-56320&65535|s)+65536,t+=1}pM(n,e)}}function mM(i,e,t){if(e.utf8seq===0){if(i<=127){t(i);return}for(let n=1;n<6;n+=1)if((i>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=i&31;else if(e.utf8seq===3)e.codepoint=i&15;else if(e.utf8seq===4)e.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|i&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function ca(i){const e=[],t={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<i.length;s+=1)q_(i.charCodeAt(s),t,n);return new Uint8Array(e)}function OM(i){const e=[];return gM(i,t=>e.push(t)),new Uint8Array(e)}function jr(i){const e=[],t={queue:0,queuedBits:0},n=s=>{e.push(s)};return i.forEach(s=>N1(s,t,n)),N1(null,t,n),e.join("")}function yM(i){return Math.round(Date.now()/1e3)+i}function bM(){return Symbol("auth-callback")}const Bt=()=>typeof window<"u"&&typeof document<"u",$r={tested:!1,writable:!1},Y_=()=>{if(!Bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($r.tested)return $r.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),$r.tested=!0,$r.writable=!0}catch{$r.tested=!0,$r.writable=!1}return $r.writable};function vM(i){const e={},t=new URL(i);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,l)=>{e[l]=s})}catch{}return t.searchParams.forEach((n,s)=>{e[s]=n}),e}const V_=i=>i?(...e)=>i(...e):(...e)=>fetch(...e),SM=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Fl=async(i,e,t)=>{await i.setItem(e,JSON.stringify(t))},Er=async(i,e)=>{const t=await i.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Nt=async(i,e)=>{await i.removeItem(e)};class bd{constructor(){this.promise=new bd.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}bd.promiseConstructor=Promise;function Zh(i){const e=i.split(".");if(e.length!==3)throw new NO("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!aM.test(e[n]))throw new NO("JWT not in base64url format");return{header:JSON.parse(B1(e[0])),payload:JSON.parse(B1(e[1])),signature:ca(e[2]),raw:{header:e[0],payload:e[1]}}}async function wM(i){return await new Promise(e=>{setTimeout(()=>e(null),i)})}function kM(i,e){return new Promise((n,s)=>{(async()=>{for(let l=0;l<1/0;l++)try{const o=await i(l);if(!e(l,null,o)){n(o);return}}catch(o){if(!e(l,o)){s(o);return}}})()})}function xM(i){return("0"+i.toString(16)).substr(-2)}function _M(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let s="";for(let l=0;l<56;l++)s+=t.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,xM).join("")}async function TM(i){const t=new TextEncoder().encode(i),n=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(n);return Array.from(s).map(l=>String.fromCharCode(l)).join("")}async function QM(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const t=await TM(i);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vl(i,e,t=!1){const n=_M();let s=n;t&&(s+="/PASSWORD_RECOVERY"),await Fl(i,`${e}-code-verifier`,s);const l=await QM(n);return[l,n===l?"plain":"s256"]}const AM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function CM(i){const e=i.headers.get(jO);if(!e||!e.match(AM))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function $M(i){if(!i)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(i<=e)throw new Error("JWT has expired")}function EM(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const RM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Il(i){if(!RM.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _m(){const i={};return new Proxy(i,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const n=t.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function MM(i,e){return new Proxy(i,{get:(t,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const l=n.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,n,s)}})}function X1(i){return JSON.parse(JSON.stringify(i))}const Mr=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),PM=[502,503,504];async function q1(i){var e;if(!SM(i))throw new UO(Mr(i),0);if(PM.includes(i.status))throw new UO(Mr(i),i.status);let t;try{t=await i.json()}catch(l){throw new Zr(Mr(l),l)}let n;const s=CM(i);if(s&&s.getTime()>=X_["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new j1(Mr(t),i.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ei}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((l,o)=>l&&typeof o=="string",!0))throw new j1(Mr(t),i.status,t.weak_password.reasons);throw new cM(Mr(t),i.status||500,n)}const DM=(i,e,t,n)=>{const s={method:i,headers:e?.headers||{}};return i==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),t))};async function de(i,e,t,n){var s;const l=Object.assign({},n?.headers);l[jO]||(l[jO]=X_["2024-01-01"].name),n?.jwt&&(l.Authorization=`Bearer ${n.jwt}`);const o=(s=n?.query)!==null&&s!==void 0?s:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",h=await ZM(i,e,t+c,{headers:l,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(h):{data:Object.assign({},h),error:null}}async function ZM(i,e,t,n,s,l){const o=DM(e,n,s,l);let c;try{c=await i(t,Object.assign({},o))}catch(h){throw console.error(h),new UO(Mr(h),0)}if(c.ok||await q1(c),n?.noResolveJson)return c;try{return await c.json()}catch(h){await q1(h)}}function on(i){var e;let t=null;jM(i)&&(t=Object.assign({},i),i.expires_at||(t.expires_at=yM(i.expires_in)));const n=(e=i.user)!==null&&e!==void 0?e:i;return{data:{session:t,user:n},error:null}}function Y1(i){const e=on(i);return!e.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=i.weak_password),e}function Is(i){var e;return{data:{user:(e=i.user)!==null&&e!==void 0?e:i},error:null}}function LM(i){return{data:i,error:null}}function zM(i){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:s,verification_type:l}=i,o=md(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:t,hashed_token:n,redirect_to:s,verification_type:l},h=Object.assign({},o);return{data:{properties:c,user:h},error:null}}function V1(i){return i}function jM(i){return i.access_token&&i.refresh_token&&i.expires_in}const Tm=["global","local","others"];class UM{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=V_(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=Tm[0]){if(Tm.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Tm.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Is})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=md(e,["options"]),s=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(s.new_email=n?.newEmail,delete s.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:zM,redirectTo:t?.redirectTo})}catch(t){if(ae(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Is})}catch(t){if(ae(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,s,l,o,c,h;try{const d={nextPage:null,lastPage:0,total:0},p=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(l=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:""},xform:V1});if(p.error)throw p.error;const m=await p.json(),y=(o=p.headers.get("x-total-count"))!==null&&o!==void 0?o:0,b=(h=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);d[`${x}Page`]=w}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(ae(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){Il(e);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Is})}catch(t){if(ae(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Il(e);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Is})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){Il(e);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Is})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Il(e.userId);try{const{data:t,error:n}=await de(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:n}}catch(t){if(ae(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Il(e.userId),Il(e.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(ae(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,n,s,l,o,c,h;try{const d={nextPage:null,lastPage:0,total:0},p=await de(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(l=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:""},xform:V1});if(p.error)throw p.error;const m=await p.json(),y=(o=p.headers.get("x-total-count"))!==null&&o!==void 0?o:0,b=(h=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);d[`${x}Page`]=w}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(ae(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ae(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await de(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ae(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await de(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await de(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(ae(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ae(t))return{data:null,error:t};throw t}}}function I1(i={}){return{getItem:e=>i[e]||null,setItem:(e,t)=>{i[e]=t},removeItem:e=>{delete i[e]}}}const Gl={debug:!!(globalThis&&Y_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class I_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class NM extends I_{}async function BM(i,e,t){Gl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Gl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Gl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,s.name);try{return await t()}finally{Gl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,s.name)}}else{if(e===0)throw Gl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new NM(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Gl.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function XM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function G_(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function qM(i){return parseInt(i,16)}function YM(i){const e=new TextEncoder().encode(i);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function VM(i){var e;const{chainId:t,domain:n,expirationTime:s,issuedAt:l=new Date,nonce:o,notBefore:c,requestId:h,resources:d,scheme:p,uri:m,version:y}=i;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((e=i.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const b=G_(i.address),v=p?`${p}://${n}`:n,w=i.statement?`${i.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${b}

${w}`;let _=`URI: ${m}
Version: ${y}
Chain ID: ${t}${o?`
Nonce: ${o}`:""}
Issued At: ${l.toISOString()}`;if(s&&(_+=`
Expiration Time: ${s.toISOString()}`),c&&(_+=`
Not Before: ${c.toISOString()}`),h&&(_+=`
Request ID: ${h}`),d){let E=`
Resources:`;for(const C of d){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);E+=`
- ${C}`}_+=E}return`${x}
${_}`}class bt extends Error{constructor({message:e,code:t,cause:n,name:s}){var l;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(l=s??(n instanceof Error?n.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=t}}class Tf extends bt{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function IM({error:i,options:e}){var t,n,s;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(e.signal instanceof AbortSignal)return new bt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((t=l.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new bt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(e.mediation==="conditional"&&((n=l.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new bt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new bt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new bt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new bt({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return l.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new bt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new bt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const o=window.location.hostname;if(W_(o)){if(l.rp.id!==o)return new bt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new bt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new bt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new bt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new bt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function GM({error:i,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(e.signal instanceof AbortSignal)return new bt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new bt({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const n=window.location.hostname;if(W_(n)){if(t.rpId!==n)return new bt({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new bt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new bt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new bt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class WM{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const HM=new WM;function KM(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:e,user:t,excludeCredentials:n}=i,s=md(i,["challenge","user","excludeCredentials"]),l=ca(e).buffer,o=Object.assign(Object.assign({},t),{id:ca(t.id).buffer}),c=Object.assign(Object.assign({},s),{challenge:l,user:o});if(n&&n.length>0){c.excludeCredentials=new Array(n.length);for(let h=0;h<n.length;h++){const d=n[h];c.excludeCredentials[h]=Object.assign(Object.assign({},d),{id:ca(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return c}function JM(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:e,allowCredentials:t}=i,n=md(i,["challenge","allowCredentials"]),s=ca(e).buffer,l=Object.assign(Object.assign({},n),{challenge:s});if(t&&t.length>0){l.allowCredentials=new Array(t.length);for(let o=0;o<t.length;o++){const c=t[o];l.allowCredentials[o]=Object.assign(Object.assign({},c),{id:ca(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return l}function FM(i){var e;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const t=i;return{id:i.id,rawId:i.id,response:{attestationObject:jr(new Uint8Array(i.response.attestationObject)),clientDataJSON:jr(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function eP(i){var e;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const t=i,n=i.getClientExtensionResults(),s=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:jr(new Uint8Array(s.authenticatorData)),clientDataJSON:jr(new Uint8Array(s.clientDataJSON)),signature:jr(new Uint8Array(s.signature)),userHandle:s.userHandle?jr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function W_(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function G1(){var i,e;return!!(Bt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function tP(i){try{const e=await navigator.credentials.create(i);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Tf("Browser returned unexpected credential type",e)}:{data:null,error:new Tf("Empty credential response",e)}}catch(e){return{data:null,error:IM({error:e,options:i})}}}async function iP(i){try{const e=await navigator.credentials.get(i);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Tf("Browser returned unexpected credential type",e)}:{data:null,error:new Tf("Empty credential response",e)}}catch(e){return{data:null,error:GM({error:e,options:i})}}}const nP={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},sP={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Qf(...i){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),t=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of i)if(s)for(const l in s){const o=s[l];if(o!==void 0)if(Array.isArray(o))n[l]=o;else if(t(o))n[l]=o;else if(e(o)){const c=n[l];e(c)?n[l]=Qf(c,o):n[l]=Qf(o)}else n[l]=o}return n}function rP(i,e){return Qf(nP,i,e||{})}function lP(i,e){return Qf(sP,i,e||{})}class aP{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:n,signal:s},l){var o;try{const{data:c,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!c)return{data:null,error:h};const d=s??HM.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:p}=c.webauthn.credential_options.publicKey;if(!p.name){const m=n;if(m)p.name=`${p.id}:${m}`;else{const b=(await this.client.getUser()).data.user,v=((o=b?.user_metadata)===null||o===void 0?void 0:o.name)||b?.email||b?.id||"User";p.name=`${p.id}:${v}`}}p.displayName||(p.displayName=p.name)}switch(c.webauthn.type){case"create":{const p=rP(c.webauthn.credential_options.publicKey,l?.create),{data:m,error:y}=await tP({publicKey:p,signal:d});return m?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:y}}case"request":{const p=lP(c.webauthn.credential_options.publicKey,l?.request),{data:m,error:y}=await iP(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:p,signal:d}));return m?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:y}}}}catch(c){return ae(c)?{data:null,error:c}:{data:null,error:new Zr("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:t,webauthn:n}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},l){if(!t)return{data:null,error:new mc("rpId is required for WebAuthn authentication")};try{if(!G1())return{data:null,error:new Zr("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:n},signal:s},{request:l});if(!o)return{data:null,error:c};const{webauthn:h}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:h.type,rpId:t,rpOrigins:n,credential_response:h.credential_response}})}catch(o){return ae(o)?{data:null,error:o}:{data:null,error:new Zr("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},l){if(!t)return{data:null,error:new mc("rpId is required for WebAuthn registration")};try{if(!G1())return{data:null,error:new Zr("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(p=>{var m;return(m=p.data)===null||m===void 0?void 0:m.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:c};const{data:h,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:t,rpOrigins:n},signal:s},{create:l});return h?this._verify({factorId:o.id,challengeId:h.challengeId,webauthn:{rpId:t,rpOrigins:n,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:d}}catch(o){return ae(o)?{data:null,error:o}:{data:null,error:new Zr("Unexpected error in register",o)}}}}XM();const oP={url:sM,storageKey:rM,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lM,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function W1(i,e,t){return await t()}const Wl={};class Oc{get jwks(){var e,t;return(t=(e=Wl[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Wl[this.storageKey]=Object.assign(Object.assign({},Wl[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Wl[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Wl[this.storageKey]=Object.assign(Object.assign({},Wl[this.storageKey]),{cachedAt:e})}constructor(e){var t,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},oP),e);if(this.storageKey=l.storageKey,this.instanceID=(t=Oc.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,Oc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&Bt()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new UM({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=V_(l.fetch),this.lock=l.lock||W1,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,this.lockAcquireTimeout=l.lockAcquireTimeout,l.lock?this.lock=l.lock:this.persistSession&&Bt()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=BM:this.lock=W1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new aP(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:Y_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=I1(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=I1(this.memoryStorage)),Bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(c){this._debug("#broadcastChannel","error",c)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${B_}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},n="none";if(Bt()&&(t=vM(window.location.href),this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce")),Bt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:l}=await this._getSessionFromURL(t,n);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),hM(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return{error:l}}const{session:o,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ae(t)?this._returnResult({error:t}):this._returnResult({error:new Zr("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,s;try{const l=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e?.options)===null||s===void 0?void 0:s.captchaToken}},xform:on}),{data:o,error:c}=l;if(c||!o)return this._returnResult({data:{user:null,session:null},error:c});const h=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:d,session:h},error:null})}catch(l){if(ae(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var t,n,s;try{let l;if("email"in e){const{email:p,password:m,options:y}=e;let b=null,v=null;this.flowType==="pkce"&&([b,v]=await Vl(this.storage,this.storageKey)),l=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:p,password:m,data:(t=y?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:b,code_challenge_method:v},xform:on})}else if("phone"in e){const{phone:p,password:m,options:y}=e;l=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(n=y?.data)!==null&&n!==void 0?n:{},channel:(s=y?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:on})}else throw new Ph("You must provide either an email or phone number and a password");const{data:o,error:c}=l;if(c||!o)return await Nt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const h=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:d,session:h},error:null})}catch(l){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),ae(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let t;if("email"in e){const{email:l,password:o,options:c}=e;t=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Y1})}else if("phone"in e){const{phone:l,password:o,options:c}=e;t=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Y1})}else throw new Ph("You must provide either an email or phone number and a password");const{data:n,error:s}=t;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const l=new Yl;return this._returnResult({data:{user:null,session:null},error:l})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(t){if(ae(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,n,s,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,n,s,l,o,c,h,d,p,m,y;let b,v;if("message"in e)b=e.message,v=e.signature;else{const{chain:w,wallet:x,statement:_,options:E}=e;let C;if(Bt())if(typeof x=="object")C=x;else{const re=window;if("ethereum"in re&&typeof re.ethereum=="object"&&"request"in re.ethereum&&typeof re.ethereum.request=="function")C=re.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=x}const j=new URL((t=E?.url)!==null&&t!==void 0?t:window.location.href),B=await C.request({method:"eth_requestAccounts"}).then(re=>re).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!B||B.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const X=G_(B[0]);let z=(n=E?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!z){const re=await C.request({method:"eth_chainId"});z=qM(re)}const ee={domain:j.host,address:X,statement:_,uri:j.href,version:"1",chainId:z,nonce:(s=E?.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(l=E?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(c=E?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(h=E?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(d=E?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(p=E?.signInWithEthereum)===null||p===void 0?void 0:p.resources};b=VM(ee),v=await C.request({method:"personal_sign",params:[YM(b),X]})}try{const{data:w,error:x}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:v},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:on});if(x)throw x;if(!w||!w.session||!w.user){const _=new Yl;return this._returnResult({data:{user:null,session:null},error:_})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:x})}catch(w){if(ae(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var t,n,s,l,o,c,h,d,p,m,y,b;let v,w;if("message"in e)v=e.message,w=e.signature;else{const{chain:x,wallet:_,statement:E,options:C}=e;let j;if(Bt())if(typeof _=="object")j=_;else{const X=window;if("solana"in X&&typeof X.solana=="object"&&("signIn"in X.solana&&typeof X.solana.signIn=="function"||"signMessage"in X.solana&&typeof X.solana.signMessage=="function"))j=X.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=_}const B=new URL((t=C?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in j&&j.signIn){const X=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),E?{statement:E}:null));let z;if(Array.isArray(X)&&X[0]&&typeof X[0]=="object")z=X[0];else if(X&&typeof X=="object"&&"signedMessage"in X&&"signature"in X)z=X;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)v=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),w=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${B.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(s=(n=C?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((l=C?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((o=C?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((c=C?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((h=C?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((d=C?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((m=(p=C?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||m===void 0)&&m.length?["Resources",...C.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const X=await j.signMessage(new TextEncoder().encode(v),"utf8");if(!X||!(X instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=X}}try{const{data:x,error:_}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:jr(w)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:on});if(_)throw _;if(!x||!x.session||!x.user){const E=new Yl;return this._returnResult({data:{user:null,session:null},error:E})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:_})}catch(x){if(ae(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const t=await Er(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(t??"").split("/");try{if(!n&&this.flowType==="pkce")throw new fM;const{data:l,error:o}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:on});if(await Nt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!l||!l.session||!l.user){const c=new Yl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:s??null}),error:o})}catch(l){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),ae(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:t,provider:n,token:s,access_token:l,nonce:o}=e,c=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:l,nonce:o,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:on}),{data:h,error:d}=c;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!h||!h.session||!h.user){const p=new Yl;return this._returnResult({data:{user:null,session:null},error:p})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:d})}catch(t){if(ae(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,n,s,l,o;try{if("email"in e){const{email:c,options:h}=e;let d=null,p=null;this.flowType==="pkce"&&([d,p]=await Vl(this.storage,this.storageKey));const{error:m}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(t=h?.data)!==null&&t!==void 0?t:{},create_user:(n=h?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:d,code_challenge_method:p},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:c,options:h}=e,{data:d,error:p}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=h?.data)!==null&&s!==void 0?s:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(o=h?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:p})}throw new Ph("You must provide either an email or phone number.")}catch(c){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),ae(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var t,n;try{let s,l;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,l=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:c}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:s,xform:on});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const h=o.session,d=o.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:d,session:h},error:null})}catch(s){if(ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var t,n,s,l,o;try{let c=null,h=null;this.flowType==="pkce"&&([c,h]=await Vl(this.storage,this.storageKey));const d=await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:h}),headers:this.headers,xform:LM});return!((l=d.data)===null||l===void 0)&&l.url&&Bt()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(c){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),ae(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Ei;const{error:s}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(ae(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:l}=e,{error:o}=await de(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:s,options:l}=e,{data:o,error:c}=await de(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:c})}throw new Ph("You must provide either an email or phone number and a type")}catch(t){if(ae(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Er(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<wm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Er(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=_m()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=MM(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Is}):await this._useSession(async t=>{var n,s,l;const{data:o,error:c}=t;if(c)throw c;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ei}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&l!==void 0?l:void 0,xform:Is})})}catch(t){if(ae(t))return km(t)&&(await this._removeSession(),await Nt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:s,error:l}=n;if(l)throw l;if(!s.session)throw new Ei;const o=s.session;let c=null,h=null;this.flowType==="pkce"&&e.email!=null&&([c,h]=await Vl(this.storage,this.storageKey));const{data:d,error:p}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:h}),jwt:o.access_token,xform:Is});if(p)throw p;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),ae(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ei;const t=Date.now()/1e3;let n=t,s=!0,l=null;const{payload:o}=Zh(e.access_token);if(o.exp&&(n=o.exp,s=n<=t),s){const{data:c,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!c)return{data:{user:null,session:null},error:null};l=c}else{const{data:c,error:h}=await this._getUser(e.access_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});l={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(t){if(ae(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:o,error:c}=t;if(c)throw c;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new Ei;const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(ae(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!Bt())throw new Dh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Dh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new z1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Dh("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new z1("No code detected.");const{data:E,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:l,refresh_token:o,expires_in:c,expires_at:h,token_type:d}=e;if(!l||!c||!o||!d)throw new Dh("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(c);let y=p+m;h&&(y=parseInt(h));const b=y-p;b*1e3<=Jl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${m}s`);const v=y-m;p-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,y,p):p-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,y,p);const{data:w,error:x}=await this._getUser(l);if(x)throw x;const _={provider_token:n,provider_refresh_token:s,access_token:l,expires_in:m,expires_at:y,refresh_token:o,token_type:d,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:_,redirectType:e.type},error:null})}catch(n){if(ae(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Er(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:s,error:l}=t;if(l&&!km(l))return this._returnResult({error:l});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:c}=await this.admin.signOut(o,e);if(c&&!(uM(c)&&(c.status===404||c.status===401||c.status===403)||km(c)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await Nt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=bM(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,s;try{const{data:{session:l},error:o}=t;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,t={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Vl(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(l){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),ae(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(ae(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:n,error:s}=await this._useSession(async l=>{var o,c,h,d,p;const{data:m,error:y}=l;if(y)throw y;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",b,{headers:this.headers,jwt:(p=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return Bt()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if(ae(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var n;try{const{error:s,data:{session:l}}=t;if(s)throw s;const{options:o,provider:c,token:h,access_token:d,nonce:p}=e,m=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=l?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:c,id_token:h,access_token:d,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:on}),{data:y,error:b}=m;return b?this._returnResult({data:{user:null,session:null},error:b}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Yl}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:b}))}catch(s){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,s;const{data:l,error:o}=t;if(o)throw o;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(ae(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await kM(async s=>(s>0&&await wM(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:on})),(s,l)=>{const o=200*Math.pow(2,s);return l&&xm(l)&&Date.now()+o-n<Jl})}catch(n){if(this._debug(t,"error",n),ae(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Bt()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Er(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Er(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Fl(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o?.user)!==null&&e!==void 0?e:_m()}else if(s&&!s.user&&!s.user){const o=await Er(this.storage,this.storageKey+"-user");o&&o?.user?(s.user=o.user,await Nt(this.storage,this.storageKey+"-user"),await Fl(this.storage,this.storageKey,s)):s.user=_m()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const l=((t=s.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<wm;if(this._debug(n,`session has${l?"":" not"} expired with margin of ${wm}s`),l){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),xm(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(s.access_token);!c&&o?.user?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Ei;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new bd;const{data:l,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!l.session)throw new Ei;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const c={data:l.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(l){if(this._debug(s,"error",l),ae(l)){const o={data:null,error:l};return xm(l)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(l),l}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const l=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,t)}catch(h){l.push(h)}});if(await Promise.all(o),l.length>0){for(let c=0;c<l.length;c+=1)console.error(l[c]);throw l[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Nt(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),n=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&t.user&&await Fl(this.userStorage,this.storageKey+"-user",{user:t.user});const s=Object.assign({},t);delete s.user;const l=X1(s);await Fl(this.storage,this.storageKey,l)}else{const s=X1(t);await Fl(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Nt(this.storage,this.storageKey),await Nt(this.storage,this.storageKey+"-code-verifier"),await Nt(this.storage,this.storageKey+"-user"),this.userStorage&&await Nt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Bt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Jl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const t=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Jl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Jl}ms, refresh threshold is ${zO} ticks`),s<=zO&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof I_)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Bt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const s=[`provider=${encodeURIComponent(t)}`];if(n?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[l,o]=await Vl(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(c.toString())}if(n?.queryParams){const l=new URLSearchParams(n.queryParams);s.push(l.toString())}return n?.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:s,error:l}=t;return l?this._returnResult({data:null,error:l}):await de(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(ae(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,s;const{data:l,error:o}=t;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:d}=await de(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=l?.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(e.factorType==="totp"&&h.type==="totp"&&(!((s=h?.totp)===null||s===void 0)&&s.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(t){if(ae(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var n;const{data:s,error:l}=t;if(l)return this._returnResult({data:null,error:l});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?FM(e.webauthn.credential_response):eP(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:h}=await de(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:h}))})}catch(t){if(ae(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var n;const{data:s,error:l}=t;if(l)return this._returnResult({data:null,error:l});const o=await de(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:c}=o;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:KM(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:JM(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(ae(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=t?.factors)!==null&&e!==void 0?e:[])s.all.push(l),l.status==="verified"&&s[l.factor_type].push(l);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(e){var t,n,s,l;if(e)try{const{payload:b}=Zh(e);let v=null;b.aal&&(v=b.aal);let w=v;const{data:{user:x},error:_}=await this.getUser(e);if(_)return this._returnResult({data:null,error:_});((n=(t=x?.factors)===null||t===void 0?void 0:t.filter(j=>j.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(w="aal2");const C=b.amr||[];return{data:{currentLevel:v,nextLevel:w,currentAuthenticationMethods:C},error:null}}catch(b){if(ae(b))return this._returnResult({data:null,error:b});throw b}const{data:{session:o},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Zh(o.access_token);let d=null;h.aal&&(d=h.aal);let p=d;((l=(s=o.user.factors)===null||s===void 0?void 0:s.filter(b=>b.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(p="aal2");const y=h.amr||[];return{data:{currentLevel:d,nextLevel:p,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;return s?this._returnResult({data:null,error:s}):n?await de(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Ei})})}catch(t){if(ae(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:s},error:l}=n;if(l)return this._returnResult({data:null,error:l});if(!s)return this._returnResult({data:null,error:new Ei});const o=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&Bt()&&!t?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:s},error:l}=n;if(l)return this._returnResult({data:null,error:l});if(!s)return this._returnResult({data:null,error:new Ei});const o=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&Bt()&&!t?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;return n?this._returnResult({data:null,error:n}):t?await de(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ei})})}catch(e){if(ae(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;return s?this._returnResult({data:null,error:s}):n?(await de(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ei})})}catch(t){if(ae(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(c=>c.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(c=>c.kid===e),n&&this.jwks_cached_at+oM>s)return n;const{data:l,error:o}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=s,n=l.keys.find(c=>c.kid===e),!n)?null:n}async getClaims(e,t={}){try{let n=e;if(!n){const{data:b,error:v}=await this.getSession();if(v||!b.session)return this._returnResult({data:null,error:v});n=b.session.access_token}const{header:s,payload:l,signature:o,raw:{header:c,payload:h}}=Zh(n);t?.allowExpired||$M(l.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!d){const{error:b}=await this.getUser(n);if(b)throw b;return{data:{claims:l,header:s,signature:o},error:null}}const p=EM(s.alg),m=await crypto.subtle.importKey("jwk",d,p,!0,["verify"]);if(!await crypto.subtle.verify(p,m,o,OM(`${c}.${h}`)))throw new NO("Invalid JWT signature");return{data:{claims:l,header:s,signature:o},error:null}}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}}Oc.nextInstanceID={};const cP=Oc,uP="2.95.2";let Ho="";typeof Deno<"u"?Ho="deno":typeof document<"u"?Ho="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ho="react-native":Ho="node";const hP={"X-Client-Info":`supabase-js-${Ho}/${uP}`},fP={headers:hP},dP={schema:"public"},pP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gP={};function yc(i){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(i)}function mP(i,e){if(yc(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function OP(i){var e=mP(i,"string");return yc(e)=="symbol"?e:e+""}function yP(i,e,t){return(e=OP(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function H1(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),t.push.apply(t,n)}return t}function ot(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?H1(Object(t),!0).forEach(function(n){yP(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):H1(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}const bP=i=>i?(...e)=>i(...e):(...e)=>fetch(...e),vP=()=>Headers,SP=(i,e,t)=>{const n=bP(t),s=vP();return async(l,o)=>{var c;const h=(c=await e())!==null&&c!==void 0?c:i;let d=new s(o?.headers);return d.has("apikey")||d.set("apikey",i),d.has("Authorization")||d.set("Authorization",`Bearer ${h}`),n(l,ot(ot({},o),{},{headers:d}))}};function wP(i){return i.endsWith("/")?i:i+"/"}function kP(i,e){var t,n;const{db:s,auth:l,realtime:o,global:c}=i,{db:h,auth:d,realtime:p,global:m}=e,y={db:ot(ot({},h),s),auth:ot(ot({},d),l),realtime:ot(ot({},p),o),storage:{},global:ot(ot(ot({},m),c),{},{headers:ot(ot({},(t=m?.headers)!==null&&t!==void 0?t:{}),(n=c?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return i.accessToken?y.accessToken=i.accessToken:delete y.accessToken,y}function xP(i){const e=i?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(wP(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var _P=class extends cP{constructor(i){super(i)}},TP=class{constructor(i,e,t){var n,s;this.supabaseUrl=i,this.supabaseKey=e;const l=xP(i);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const o=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:dP,realtime:gP,auth:ot(ot({},pP),{},{storageKey:o}),global:fP},h=kP(t??{},c);if(this.storageKey=(n=h.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var d;this.auth=this._initSupabaseAuthClient((d=h.auth)!==null&&d!==void 0?d:{},this.headers,h.global.fetch)}this.fetch=SP(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(ot({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new uR(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch,timeout:h.db.timeout,urlLengthLimit:h.db.urlLengthLimit}),this.storage=new nM(this.storageUrl.href,this.headers,this.fetch,t?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new iR(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,e={},t={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,e,t)}channel(i,e={config:{}}){return this.realtime.channel(i,e)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var i=this,e,t;if(i.accessToken)return await i.accessToken();const{data:n}=await i.auth.getSession();return(e=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:i.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:e,detectSessionInUrl:t,storage:n,userStorage:s,storageKey:l,flowType:o,lock:c,debug:h,throwOnError:d},p,m){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _P({url:this.authUrl.href,headers:ot(ot({},y),p),storageKey:l,autoRefreshToken:i,persistSession:e,detectSessionInUrl:t,storage:n,userStorage:s,flowType:o,lock:c,debug:h,throwOnError:d,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new QR(this.realtimeUrl.href,ot(ot({},i),{},{params:ot(ot({},{apikey:this.supabaseKey}),i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,e)=>{this._handleTokenChanged(i,"CLIENT",e?.access_token)})}_handleTokenChanged(i,e,t){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==t?(this.changedAccessToken=t,this.realtime.setAuth(t)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const QP=(i,e,t)=>new TP(i,e,t);function AP(){if(typeof window<"u")return!1;const i=globalThis.process;if(!i)return!1;const e=i.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}AP()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const mi=()=>new Map,BO=i=>{const e=mi();return i.forEach((t,n)=>{e.set(n,t)}),e},Os=(i,e,t)=>{let n=i.get(e);return n===void 0&&i.set(e,n=t()),n},CP=(i,e)=>{const t=[];for(const[n,s]of i)t.push(e(s,n));return t},$P=(i,e)=>{for(const[t,n]of i)if(e(n,t))return!0;return!1},Wr=()=>new Set,Qm=i=>i[i.length-1],EP=(i,e)=>{for(let t=0;t<e.length;t++)i.push(e[t])},tr=Array.from,ey=(i,e)=>{for(let t=0;t<i.length;t++)if(!e(i[t],t,i))return!1;return!0},ty=(i,e)=>{for(let t=0;t<i.length;t++)if(e(i[t],t,i))return!0;return!1},RP=(i,e)=>{const t=new Array(i);for(let n=0;n<i;n++)t[n]=e(n,t);return t},wa=Array.isArray;class H_{constructor(){this._observers=mi()}on(e,t){return Os(this._observers,e,Wr).add(t),t}once(e,t){const n=(...s)=>{this.off(e,n),t(...s)};this.on(e,n)}off(e,t){const n=this._observers.get(e);n!==void 0&&(n.delete(t),n.size===0&&this._observers.delete(e))}emit(e,t){return tr((this._observers.get(e)||mi()).values()).forEach(n=>n(...t))}destroy(){this._observers=mi()}}class MP{constructor(){this._observers=mi()}on(e,t){Os(this._observers,e,Wr).add(t)}once(e,t){const n=(...s)=>{this.off(e,n),t(...s)};this.on(e,n)}off(e,t){const n=this._observers.get(e);n!==void 0&&(n.delete(t),n.size===0&&this._observers.delete(e))}emit(e,t){return tr((this._observers.get(e)||mi()).values()).forEach(n=>n(...t))}destroy(){this._observers=mi()}}const mn=Math.floor,ff=Math.abs,iy=(i,e)=>i<e?i:e,or=(i,e)=>i>e?i:e,K_=i=>i!==0?i<0:1/i<0,K1=1,J1=2,Am=4,Cm=8,bc=32,fs=64,zi=128,vd=31,XO=63,Xr=127,PP=2147483647,Af=Number.MAX_SAFE_INTEGER,F1=Number.MIN_SAFE_INTEGER,DP=Number.isInteger||(i=>typeof i=="number"&&isFinite(i)&&mn(i)===i),ZP=String.fromCharCode,LP=i=>i.toLowerCase(),zP=/^\s*/g,jP=i=>i.replace(zP,""),UP=/([A-Z])/g,ek=(i,e)=>jP(i.replace(UP,t=>`${e}${LP(t)}`)),NP=i=>{const e=unescape(encodeURIComponent(i)),t=e.length,n=new Uint8Array(t);for(let s=0;s<t;s++)n[s]=e.codePointAt(s);return n},vc=typeof TextEncoder<"u"?new TextEncoder:null,BP=i=>vc.encode(i),XP=vc?BP:NP;let sc=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});sc&&sc.decode(new Uint8Array).length===1&&(sc=null);const qP=(i,e)=>RP(e,()=>i).join("");class Wc{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const Hc=()=>new Wc,YP=i=>{let e=i.cpos;for(let t=0;t<i.bufs.length;t++)e+=i.bufs[t].length;return e},fn=i=>{const e=new Uint8Array(YP(i));let t=0;for(let n=0;n<i.bufs.length;n++){const s=i.bufs[n];e.set(s,t),t+=s.length}return e.set(new Uint8Array(i.cbuf.buffer,0,i.cpos),t),e},VP=(i,e)=>{const t=i.cbuf.length;t-i.cpos<e&&(i.bufs.push(new Uint8Array(i.cbuf.buffer,0,i.cpos)),i.cbuf=new Uint8Array(or(t,e)*2),i.cpos=0)},Et=(i,e)=>{const t=i.cbuf.length;i.cpos===t&&(i.bufs.push(i.cbuf),i.cbuf=new Uint8Array(t*2),i.cpos=0),i.cbuf[i.cpos++]=e},qO=Et,Me=(i,e)=>{for(;e>Xr;)Et(i,zi|Xr&e),e=mn(e/128);Et(i,Xr&e)},ny=(i,e)=>{const t=K_(e);for(t&&(e=-e),Et(i,(e>XO?zi:0)|(t?fs:0)|XO&e),e=mn(e/64);e>0;)Et(i,(e>Xr?zi:0)|Xr&e),e=mn(e/128)},YO=new Uint8Array(3e4),IP=YO.length/3,GP=(i,e)=>{if(e.length<IP){const t=vc.encodeInto(e,YO).written||0;Me(i,t);for(let n=0;n<t;n++)Et(i,YO[n])}else Ri(i,XP(e))},WP=(i,e)=>{const t=unescape(encodeURIComponent(e)),n=t.length;Me(i,n);for(let s=0;s<n;s++)Et(i,t.codePointAt(s))},qr=vc&&vc.encodeInto?GP:WP,Sd=(i,e)=>{const t=i.cbuf.length,n=i.cpos,s=iy(t-n,e.length),l=e.length-s;i.cbuf.set(e.subarray(0,s),n),i.cpos+=s,l>0&&(i.bufs.push(i.cbuf),i.cbuf=new Uint8Array(or(t*2,l)),i.cbuf.set(e.subarray(s)),i.cpos=l)},Ri=(i,e)=>{Me(i,e.byteLength),Sd(i,e)},sy=(i,e)=>{VP(i,e);const t=new DataView(i.cbuf.buffer,i.cpos,e);return i.cpos+=e,t},HP=(i,e)=>sy(i,4).setFloat32(0,e,!1),KP=(i,e)=>sy(i,8).setFloat64(0,e,!1),JP=(i,e)=>sy(i,8).setBigInt64(0,e,!1),tk=new DataView(new ArrayBuffer(4)),FP=i=>(tk.setFloat32(0,i),tk.getFloat32(0)===i),Sc=(i,e)=>{switch(typeof e){case"string":Et(i,119),qr(i,e);break;case"number":DP(e)&&ff(e)<=PP?(Et(i,125),ny(i,e)):FP(e)?(Et(i,124),HP(i,e)):(Et(i,123),KP(i,e));break;case"bigint":Et(i,122),JP(i,e);break;case"object":if(e===null)Et(i,126);else if(wa(e)){Et(i,117),Me(i,e.length);for(let t=0;t<e.length;t++)Sc(i,e[t])}else if(e instanceof Uint8Array)Et(i,116),Ri(i,e);else{Et(i,118);const t=Object.keys(e);Me(i,t.length);for(let n=0;n<t.length;n++){const s=t[n];qr(i,s),Sc(i,e[s])}}break;case"boolean":Et(i,e?120:121);break;default:Et(i,127)}};class ik extends Wc{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&Me(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const nk=i=>{i.count>0&&(ny(i.encoder,i.count===1?i.s:-i.s),i.count>1&&Me(i.encoder,i.count-2))};class df{constructor(){this.encoder=new Wc,this.s=0,this.count=0}write(e){this.s===e?this.count++:(nk(this),this.count=1,this.s=e)}toUint8Array(){return nk(this),fn(this.encoder)}}const sk=i=>{if(i.count>0){const e=i.diff*2+(i.count===1?0:1);ny(i.encoder,e),i.count>1&&Me(i.encoder,i.count-2)}};class $m{constructor(){this.encoder=new Wc,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(sk(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return sk(this),fn(this.encoder)}}class eD{constructor(){this.sarr=[],this.s="",this.lensE=new df}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new Wc;return this.sarr.push(this.s),this.s="",qr(e,this.sarr.join("")),Sd(e,this.lensE.toUint8Array()),fn(e)}}const zn=i=>new Error(i),gn=()=>{throw zn("Method unimplemented")},ji=()=>{throw zn("Unexpected case")},J_=zn("Unexpected end of array"),F_=zn("Integer out of Range");class wd{constructor(e){this.arr=e,this.pos=0}}const nl=i=>new wd(i),tD=i=>i.pos!==i.arr.length,iD=(i,e)=>{const t=new Uint8Array(i.arr.buffer,i.pos+i.arr.byteOffset,e);return i.pos+=e,t},Mi=i=>iD(i,xe(i)),ka=i=>i.arr[i.pos++],xe=i=>{let e=0,t=1;const n=i.arr.length;for(;i.pos<n;){const s=i.arr[i.pos++];if(e=e+(s&Xr)*t,t*=128,s<zi)return e;if(e>Af)throw F_}throw J_},ry=i=>{let e=i.arr[i.pos++],t=e&XO,n=64;const s=(e&fs)>0?-1:1;if((e&zi)===0)return s*t;const l=i.arr.length;for(;i.pos<l;){if(e=i.arr[i.pos++],t=t+(e&Xr)*n,n*=128,e<zi)return s*t;if(t>Af)throw F_}throw J_},nD=i=>{let e=xe(i);if(e===0)return"";{let t=String.fromCodePoint(ka(i));if(--e<100)for(;e--;)t+=String.fromCodePoint(ka(i));else for(;e>0;){const n=e<1e4?e:1e4,s=i.arr.subarray(i.pos,i.pos+n);i.pos+=n,t+=String.fromCodePoint.apply(null,s),e-=n}return decodeURIComponent(escape(t))}},sD=i=>sc.decode(Mi(i)),Yr=sc?sD:nD,ly=(i,e)=>{const t=new DataView(i.arr.buffer,i.arr.byteOffset+i.pos,e);return i.pos+=e,t},rD=i=>ly(i,4).getFloat32(0,!1),lD=i=>ly(i,8).getFloat64(0,!1),aD=i=>ly(i,8).getBigInt64(0,!1),oD=[i=>{},i=>null,ry,rD,lD,aD,i=>!1,i=>!0,Yr,i=>{const e=xe(i),t={};for(let n=0;n<e;n++){const s=Yr(i);t[s]=wc(i)}return t},i=>{const e=xe(i),t=[];for(let n=0;n<e;n++)t.push(wc(i));return t},Mi],wc=i=>oD[127-ka(i)](i);class rk extends wd{constructor(e,t){super(e),this.reader=t,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),tD(this)?this.count=xe(this)+1:this.count=-1),this.count--,this.s}}class pf extends wd{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=ry(this);const e=K_(this.s);this.count=1,e&&(this.s=-this.s,this.count=xe(this)+2)}return this.count--,this.s}}class Em extends wd{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=ry(this),t=e&1;this.diff=mn(e/2),this.count=1,t&&(this.count=xe(this)+2)}return this.s+=this.diff,this.count--,this.s}}class cD{constructor(e){this.decoder=new pf(e),this.str=Yr(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),t=this.str.slice(this.spos,e);return this.spos=e,t}}const uD=crypto.getRandomValues.bind(crypto),eT=()=>uD(new Uint32Array(1))[0],hD="10000000-1000-4000-8000"+-1e11,fD=()=>hD.replace(/[018]/g,i=>(i^eT()&15>>i/4).toString(16)),kc=Date.now,lk=i=>new Promise(i);Promise.all.bind(Promise);const ak=i=>i===void 0?null:i;class dD{constructor(){this.map=new Map}setItem(e,t){this.map.set(e,t)}getItem(e){return this.map.get(e)}}let tT=new dD,pD=!0;try{typeof localStorage<"u"&&localStorage&&(tT=localStorage,pD=!1)}catch{}const gD=tT,xc=Symbol("Equality"),iT=(i,e)=>i===e||!!i?.[xc]?.(e)||!1,mD=i=>typeof i=="object",OD=Object.assign,yD=Object.keys,bD=(i,e)=>{for(const t in i)e(i[t],t)},Cf=i=>yD(i).length,vD=i=>{for(const e in i)return!1;return!0},Kc=(i,e)=>{for(const t in i)if(!e(i[t],t))return!1;return!0},ay=(i,e)=>Object.prototype.hasOwnProperty.call(i,e),SD=(i,e)=>i===e||Cf(i)===Cf(e)&&Kc(i,(t,n)=>(t!==void 0||ay(e,n))&&iT(e[n],t)),wD=Object.freeze,nT=i=>{for(const e in i){const t=i[e];(typeof t=="object"||typeof t=="function")&&nT(i[e])}return wD(i)},oy=(i,e,t=0)=>{try{for(;t<i.length;t++)i[t](...e)}finally{t<i.length&&oy(i,e,t+1)}},kD=i=>i,ua=(i,e)=>{if(i===e)return!0;if(i==null||e==null||i.constructor!==e.constructor&&(i.constructor||Object)!==(e.constructor||Object))return!1;if(i[xc]!=null)return i[xc](e);switch(i.constructor){case ArrayBuffer:i=new Uint8Array(i),e=new Uint8Array(e);case Uint8Array:{if(i.byteLength!==e.byteLength)return!1;for(let t=0;t<i.length;t++)if(i[t]!==e[t])return!1;break}case Set:{if(i.size!==e.size)return!1;for(const t of i)if(!e.has(t))return!1;break}case Map:{if(i.size!==e.size)return!1;for(const t of i.keys())if(!e.has(t)||!ua(i.get(t),e.get(t)))return!1;break}case void 0:case Object:if(Cf(i)!==Cf(e))return!1;for(const t in i)if(!ay(i,t)||!ua(i[t],e[t]))return!1;break;case Array:if(i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(!ua(i[t],e[t]))return!1;break;default:return!1}return!0},xD=(i,e)=>e.includes(i);var sT={};const _c=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";let Tn;const _D=()=>{if(Tn===void 0)if(_c){Tn=mi();const i=process.argv;let e=null;for(let t=0;t<i.length;t++){const n=i[t];n[0]==="-"?(e!==null&&Tn.set(e,""),e=n):e!==null&&(Tn.set(e,n),e=null)}e!==null&&Tn.set(e,"")}else typeof location=="object"?(Tn=mi(),(location.search||"?").slice(1).split("&").forEach(i=>{if(i.length!==0){const[e,t]=i.split("=");Tn.set(`--${ek(e,"-")}`,t),Tn.set(`-${ek(e,"-")}`,t)}})):Tn=mi();return Tn},VO=i=>_D().has(i),$f=i=>ak(_c?sT[i.toUpperCase().replaceAll("-","_")]:gD.getItem(i)),rT=i=>VO("--"+i)||$f(i)!==null,TD=rT("production"),QD=_c&&xD(sT.FORCE_COLOR,["true","1","2"]),AD=QD||!VO("--no-colors")&&!rT("no-color")&&(!_c||process.stdout.isTTY)&&(!_c||VO("--color")||$f("COLORTERM")!==null||($f("TERM")||"").includes("color")),CD=i=>new Uint8Array(i),$D=i=>{const e=CD(i.byteLength);return e.set(i),e};class ED{constructor(e,t){this.left=e,this.right=t}}const Pi=(i,e)=>new ED(i,e),RD=(i,e)=>i.forEach(t=>e(t.left,t.right)),ok=i=>i.next()>=.5,Rm=(i,e,t)=>mn(i.next()*(t+1-e)+e),lT=(i,e,t)=>mn(i.next()*(t+1-e)+e),cy=(i,e,t)=>lT(i,e,t),MD=i=>ZP(cy(i,97,122)),PD=(i,e=0,t=20)=>{const n=cy(i,e,t);let s="";for(let l=0;l<n;l++)s+=MD(i);return s},Mm=(i,e)=>e[cy(i,0,e.length-1)],DD=Symbol("0schema");class ZD{constructor(){this._rerrs=[]}extend(e,t,n,s=null){this._rerrs.push({path:e,expected:t,has:n,message:s})}toString(){const e=[];for(let t=this._rerrs.length-1;t>0;t--){const n=this._rerrs[t];e.push(qP(" ",(this._rerrs.length-t)*2)+`${n.path!=null?`[${n.path}] `:""}${n.has} doesn't match ${n.expected}. ${n.message}`)}return e.join(`
`)}}const IO=(i,e)=>i===e?!0:i==null||e==null||i.constructor!==e.constructor?!1:i[xc]?iT(i,e):wa(i)?ey(i,t=>ty(e,n=>IO(t,n))):mD(i)?Kc(i,(t,n)=>IO(t,e[n])):!1;class ti{static _dilutes=!1;extends(e){let[t,n]=[this.shape,e.shape];return this.constructor._dilutes&&([n,t]=[t,n]),IO(t,n)}equals(e){return this.constructor===e.constructor&&ua(this.shape,e.shape)}[DD](){return!0}[xc](e){return this.equals(e)}validate(e){return this.check(e)}check(e,t){gn()}get nullable(){return ja(this,Qd)}get optional(){return new cT(this)}cast(e){return ck(e,this),e}expect(e){return ck(e,this),e}}class uy extends ti{constructor(e,t){super(),this.shape=e,this._c=t}check(e,t=void 0){const n=e?.constructor===this.shape&&(this._c==null||this._c(e));return!n&&t?.extend(null,this.shape.name,e?.constructor.name,e?.constructor!==this.shape?"Constructor match failed":"Check failed"),n}}const wt=(i,e=null)=>new uy(i,e);wt(uy);class hy extends ti{constructor(e){super(),this.shape=e}check(e,t){const n=this.shape(e);return!n&&t?.extend(null,"custom prop",e?.constructor.name,"failed to check custom prop"),n}}const Pt=i=>new hy(i);wt(hy);class kd extends ti{constructor(e){super(),this.shape=e}check(e,t){const n=this.shape.some(s=>s===e);return!n&&t?.extend(null,this.shape.join(" | "),e.toString()),n}}const xd=(...i)=>new kd(i),aT=wt(kd),LD=RegExp.escape||(i=>i.replace(/[().|&,$^[\]]/g,e=>"\\"+e)),oT=i=>{if(xa.check(i))return[LD(i)];if(aT.check(i))return i.shape.map(e=>e+"");if(yT.check(i))return["[+-]?\\d+.?\\d*"];if(bT.check(i))return[".*"];if(Ef.check(i))return i.shape.map(oT).flat(1);ji()};class zD extends ti{constructor(e){super(),this.shape=e,this._r=new RegExp("^"+e.map(oT).map(t=>`(${t.join("|")})`).join("")+"$")}check(e,t){const n=this._r.exec(e)!=null;return!n&&t?.extend(null,this._r.toString(),e.toString(),"String doesn't match string template."),n}}wt(zD);const jD=Symbol("optional");class cT extends ti{constructor(e){super(),this.shape=e}check(e,t){const n=e===void 0||this.shape.check(e);return!n&&t?.extend(null,"undefined (optional)","()"),n}get[jD](){return!0}}const UD=wt(cT);class ND extends ti{check(e,t){return t?.extend(null,"never",typeof e),!1}}wt(ND);class _d extends ti{constructor(e,t=!1){super(),this.shape=e,this._isPartial=t}static _dilutes=!0;get partial(){return new _d(this.shape,!0)}check(e,t){return e==null?(t?.extend(null,"object","null"),!1):Kc(this.shape,(n,s)=>{const l=this._isPartial&&!ay(e,s)||n.check(e[s],t);return!l&&t?.extend(s.toString(),n.toString(),typeof e[s],"Object property does not match"),l})}}const BD=i=>new _d(i),XD=wt(_d),qD=Pt(i=>i!=null&&(i.constructor===Object||i.constructor==null));class uT extends ti{constructor(e,t){super(),this.shape={keys:e,values:t}}check(e,t){return e!=null&&Kc(e,(n,s)=>{const l=this.shape.keys.check(s,t);return!l&&t?.extend(s+"","Record",typeof e,l?"Key doesn't match schema":"Value doesn't match value"),l&&this.shape.values.check(n,t)})}}const hT=(i,e)=>new uT(i,e),YD=wt(uT);class fT extends ti{constructor(e){super(),this.shape=e}check(e,t){return e!=null&&Kc(this.shape,(n,s)=>{const l=n.check(e[s],t);return!l&&t?.extend(s.toString(),"Tuple",typeof n),l})}}const VD=(...i)=>new fT(i);wt(fT);class dT extends ti{constructor(e){super(),this.shape=e.length===1?e[0]:new fy(e)}check(e,t){const n=wa(e)&&ey(e,s=>this.shape.check(s));return!n&&t?.extend(null,"Array",""),n}}const pT=(...i)=>new dT(i),ID=wt(dT),GD=Pt(i=>wa(i));class gT extends ti{constructor(e,t){super(),this.shape=e,this._c=t}check(e,t){const n=e instanceof this.shape&&(this._c==null||this._c(e));return!n&&t?.extend(null,this.shape.name,e?.constructor.name),n}}const WD=(i,e=null)=>new gT(i,e);wt(gT);const HD=WD(ti);class KD extends ti{constructor(e){super(),this.len=e.length-1,this.args=VD(...e.slice(-1)),this.res=e[this.len]}check(e,t){const n=e.constructor===Function&&e.length<=this.len;return!n&&t?.extend(null,"function",typeof e),n}}const JD=wt(KD),FD=Pt(i=>typeof i=="function");class e5 extends ti{constructor(e){super(),this.shape=e}check(e,t){const n=ey(this.shape,s=>s.check(e,t));return!n&&t?.extend(null,"Intersectinon",typeof e),n}}wt(e5,i=>i.shape.length>0);class fy extends ti{static _dilutes=!0;constructor(e){super(),this.shape=e}check(e,t){const n=ty(this.shape,s=>s.check(e,t));return t?.extend(null,"Union",typeof e),n}}const ja=(...i)=>i.findIndex(e=>Ef.check(e))>=0?ja(...i.map(e=>Tc(e)).map(e=>Ef.check(e)?e.shape:[e]).flat(1)):i.length===1?i[0]:new fy(i),Ef=wt(fy),mT=()=>!0,Rf=Pt(mT),t5=wt(hy,i=>i.shape===mT),dy=Pt(i=>typeof i=="bigint"),i5=Pt(i=>i===dy),OT=Pt(i=>typeof i=="symbol");Pt(i=>i===OT);const ha=Pt(i=>typeof i=="number"),yT=Pt(i=>i===ha),xa=Pt(i=>typeof i=="string"),bT=Pt(i=>i===xa),Td=Pt(i=>typeof i=="boolean"),n5=Pt(i=>i===Td),vT=xd(void 0);wt(kd,i=>i.shape.length===1&&i.shape[0]===void 0);xd(void 0);const Qd=xd(null),s5=wt(kd,i=>i.shape.length===1&&i.shape[0]===null);wt(Uint8Array);wt(uy,i=>i.shape===Uint8Array);const r5=ja(ha,xa,Qd,vT,dy,Td,OT);(()=>{const i=pT(Rf),e=hT(xa,Rf),t=ja(ha,xa,Qd,Td,i,e);return i.shape=t,e.shape.values=t,t})();const Tc=i=>{if(HD.check(i))return i;if(qD.check(i)){const e={};for(const t in i)e[t]=Tc(i[t]);return BD(e)}else{if(GD.check(i))return ja(...i.map(Tc));if(r5.check(i))return xd(i);if(FD.check(i))return wt(i)}ji()},ck=TD?()=>{}:(i,e)=>{const t=new ZD;if(!e.check(i,t))throw zn(`Expected value to be of type ${e.constructor.name}.
${t.toString()}`)};class l5{constructor(e){this.patterns=[],this.$state=e}if(e,t){return this.patterns.push({if:Tc(e),h:t}),this}else(e){return this.if(Rf,e)}done(){return(e,t)=>{for(let n=0;n<this.patterns.length;n++){const s=this.patterns[n];if(s.if.check(e))return s.h(e,t)}throw zn("Unhandled pattern")}}}const a5=i=>new l5(i),ST=a5(Rf).if(yT,(i,e)=>Rm(e,F1,Af)).if(bT,(i,e)=>PD(e)).if(n5,(i,e)=>ok(e)).if(i5,(i,e)=>BigInt(Rm(e,F1,Af))).if(Ef,(i,e)=>Hl(e,Mm(e,i.shape))).if(XD,(i,e)=>{const t={};for(const n in i.shape){let s=i.shape[n];if(UD.check(s)){if(ok(e))continue;s=s.shape}t[n]=ST(s,e)}return t}).if(ID,(i,e)=>{const t=[],n=lT(e,0,42);for(let s=0;s<n;s++)t.push(Hl(e,i.shape));return t}).if(aT,(i,e)=>Mm(e,i.shape)).if(s5,(i,e)=>null).if(JD,(i,e)=>{const t=Hl(e,i.res);return()=>t}).if(t5,(i,e)=>Hl(e,Mm(e,[ha,xa,Qd,vT,dy,Td,pT(ha),hT(ja("a","b","c"),ha)]))).if(YD,(i,e)=>{const t={},n=Rm(e,0,3);for(let s=0;s<n;s++){const l=Hl(e,i.shape.keys),o=Hl(e,i.shape.values);t[l]=o}return t}).done(),Hl=(i,e)=>ST(Tc(e),i),Nn=typeof document<"u"?document:{},o5=i=>Nn.createElement(i),c5=()=>Nn.createDocumentFragment();Pt(i=>i.nodeType===y5);const u5=i=>Nn.createTextNode(i);typeof DOMParser<"u"&&new DOMParser;const h5=(i,e)=>(RD(e,(t,n)=>{n===!1?i.removeAttribute(t):n===!0?i.setAttribute(t,""):i.setAttribute(t,n)}),i),f5=i=>{const e=c5();for(let t=0;t<i.length;t++)wT(e,i[t]);return e},d5=(i,e)=>(wT(i,f5(e)),i),Pm=(i,e=[],t=[])=>d5(h5(o5(i),e),t);Pt(i=>i.nodeType===g5);const Lh=u5;Pt(i=>i.nodeType===m5);const p5=i=>CP(i,(e,t)=>`${t}:${e};`).join(""),wT=(i,e)=>i.appendChild(e),g5=Nn.ELEMENT_NODE,m5=Nn.TEXT_NODE;Nn.CDATA_SECTION_NODE;Nn.COMMENT_NODE;const O5=Nn.DOCUMENT_NODE;Nn.DOCUMENT_TYPE_NODE;const y5=Nn.DOCUMENT_FRAGMENT_NODE;Pt(i=>i.nodeType===O5);const ys=Symbol,kT=ys(),xT=ys(),b5=ys(),v5=ys(),S5=ys(),_T=ys(),w5=ys(),py=ys(),k5=ys(),x5=i=>{i.length===1&&i[0]?.constructor===Function&&(i=i[0]());const e=[],t=[];let n=0;for(;n<i.length;n++){const s=i[n];if(s===void 0)break;if(s.constructor===String||s.constructor===Number)e.push(s);else if(s.constructor===Object)break}for(n>0&&t.push(e.join(""));n<i.length;n++){const s=i[n];s instanceof Symbol||t.push(s)}return t},_5={[kT]:Pi("font-weight","bold"),[xT]:Pi("font-weight","normal"),[b5]:Pi("color","blue"),[S5]:Pi("color","green"),[v5]:Pi("color","grey"),[_T]:Pi("color","red"),[w5]:Pi("color","purple"),[py]:Pi("color","orange"),[k5]:Pi("color","black")},T5=i=>{i.length===1&&i[0]?.constructor===Function&&(i=i[0]());const e=[],t=[],n=mi();let s=[],l=0;for(;l<i.length;l++){const o=i[l],c=_5[o];if(c!==void 0)n.set(c.left,c.right);else{if(o===void 0)break;if(o.constructor===String||o.constructor===Number){const h=p5(n);l>0||h.length>0?(e.push("%c"+o),t.push(h)):e.push(o)}else break}}for(l>0&&(s=t,s.unshift(e.join("")));l<i.length;l++){const o=i[l];o instanceof Symbol||s.push(o)}return s},TT=AD?T5:x5,Q5=(...i)=>{console.log(...TT(i)),AT.forEach(e=>e.print(i))},QT=(...i)=>{console.warn(...TT(i)),i.unshift(py),AT.forEach(e=>e.print(i))},AT=Wr(),CT=i=>({[Symbol.iterator](){return this},next:i}),A5=(i,e)=>CT(()=>{let t;do t=i.next();while(!t.done&&!e(t.value));return t}),Dm=(i,e)=>CT(()=>{const{done:t,value:n}=i.next();return{done:t,value:t?void 0:e(n)}});class gy{constructor(e,t){this.clock=e,this.len=t}}class Ua{constructor(){this.clients=new Map}}const _a=(i,e,t)=>e.clients.forEach((n,s)=>{const l=i.doc.store.clients.get(s);if(l!=null){const o=l[l.length-1],c=o.id.clock+o.length;for(let h=0,d=n[h];h<n.length&&d.clock<c;d=n[++h])UT(i,l,d.clock,d.len,t)}}),C5=(i,e)=>{let t=0,n=i.length-1;for(;t<=n;){const s=mn((t+n)/2),l=i[s],o=l.clock;if(o<=e){if(e<o+l.len)return s;t=s+1}else n=s-1}return null},Jc=(i,e)=>{const t=i.clients.get(e.client);return t!==void 0&&C5(t,e.clock)!==null},my=i=>{i.clients.forEach(e=>{e.sort((s,l)=>s.clock-l.clock);let t,n;for(t=1,n=1;t<e.length;t++){const s=e[n-1],l=e[t];s.clock+s.len>=l.clock?s.len=or(s.len,l.clock+l.len-s.clock):(n<t&&(e[n]=l),n++)}e.length=n})},GO=i=>{const e=new Ua;for(let t=0;t<i.length;t++)i[t].clients.forEach((n,s)=>{if(!e.clients.has(s)){const l=n.slice();for(let o=t+1;o<i.length;o++)EP(l,i[o].clients.get(s)||[]);e.clients.set(s,l)}});return my(e),e},Qc=(i,e,t,n)=>{Os(i.clients,e,()=>[]).push(new gy(t,n))},$5=()=>new Ua,E5=i=>{const e=$5();return i.clients.forEach((t,n)=>{const s=[];for(let l=0;l<t.length;l++){const o=t[l];if(o.deleted){const c=o.id.clock;let h=o.length;if(l+1<t.length)for(let d=t[l+1];l+1<t.length&&d.deleted;d=t[++l+1])h+=d.length;s.push(new gy(c,h))}}s.length>0&&e.clients.set(n,s)}),e},Na=(i,e)=>{Me(i.restEncoder,e.clients.size),tr(e.clients.entries()).sort((t,n)=>n[0]-t[0]).forEach(([t,n])=>{i.resetDsCurVal(),Me(i.restEncoder,t);const s=n.length;Me(i.restEncoder,s);for(let l=0;l<s;l++){const o=n[l];i.writeDsClock(o.clock),i.writeDsLen(o.len)}})},Oy=i=>{const e=new Ua,t=xe(i.restDecoder);for(let n=0;n<t;n++){i.resetDsCurVal();const s=xe(i.restDecoder),l=xe(i.restDecoder);if(l>0){const o=Os(e.clients,s,()=>[]);for(let c=0;c<l;c++)o.push(new gy(i.readDsClock(),i.readDsLen()))}}return e},uk=(i,e,t)=>{const n=new Ua,s=xe(i.restDecoder);for(let l=0;l<s;l++){i.resetDsCurVal();const o=xe(i.restDecoder),c=xe(i.restDecoder),h=t.clients.get(o)||[],d=dt(t,o);for(let p=0;p<c;p++){const m=i.readDsClock(),y=m+i.readDsLen();if(m<d){d<y&&Qc(n,o,d,y-d);let b=jn(h,m),v=h[b];for(!v.deleted&&v.id.clock<m&&(h.splice(b+1,0,Uf(e,v,m-v.id.clock)),b++);b<h.length&&(v=h[b++],v.id.clock<y);)v.deleted||(y<v.id.clock+v.length&&h.splice(b,0,Uf(e,v,y-v.id.clock)),v.delete(e))}else Qc(n,o,m,y-m)}}if(n.clients.size>0){const l=new Hr;return Me(l.restEncoder,0),Na(l,n),l.toUint8Array()}return null},$T=eT;class sl extends H_{constructor({guid:e=fD(),collectionid:t=null,gc:n=!0,gcFilter:s=()=>!0,meta:l=null,autoLoad:o=!1,shouldLoad:c=!0}={}){super(),this.gc=n,this.gcFilter=s,this.clientID=$T(),this.guid=e,this.collectionid=t,this.share=new Map,this.store=new zT,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=c,this.autoLoad=o,this.meta=l,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=lk(d=>{this.on("load",()=>{this.isLoaded=!0,d(this)})});const h=()=>lk(d=>{const p=m=>{(m===void 0||m===!0)&&(this.off("sync",p),d())};this.on("sync",p)});this.on("sync",d=>{d===!1&&this.isSynced&&(this.whenSynced=h()),this.isSynced=d===void 0||d===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=h()}load(){const e=this._item;e!==null&&!this.shouldLoad&&We(e.parent.doc,t=>{t.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(tr(this.subdocs).map(e=>e.guid))}transact(e,t=null){return We(this,e,t)}get(e,t=Mt){const n=Os(this.share,e,()=>{const l=new t;return l._integrate(this,null),l}),s=n.constructor;if(t!==Mt&&s!==t)if(s===Mt){const l=new t;l._map=n._map,n._map.forEach(o=>{for(;o!==null;o=o.left)o.parent=l}),l._start=n._start;for(let o=l._start;o!==null;o=o.right)o.parent=l;return l._length=n._length,this.share.set(e,l),l._integrate(this,null),l}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return n}getArray(e=""){return this.get(e,pa)}getText(e=""){return this.get(e,Aa)}getMap(e=""){return this.get(e,Qa)}getXmlElement(e=""){return this.get(e,Ca)}getXmlFragment(e=""){return this.get(e,Kr)}toJSON(){const e={};return this.share.forEach((t,n)=>{e[n]=t.toJSON()}),e}destroy(){this.isDestroyed=!0,tr(this.subdocs).forEach(t=>t.destroy());const e=this._item;if(e!==null){this._item=null;const t=e.content;t.doc=new sl({guid:this.guid,...t.opts,shouldLoad:!1}),t.doc._item=e,We(e.parent.doc,n=>{const s=t.doc;e.deleted||n.subdocsAdded.add(s),n.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class ET{constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return xe(this.restDecoder)}readDsLen(){return xe(this.restDecoder)}}class RT extends ET{readLeftID(){return we(xe(this.restDecoder),xe(this.restDecoder))}readRightID(){return we(xe(this.restDecoder),xe(this.restDecoder))}readClient(){return xe(this.restDecoder)}readInfo(){return ka(this.restDecoder)}readString(){return Yr(this.restDecoder)}readParentInfo(){return xe(this.restDecoder)===1}readTypeRef(){return xe(this.restDecoder)}readLen(){return xe(this.restDecoder)}readAny(){return wc(this.restDecoder)}readBuf(){return $D(Mi(this.restDecoder))}readJSON(){return JSON.parse(Yr(this.restDecoder))}readKey(){return Yr(this.restDecoder)}}class R5{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=xe(this.restDecoder),this.dsCurrVal}readDsLen(){const e=xe(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class Ta extends R5{constructor(e){super(e),this.keys=[],xe(e),this.keyClockDecoder=new Em(Mi(e)),this.clientDecoder=new pf(Mi(e)),this.leftClockDecoder=new Em(Mi(e)),this.rightClockDecoder=new Em(Mi(e)),this.infoDecoder=new rk(Mi(e),ka),this.stringDecoder=new cD(Mi(e)),this.parentInfoDecoder=new rk(Mi(e),ka),this.typeRefDecoder=new pf(Mi(e)),this.lenDecoder=new pf(Mi(e))}readLeftID(){return new fa(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new fa(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return wc(this.restDecoder)}readBuf(){return Mi(this.restDecoder)}readJSON(){return wc(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const t=this.stringDecoder.read();return this.keys.push(t),t}}}class M5{constructor(){this.restEncoder=Hc()}toUint8Array(){return fn(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){Me(this.restEncoder,e)}writeDsLen(e){Me(this.restEncoder,e)}}class Fc extends M5{writeLeftID(e){Me(this.restEncoder,e.client),Me(this.restEncoder,e.clock)}writeRightID(e){Me(this.restEncoder,e.client),Me(this.restEncoder,e.clock)}writeClient(e){Me(this.restEncoder,e)}writeInfo(e){qO(this.restEncoder,e)}writeString(e){qr(this.restEncoder,e)}writeParentInfo(e){Me(this.restEncoder,e?1:0)}writeTypeRef(e){Me(this.restEncoder,e)}writeLen(e){Me(this.restEncoder,e)}writeAny(e){Sc(this.restEncoder,e)}writeBuf(e){Ri(this.restEncoder,e)}writeJSON(e){qr(this.restEncoder,JSON.stringify(e))}writeKey(e){qr(this.restEncoder,e)}}class P5{constructor(){this.restEncoder=Hc(),this.dsCurrVal=0}toUint8Array(){return fn(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const t=e-this.dsCurrVal;this.dsCurrVal=e,Me(this.restEncoder,t)}writeDsLen(e){e===0&&ji(),Me(this.restEncoder,e-1),this.dsCurrVal+=e}}class Hr extends P5{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new $m,this.clientEncoder=new df,this.leftClockEncoder=new $m,this.rightClockEncoder=new $m,this.infoEncoder=new ik(qO),this.stringEncoder=new eD,this.parentInfoEncoder=new ik(qO),this.typeRefEncoder=new df,this.lenEncoder=new df}toUint8Array(){const e=Hc();return Me(e,0),Ri(e,this.keyClockEncoder.toUint8Array()),Ri(e,this.clientEncoder.toUint8Array()),Ri(e,this.leftClockEncoder.toUint8Array()),Ri(e,this.rightClockEncoder.toUint8Array()),Ri(e,fn(this.infoEncoder)),Ri(e,this.stringEncoder.toUint8Array()),Ri(e,fn(this.parentInfoEncoder)),Ri(e,this.typeRefEncoder.toUint8Array()),Ri(e,this.lenEncoder.toUint8Array()),Sd(e,fn(this.restEncoder)),fn(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){Sc(this.restEncoder,e)}writeBuf(e){Ri(this.restEncoder,e)}writeJSON(e){Sc(this.restEncoder,e)}writeKey(e){const t=this.keyMap.get(e);t===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(t)}}const D5=(i,e,t,n)=>{n=or(n,e[0].id.clock);const s=jn(e,n);Me(i.restEncoder,e.length-s),i.writeClient(t),Me(i.restEncoder,n);const l=e[s];l.write(i,n-l.id.clock);for(let o=s+1;o<e.length;o++)e[o].write(i,0)},yy=(i,e,t)=>{const n=new Map;t.forEach((s,l)=>{dt(e,l)>s&&n.set(l,s)}),by(e).forEach((s,l)=>{t.has(l)||n.set(l,0)}),Me(i.restEncoder,n.size),tr(n.entries()).sort((s,l)=>l[0]-s[0]).forEach(([s,l])=>{D5(i,e.clients.get(s),s,l)})},Z5=(i,e)=>{const t=mi(),n=xe(i.restDecoder);for(let s=0;s<n;s++){const l=xe(i.restDecoder),o=new Array(l),c=i.readClient();let h=xe(i.restDecoder);t.set(c,{i:0,refs:o});for(let d=0;d<l;d++){const p=i.readInfo();switch(vd&p){case 0:{const m=i.readLen();o[d]=new Ki(we(c,h),m),h+=m;break}case 10:{const m=xe(i.restDecoder);o[d]=new Ji(we(c,h),m),h+=m;break}default:{const m=(p&(fs|zi))===0,y=new He(we(c,h),null,(p&zi)===zi?i.readLeftID():null,null,(p&fs)===fs?i.readRightID():null,m?i.readParentInfo()?e.get(i.readString()):i.readLeftID():null,m&&(p&bc)===bc?i.readString():null,aQ(i,p));o[d]=y,h+=y.length}}}}return t},L5=(i,e,t)=>{const n=[];let s=tr(t.keys()).sort((b,v)=>b-v);if(s.length===0)return null;const l=()=>{if(s.length===0)return null;let b=t.get(s[s.length-1]);for(;b.refs.length===b.i;)if(s.pop(),s.length>0)b=t.get(s[s.length-1]);else return null;return b};let o=l();if(o===null)return null;const c=new zT,h=new Map,d=(b,v)=>{const w=h.get(b);(w==null||w>v)&&h.set(b,v)};let p=o.refs[o.i++];const m=new Map,y=()=>{for(const b of n){const v=b.id.client,w=t.get(v);w?(w.i--,c.clients.set(v,w.refs.slice(w.i)),t.delete(v),w.i=0,w.refs=[]):c.clients.set(v,[b]),s=s.filter(x=>x!==v)}n.length=0};for(;;){if(p.constructor!==Ji){const v=Os(m,p.id.client,()=>dt(e,p.id.client))-p.id.clock;if(v<0)n.push(p),d(p.id.client,p.id.clock-1),y();else{const w=p.getMissing(i,e);if(w!==null){n.push(p);const x=t.get(w)||{refs:[],i:0};if(x.refs.length===x.i)d(w,dt(e,w)),y();else{p=x.refs[x.i++];continue}}else(v===0||v<p.length)&&(p.integrate(i,v),m.set(p.id.client,p.id.clock+p.length))}}if(n.length>0)p=n.pop();else if(o!==null&&o.i<o.refs.length)p=o.refs[o.i++];else{if(o=l(),o===null)break;p=o.refs[o.i++]}}if(c.clients.size>0){const b=new Hr;return yy(b,c,new Map),Me(b.restEncoder,0),{missing:h,update:b.toUint8Array()}}return null},z5=(i,e)=>yy(i,e.doc.store,e.beforeState),j5=(i,e,t,n=new Ta(i))=>We(e,s=>{s.local=!1;let l=!1;const o=s.doc,c=o.store,h=Z5(n,o),d=L5(s,c,h),p=c.pendingStructs;if(p){for(const[y,b]of p.missing)if(b<dt(c,y)){l=!0;break}if(d){for(const[y,b]of d.missing){const v=p.missing.get(y);(v==null||v>b)&&p.missing.set(y,b)}p.update=Pf([p.update,d.update])}}else c.pendingStructs=d;const m=uk(n,s,c);if(c.pendingDs){const y=new Ta(nl(c.pendingDs));xe(y.restDecoder);const b=uk(y,s,c);m&&b?c.pendingDs=Pf([m,b]):c.pendingDs=m||b}else c.pendingDs=m;if(l){const y=c.pendingStructs.update;c.pendingStructs=null,MT(s.doc,y)}},t,!1),MT=(i,e,t,n=Ta)=>{const s=nl(e);j5(s,i,t,new n(s))},U5=(i,e,t)=>MT(i,e,t,RT),N5=(i,e,t=new Map)=>{yy(i,e.store,t),Na(i,E5(e.store))},B5=(i,e=new Uint8Array([0]),t=new Hr)=>{const n=PT(e);N5(t,i,n);const s=[t.toUint8Array()];if(i.store.pendingDs&&s.push(i.store.pendingDs),i.store.pendingStructs&&s.push(sZ(i.store.pendingStructs.update,e)),s.length>1){if(t.constructor===Fc)return iZ(s.map((l,o)=>o===0?l:lZ(l)));if(t.constructor===Hr)return Pf(s)}return s[0]},X5=(i,e)=>B5(i,e,new Fc),q5=i=>{const e=new Map,t=xe(i.restDecoder);for(let n=0;n<t;n++){const s=xe(i.restDecoder),l=xe(i.restDecoder);e.set(s,l)}return e},PT=i=>q5(new ET(nl(i)));class Y5{constructor(){this.l=[]}}const hk=()=>new Y5,fk=(i,e)=>i.l.push(e),dk=(i,e)=>{const t=i.l,n=t.length;i.l=t.filter(s=>e!==s),n===i.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},DT=(i,e,t)=>oy(i.l,[e,t]);class fa{constructor(e,t){this.client=e,this.clock=t}}const sa=(i,e)=>i===e||i!==null&&e!==null&&i.client===e.client&&i.clock===e.clock,we=(i,e)=>new fa(i,e),ZT=i=>{for(const[e,t]of i.doc.share.entries())if(t===i)return e;throw ji()},Mf=(i,e)=>{for(;e!==null;){if(e.parent===i)return!0;e=e.parent._item}return!1};class LT{constructor(e,t,n,s=0){this.type=e,this.tname=t,this.item=n,this.assoc=s}}const pk=i=>{const e={};return i.type&&(e.type=i.type),i.tname&&(e.tname=i.tname),i.item&&(e.item=i.item),i.assoc!=null&&(e.assoc=i.assoc),e},Ac=i=>new LT(i.type==null?null:we(i.type.client,i.type.clock),i.tname??null,i.item==null?null:we(i.item.client,i.item.clock),i.assoc==null?0:i.assoc);class V5{constructor(e,t,n=0){this.type=e,this.index=t,this.assoc=n}}const I5=(i,e,t=0)=>new V5(i,e,t),zh=(i,e,t)=>{let n=null,s=null;return i._item===null?s=ZT(i):n=we(i._item.id.client,i._item.id.clock),new LT(n,s,e,t)},WO=(i,e,t=0)=>{let n=i._start;if(t<0){if(e===0)return zh(i,null,t);e--}for(;n!==null;){if(!n.deleted&&n.countable){if(n.length>e)return zh(i,we(n.id.client,n.id.clock+e),t);e-=n.length}if(n.right===null&&t<0)return zh(i,n.lastId,t);n=n.right}return zh(i,null,t)},G5=(i,e)=>{const t=da(i,e),n=e.clock-t.id.clock;return{item:t,diff:n}},HO=(i,e,t=!0)=>{const n=e.store,s=i.item,l=i.type,o=i.tname,c=i.assoc;let h=null,d=0;if(s!==null){if(dt(n,s.client)<=s.clock)return null;const p=t?e0(n,s):G5(n,s),m=p.item;if(!(m instanceof He))return null;if(h=m.parent,h._item===null||!h._item.deleted){d=m.deleted||!m.countable?0:p.diff+(c>=0?0:1);let y=m.left;for(;y!==null;)!y.deleted&&y.countable&&(d+=y.length),y=y.left}}else{if(o!==null)h=e.get(o);else if(l!==null){if(dt(n,l.client)<=l.clock)return null;const{item:p}=t?e0(n,l):{item:da(n,l)};if(p instanceof He&&p.content instanceof Bn)h=p.content.type;else return null}else throw ji();c>=0?d=h._length:d=0}return I5(h,d,i.assoc)},gk=(i,e)=>i===e||i!==null&&e!==null&&i.tname===e.tname&&sa(i.item,e.item)&&sa(i.type,e.type)&&i.assoc===e.assoc,ea=(i,e)=>e===void 0?!i.deleted:e.sv.has(i.id.client)&&(e.sv.get(i.id.client)||0)>i.id.clock&&!Jc(e.ds,i.id),KO=(i,e)=>{const t=Os(i.meta,KO,Wr),n=i.doc.store;t.has(e)||(e.sv.forEach((s,l)=>{s<dt(n,l)&&fi(i,we(l,s))}),_a(i,e.ds,s=>{}),t.add(e))};class zT{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const by=i=>{const e=new Map;return i.clients.forEach((t,n)=>{const s=t[t.length-1];e.set(n,s.id.clock+s.length)}),e},dt=(i,e)=>{const t=i.clients.get(e);if(t===void 0)return 0;const n=t[t.length-1];return n.id.clock+n.length},jT=(i,e)=>{let t=i.clients.get(e.id.client);if(t===void 0)t=[],i.clients.set(e.id.client,t);else{const n=t[t.length-1];if(n.id.clock+n.length!==e.id.clock)throw ji()}t.push(e)},jn=(i,e)=>{let t=0,n=i.length-1,s=i[n],l=s.id.clock;if(l===e)return n;let o=mn(e/(l+s.length-1)*n);for(;t<=n;){if(s=i[o],l=s.id.clock,l<=e){if(e<l+s.length)return o;t=o+1}else n=o-1;o=mn((t+n)/2)}throw ji()},W5=(i,e)=>{const t=i.clients.get(e.client);return t[jn(t,e.clock)]},da=W5,JO=(i,e,t)=>{const n=jn(e,t),s=e[n];return s.id.clock<t&&s instanceof He?(e.splice(n+1,0,Uf(i,s,t-s.id.clock)),n+1):n},fi=(i,e)=>{const t=i.doc.store.clients.get(e.client);return t[JO(i,t,e.clock)]},mk=(i,e,t)=>{const n=e.clients.get(t.client),s=jn(n,t.clock),l=n[s];return t.clock!==l.id.clock+l.length-1&&l.constructor!==Ki&&n.splice(s+1,0,Uf(i,l,t.clock-l.id.clock+1)),l},H5=(i,e,t)=>{const n=i.clients.get(e.id.client);n[jn(n,e.id.clock)]=t},UT=(i,e,t,n,s)=>{if(n===0)return;const l=t+n;let o=JO(i,e,t),c;do c=e[o++],l<c.id.clock+c.length&&JO(i,e,l),s(c);while(o<e.length&&e[o].id.clock<l)};let K5=class{constructor(e,t,n){this.doc=e,this.deleteSet=new Ua,this.beforeState=by(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=t,this.meta=new Map,this.local=n,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}};const Ok=(i,e)=>e.deleteSet.clients.size===0&&!$P(e.afterState,(t,n)=>e.beforeState.get(n)!==t)?!1:(my(e.deleteSet),z5(i,e),Na(i,e.deleteSet),!0),yk=(i,e,t)=>{const n=e._item;(n===null||n.id.clock<(i.beforeState.get(n.id.client)||0)&&!n.deleted)&&Os(i.changed,e,Wr).add(t)},gf=(i,e)=>{let t=i[e],n=i[e-1],s=e;for(;s>0;t=n,n=i[--s-1]){if(n.deleted===t.deleted&&n.constructor===t.constructor&&n.mergeWith(t)){t instanceof He&&t.parentSub!==null&&t.parent._map.get(t.parentSub)===t&&t.parent._map.set(t.parentSub,n);continue}break}const l=e-s;return l&&i.splice(e+1-l,l),l},J5=(i,e,t)=>{for(const[n,s]of i.clients.entries()){const l=e.clients.get(n);for(let o=s.length-1;o>=0;o--){const c=s[o],h=c.clock+c.len;for(let d=jn(l,c.clock),p=l[d];d<l.length&&p.id.clock<h;p=l[++d]){const m=l[d];if(c.clock+c.len<=m.id.clock)break;m instanceof He&&m.deleted&&!m.keep&&t(m)&&m.gc(e,!1)}}}},F5=(i,e)=>{i.clients.forEach((t,n)=>{const s=e.clients.get(n);for(let l=t.length-1;l>=0;l--){const o=t[l],c=iy(s.length-1,1+jn(s,o.clock+o.len-1));for(let h=c,d=s[h];h>0&&d.id.clock>=o.clock;d=s[h])h-=1+gf(s,h)}})},NT=(i,e)=>{if(e<i.length){const t=i[e],n=t.doc,s=n.store,l=t.deleteSet,o=t._mergeStructs;try{my(l),t.afterState=by(t.doc.store),n.emit("beforeObserverCalls",[t,n]);const c=[];t.changed.forEach((h,d)=>c.push(()=>{(d._item===null||!d._item.deleted)&&d._callObserver(t,h)})),c.push(()=>{t.changedParentTypes.forEach((h,d)=>{d._dEH.l.length>0&&(d._item===null||!d._item.deleted)&&(h=h.filter(p=>p.target._item===null||!p.target._item.deleted),h.forEach(p=>{p.currentTarget=d,p._path=null}),h.sort((p,m)=>p.path.length-m.path.length),c.push(()=>{DT(d._dEH,h,t)}))}),c.push(()=>n.emit("afterTransaction",[t,n])),c.push(()=>{t._needFormattingCleanup&&vZ(t)})}),oy(c,[])}finally{n.gc&&J5(l,s,n.gcFilter),F5(l,s),t.afterState.forEach((p,m)=>{const y=t.beforeState.get(m)||0;if(y!==p){const b=s.clients.get(m),v=or(jn(b,y),1);for(let w=b.length-1;w>=v;)w-=1+gf(b,w)}});for(let p=o.length-1;p>=0;p--){const{client:m,clock:y}=o[p].id,b=s.clients.get(m),v=jn(b,y);v+1<b.length&&gf(b,v+1)>1||v>0&&gf(b,v)}if(!t.local&&t.afterState.get(n.clientID)!==t.beforeState.get(n.clientID)&&(Q5(py,kT,"[yjs] ",xT,_T,"Changed the client-id because another client seems to be using it."),n.clientID=$T()),n.emit("afterTransactionCleanup",[t,n]),n._observers.has("update")){const p=new Fc;Ok(p,t)&&n.emit("update",[p.toUint8Array(),t.origin,n,t])}if(n._observers.has("updateV2")){const p=new Hr;Ok(p,t)&&n.emit("updateV2",[p.toUint8Array(),t.origin,n,t])}const{subdocsAdded:c,subdocsLoaded:h,subdocsRemoved:d}=t;(c.size>0||d.size>0||h.size>0)&&(c.forEach(p=>{p.clientID=n.clientID,p.collectionid==null&&(p.collectionid=n.collectionid),n.subdocs.add(p)}),d.forEach(p=>n.subdocs.delete(p)),n.emit("subdocs",[{loaded:h,added:c,removed:d},n,t]),d.forEach(p=>p.destroy())),i.length<=e+1?(n._transactionCleanups=[],n.emit("afterAllTransactions",[n,i])):NT(i,e+1)}}},We=(i,e,t=null,n=!0)=>{const s=i._transactionCleanups;let l=!1,o=null;i._transaction===null&&(l=!0,i._transaction=new K5(i,t,n),s.push(i._transaction),s.length===1&&i.emit("beforeAllTransactions",[i]),i.emit("beforeTransaction",[i._transaction,i]));try{o=e(i._transaction)}finally{if(l){const c=i._transaction===s[0];i._transaction=null,c&&NT(s,0)}}return o};class eZ{constructor(e,t){this.insertions=t,this.deletions=e,this.meta=new Map}}const bk=(i,e,t)=>{_a(i,t.deletions,n=>{n instanceof He&&e.scope.some(s=>s===i.doc||Mf(s,n))&&Qy(n,!1)})},vk=(i,e,t)=>{let n=null;const s=i.doc,l=i.scope;We(s,c=>{for(;e.length>0&&i.currStackItem===null;){const h=s.store,d=e.pop(),p=new Set,m=[];let y=!1;_a(c,d.insertions,b=>{if(b instanceof He){if(b.redone!==null){let{item:v,diff:w}=e0(h,b.id);w>0&&(v=fi(c,we(v.id.client,v.id.clock+w))),b=v}!b.deleted&&l.some(v=>v===c.doc||Mf(v,b))&&m.push(b)}}),_a(c,d.deletions,b=>{b instanceof He&&l.some(v=>v===c.doc||Mf(v,b))&&!Jc(d.insertions,b.id)&&p.add(b)}),p.forEach(b=>{y=lQ(c,b,p,d.insertions,i.ignoreRemoteMapChanges,i)!==null||y});for(let b=m.length-1;b>=0;b--){const v=m[b];i.deleteFilter(v)&&(v.delete(c),y=!0)}i.currStackItem=y?d:null}c.changed.forEach((h,d)=>{h.has(null)&&d._searchMarker&&(d._searchMarker.length=0)}),n=c},i);const o=i.currStackItem;if(o!=null){const c=n.changedParentTypes;i.emit("stack-item-popped",[{stackItem:o,type:t,changedParentTypes:c,origin:i},i]),i.currStackItem=null}return o};class BT extends H_{constructor(e,{captureTimeout:t=500,captureTransaction:n=h=>!0,deleteFilter:s=()=>!0,trackedOrigins:l=new Set([null]),ignoreRemoteMapChanges:o=!1,doc:c=wa(e)?e[0].doc:e instanceof sl?e:e.doc}={}){super(),this.scope=[],this.doc=c,this.addToScope(e),this.deleteFilter=s,l.add(this),this.trackedOrigins=l,this.captureTransaction=n,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.currStackItem=null,this.lastChange=0,this.ignoreRemoteMapChanges=o,this.captureTimeout=t,this.afterTransactionHandler=h=>{if(!this.captureTransaction(h)||!this.scope.some(x=>h.changedParentTypes.has(x)||x===this.doc)||!this.trackedOrigins.has(h.origin)&&(!h.origin||!this.trackedOrigins.has(h.origin.constructor)))return;const d=this.undoing,p=this.redoing,m=d?this.redoStack:this.undoStack;d?this.stopCapturing():p||this.clear(!1,!0);const y=new Ua;h.afterState.forEach((x,_)=>{const E=h.beforeState.get(_)||0,C=x-E;C>0&&Qc(y,_,E,C)});const b=kc();let v=!1;if(this.lastChange>0&&b-this.lastChange<this.captureTimeout&&m.length>0&&!d&&!p){const x=m[m.length-1];x.deletions=GO([x.deletions,h.deleteSet]),x.insertions=GO([x.insertions,y])}else m.push(new eZ(h.deleteSet,y)),v=!0;!d&&!p&&(this.lastChange=b),_a(h,h.deleteSet,x=>{x instanceof He&&this.scope.some(_=>_===h.doc||Mf(_,x))&&Qy(x,!0)});const w=[{stackItem:m[m.length-1],origin:h.origin,type:d?"redo":"undo",changedParentTypes:h.changedParentTypes},this];v?this.emit("stack-item-added",w):this.emit("stack-item-updated",w)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(e){const t=new Set(this.scope);e=wa(e)?e:[e],e.forEach(n=>{t.has(n)||(t.add(n),(n instanceof Mt?n.doc!==this.doc:n!==this.doc)&&QT("[yjs#509] Not same Y.Doc"),this.scope.push(n))})}addTrackedOrigin(e){this.trackedOrigins.add(e)}removeTrackedOrigin(e){this.trackedOrigins.delete(e)}clear(e=!0,t=!0){(e&&this.canUndo()||t&&this.canRedo())&&this.doc.transact(n=>{e&&(this.undoStack.forEach(s=>bk(n,this,s)),this.undoStack=[]),t&&(this.redoStack.forEach(s=>bk(n,this,s)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:t}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let e;try{e=vk(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){this.redoing=!0;let e;try{e=vk(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}function*tZ(i){const e=xe(i.restDecoder);for(let t=0;t<e;t++){const n=xe(i.restDecoder),s=i.readClient();let l=xe(i.restDecoder);for(let o=0;o<n;o++){const c=i.readInfo();if(c===10){const h=xe(i.restDecoder);yield new Ji(we(s,l),h),l+=h}else if((vd&c)!==0){const h=(c&(fs|zi))===0,d=new He(we(s,l),null,(c&zi)===zi?i.readLeftID():null,null,(c&fs)===fs?i.readRightID():null,h?i.readParentInfo()?i.readString():i.readLeftID():null,h&&(c&bc)===bc?i.readString():null,aQ(i,c));yield d,l+=d.length}else{const h=i.readLen();yield new Ki(we(s,l),h),l+=h}}}}class vy{constructor(e,t){this.gen=tZ(e),this.curr=null,this.done=!1,this.filterSkips=t,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===Ji);return this.curr}}class Sy{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const iZ=i=>Pf(i,RT,Fc),nZ=(i,e)=>{if(i.constructor===Ki){const{client:t,clock:n}=i.id;return new Ki(we(t,n+e),i.length-e)}else if(i.constructor===Ji){const{client:t,clock:n}=i.id;return new Ji(we(t,n+e),i.length-e)}else{const t=i,{client:n,clock:s}=t.id;return new He(we(n,s+e),null,we(n,s+e-1),null,t.rightOrigin,t.parent,t.parentSub,t.content.splice(e))}},Pf=(i,e=Ta,t=Hr)=>{if(i.length===1)return i[0];const n=i.map(p=>new e(nl(p)));let s=n.map(p=>new vy(p,!0)),l=null;const o=new t,c=new Sy(o);for(;s=s.filter(y=>y.curr!==null),s.sort((y,b)=>{if(y.curr.id.client===b.curr.id.client){const v=y.curr.id.clock-b.curr.id.clock;return v===0?y.curr.constructor===b.curr.constructor?0:y.curr.constructor===Ji?1:-1:v}else return b.curr.id.client-y.curr.id.client}),s.length!==0;){const p=s[0],m=p.curr.id.client;if(l!==null){let y=p.curr,b=!1;for(;y!==null&&y.id.clock+y.length<=l.struct.id.clock+l.struct.length&&y.id.client>=l.struct.id.client;)y=p.next(),b=!0;if(y===null||y.id.client!==m||b&&y.id.clock>l.struct.id.clock+l.struct.length)continue;if(m!==l.struct.id.client)Gs(c,l.struct,l.offset),l={struct:y,offset:0},p.next();else if(l.struct.id.clock+l.struct.length<y.id.clock)if(l.struct.constructor===Ji)l.struct.length=y.id.clock+y.length-l.struct.id.clock;else{Gs(c,l.struct,l.offset);const v=y.id.clock-l.struct.id.clock-l.struct.length;l={struct:new Ji(we(m,l.struct.id.clock+l.struct.length),v),offset:0}}else{const v=l.struct.id.clock+l.struct.length-y.id.clock;v>0&&(l.struct.constructor===Ji?l.struct.length-=v:y=nZ(y,v)),l.struct.mergeWith(y)||(Gs(c,l.struct,l.offset),l={struct:y,offset:0},p.next())}}else l={struct:p.curr,offset:0},p.next();for(let y=p.curr;y!==null&&y.id.client===m&&y.id.clock===l.struct.id.clock+l.struct.length&&y.constructor!==Ji;y=p.next())Gs(c,l.struct,l.offset),l={struct:y,offset:0}}l!==null&&(Gs(c,l.struct,l.offset),l=null),wy(c);const h=n.map(p=>Oy(p)),d=GO(h);return Na(o,d),o.toUint8Array()},sZ=(i,e,t=Ta,n=Hr)=>{const s=PT(e),l=new n,o=new Sy(l),c=new t(nl(i)),h=new vy(c,!1);for(;h.curr;){const p=h.curr,m=p.id.client,y=s.get(m)||0;if(h.curr.constructor===Ji){h.next();continue}if(p.id.clock+p.length>y)for(Gs(o,p,or(y-p.id.clock,0)),h.next();h.curr&&h.curr.id.client===m;)Gs(o,h.curr,0),h.next();else for(;h.curr&&h.curr.id.client===m&&h.curr.id.clock+h.curr.length<=y;)h.next()}wy(o);const d=Oy(c);return Na(l,d),l.toUint8Array()},XT=i=>{i.written>0&&(i.clientStructs.push({written:i.written,restEncoder:fn(i.encoder.restEncoder)}),i.encoder.restEncoder=Hc(),i.written=0)},Gs=(i,e,t)=>{i.written>0&&i.currClient!==e.id.client&&XT(i),i.written===0&&(i.currClient=e.id.client,i.encoder.writeClient(e.id.client),Me(i.encoder.restEncoder,e.id.clock+t)),e.write(i.encoder,t),i.written++},wy=i=>{XT(i);const e=i.encoder.restEncoder;Me(e,i.clientStructs.length);for(let t=0;t<i.clientStructs.length;t++){const n=i.clientStructs[t];Me(e,n.written),Sd(e,n.restEncoder)}},rZ=(i,e,t,n)=>{const s=new t(nl(i)),l=new vy(s,!1),o=new n,c=new Sy(o);for(let d=l.curr;d!==null;d=l.next())Gs(c,e(d),0);wy(c);const h=Oy(s);return Na(o,h),o.toUint8Array()},lZ=i=>rZ(i,kD,Ta,Fc),Sk="You must not compute changes after the event-handler fired.";class Ad{constructor(e,t){this.target=e,this.currentTarget=e,this.transaction=t,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=aZ(this.currentTarget,this.target))}deletes(e){return Jc(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw zn(Sk);const e=new Map,t=this.target;this.transaction.changed.get(t).forEach(s=>{if(s!==null){const l=t._map.get(s);let o,c;if(this.adds(l)){let h=l.left;for(;h!==null&&this.adds(h);)h=h.left;if(this.deletes(l))if(h!==null&&this.deletes(h))o="delete",c=Qm(h.content.getContent());else return;else h!==null&&this.deletes(h)?(o="update",c=Qm(h.content.getContent())):(o="add",c=void 0)}else if(this.deletes(l))o="delete",c=Qm(l.content.getContent());else return;e.set(s,{action:o,oldValue:c})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw zn(Sk);const t=this.target,n=Wr(),s=Wr(),l=[];if(e={added:n,deleted:s,delta:l,keys:this.keys},this.transaction.changed.get(t).has(null)){let c=null;const h=()=>{c&&l.push(c)};for(let d=t._start;d!==null;d=d.right)d.deleted?this.deletes(d)&&!this.adds(d)&&((c===null||c.delete===void 0)&&(h(),c={delete:0}),c.delete+=d.length,s.add(d)):this.adds(d)?((c===null||c.insert===void 0)&&(h(),c={insert:[]}),c.insert=c.insert.concat(d.content.getContent()),n.add(d)):((c===null||c.retain===void 0)&&(h(),c={retain:0}),c.retain+=d.length);c!==null&&c.retain===void 0&&h()}this._changes=e}return e}}const aZ=(i,e)=>{const t=[];for(;e._item!==null&&e!==i;){if(e._item.parentSub!==null)t.unshift(e._item.parentSub);else{let n=0,s=e._item.parent._start;for(;s!==e._item&&s!==null;)!s.deleted&&s.countable&&(n+=s.length),s=s.right;t.unshift(n)}e=e._item.parent}return t},Wt=()=>{QT("Invalid access: Add Yjs type to a document before reading data.")},qT=80;let ky=0;class oZ{constructor(e,t){e.marker=!0,this.p=e,this.index=t,this.timestamp=ky++}}const cZ=i=>{i.timestamp=ky++},YT=(i,e,t)=>{i.p.marker=!1,i.p=e,e.marker=!0,i.index=t,i.timestamp=ky++},uZ=(i,e,t)=>{if(i.length>=qT){const n=i.reduce((s,l)=>s.timestamp<l.timestamp?s:l);return YT(n,e,t),n}else{const n=new oZ(e,t);return i.push(n),n}},Cd=(i,e)=>{if(i._start===null||e===0||i._searchMarker===null)return null;const t=i._searchMarker.length===0?null:i._searchMarker.reduce((l,o)=>ff(e-l.index)<ff(e-o.index)?l:o);let n=i._start,s=0;for(t!==null&&(n=t.p,s=t.index,cZ(t));n.right!==null&&s<e;){if(!n.deleted&&n.countable){if(e<s+n.length)break;s+=n.length}n=n.right}for(;n.left!==null&&s>e;)n=n.left,!n.deleted&&n.countable&&(s-=n.length);for(;n.left!==null&&n.left.id.client===n.id.client&&n.left.id.clock+n.left.length===n.id.clock;)n=n.left,!n.deleted&&n.countable&&(s-=n.length);return t!==null&&ff(t.index-s)<n.parent.length/qT?(YT(t,n,s),t):uZ(i._searchMarker,n,s)},Cc=(i,e,t)=>{for(let n=i.length-1;n>=0;n--){const s=i[n];if(t>0){let l=s.p;for(l.marker=!1;l&&(l.deleted||!l.countable);)l=l.left,l&&!l.deleted&&l.countable&&(s.index-=l.length);if(l===null||l.marker===!0){i.splice(n,1);continue}s.p=l,l.marker=!0}(e<s.index||t>0&&e===s.index)&&(s.index=or(e,s.index+t))}},$d=(i,e,t)=>{const n=i,s=e.changedParentTypes;for(;Os(s,i,()=>[]).push(t),i._item!==null;)i=i._item.parent;DT(n._eH,t,e)};class Mt{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=hk(),this._dEH=hk(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,t){this.doc=e,this._item=t}_copy(){throw gn()}clone(){throw gn()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,t){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){fk(this._eH,e)}observeDeep(e){fk(this._dEH,e)}unobserve(e){dk(this._eH,e)}unobserveDeep(e){dk(this._dEH,e)}toJSON(){}}const VT=(i,e,t)=>{i.doc??Wt(),e<0&&(e=i._length+e),t<0&&(t=i._length+t);let n=t-e;const s=[];let l=i._start;for(;l!==null&&n>0;){if(l.countable&&!l.deleted){const o=l.content.getContent();if(o.length<=e)e-=o.length;else{for(let c=e;c<o.length&&n>0;c++)s.push(o[c]),n--;e=0}}l=l.right}return s},IT=i=>{i.doc??Wt();const e=[];let t=i._start;for(;t!==null;){if(t.countable&&!t.deleted){const n=t.content.getContent();for(let s=0;s<n.length;s++)e.push(n[s])}t=t.right}return e},$c=(i,e)=>{let t=0,n=i._start;for(i.doc??Wt();n!==null;){if(n.countable&&!n.deleted){const s=n.content.getContent();for(let l=0;l<s.length;l++)e(s[l],t++,i)}n=n.right}},GT=(i,e)=>{const t=[];return $c(i,(n,s)=>{t.push(e(n,s,i))}),t},hZ=i=>{let e=i._start,t=null,n=0;return{[Symbol.iterator](){return this},next:()=>{if(t===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};t=e.content.getContent(),n=0,e=e.right}const s=t[n++];return t.length<=n&&(t=null),{done:!1,value:s}}}},WT=(i,e)=>{i.doc??Wt();const t=Cd(i,e);let n=i._start;for(t!==null&&(n=t.p,e-=t.index);n!==null;n=n.right)if(!n.deleted&&n.countable){if(e<n.length)return n.content.getContent()[e];e-=n.length}},Df=(i,e,t,n)=>{let s=t;const l=i.doc,o=l.clientID,c=l.store,h=t===null?e._start:t.right;let d=[];const p=()=>{d.length>0&&(s=new He(we(o,dt(c,o)),s,s&&s.lastId,h,h&&h.id,e,null,new Jr(d)),s.integrate(i,0),d=[])};n.forEach(m=>{if(m===null)d.push(m);else switch(m.constructor){case Number:case Object:case Boolean:case Array:case String:d.push(m);break;default:switch(p(),m.constructor){case Uint8Array:case ArrayBuffer:s=new He(we(o,dt(c,o)),s,s&&s.lastId,h,h&&h.id,e,null,new eu(new Uint8Array(m))),s.integrate(i,0);break;case sl:s=new He(we(o,dt(c,o)),s,s&&s.lastId,h,h&&h.id,e,null,new tu(m)),s.integrate(i,0);break;default:if(m instanceof Mt)s=new He(we(o,dt(c,o)),s,s&&s.lastId,h,h&&h.id,e,null,new Bn(m)),s.integrate(i,0);else throw new Error("Unexpected content type in insert operation")}}}),p()},HT=()=>zn("Length exceeded!"),KT=(i,e,t,n)=>{if(t>e._length)throw HT();if(t===0)return e._searchMarker&&Cc(e._searchMarker,t,n.length),Df(i,e,null,n);const s=t,l=Cd(e,t);let o=e._start;for(l!==null&&(o=l.p,t-=l.index,t===0&&(o=o.prev,t+=o&&o.countable&&!o.deleted?o.length:0));o!==null;o=o.right)if(!o.deleted&&o.countable){if(t<=o.length){t<o.length&&fi(i,we(o.id.client,o.id.clock+t));break}t-=o.length}return e._searchMarker&&Cc(e._searchMarker,s,n.length),Df(i,e,o,n)},fZ=(i,e,t)=>{let s=(e._searchMarker||[]).reduce((l,o)=>o.index>l.index?o:l,{index:0,p:e._start}).p;if(s)for(;s.right;)s=s.right;return Df(i,e,s,t)},JT=(i,e,t,n)=>{if(n===0)return;const s=t,l=n,o=Cd(e,t);let c=e._start;for(o!==null&&(c=o.p,t-=o.index);c!==null&&t>0;c=c.right)!c.deleted&&c.countable&&(t<c.length&&fi(i,we(c.id.client,c.id.clock+t)),t-=c.length);for(;n>0&&c!==null;)c.deleted||(n<c.length&&fi(i,we(c.id.client,c.id.clock+n)),c.delete(i),n-=c.length),c=c.right;if(n>0)throw HT();e._searchMarker&&Cc(e._searchMarker,s,-l+n)},Zf=(i,e,t)=>{const n=e._map.get(t);n!==void 0&&n.delete(i)},xy=(i,e,t,n)=>{const s=e._map.get(t)||null,l=i.doc,o=l.clientID;let c;if(n==null)c=new Jr([n]);else switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:c=new Jr([n]);break;case Uint8Array:c=new eu(n);break;case sl:c=new tu(n);break;default:if(n instanceof Mt)c=new Bn(n);else throw new Error("Unexpected content type")}new He(we(o,dt(l.store,o)),s,s&&s.lastId,null,null,e,t,c).integrate(i,0)},_y=(i,e)=>{i.doc??Wt();const t=i._map.get(e);return t!==void 0&&!t.deleted?t.content.getContent()[t.length-1]:void 0},FT=i=>{const e={};return i.doc??Wt(),i._map.forEach((t,n)=>{t.deleted||(e[n]=t.content.getContent()[t.length-1])}),e},eQ=(i,e)=>{i.doc??Wt();const t=i._map.get(e);return t!==void 0&&!t.deleted},dZ=(i,e)=>{const t={};return i._map.forEach((n,s)=>{let l=n;for(;l!==null&&(!e.sv.has(l.id.client)||l.id.clock>=(e.sv.get(l.id.client)||0));)l=l.left;l!==null&&ea(l,e)&&(t[s]=l.content.getContent()[l.length-1])}),t},jh=i=>(i.doc??Wt(),A5(i._map.entries(),e=>!e[1].deleted));class pZ extends Ad{}class pa extends Mt{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const t=new pa;return t.push(e),t}_integrate(e,t){super._integrate(e,t),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new pa}clone(){const e=new pa;return e.insert(0,this.toArray().map(t=>t instanceof Mt?t.clone():t)),e}get length(){return this.doc??Wt(),this._length}_callObserver(e,t){super._callObserver(e,t),$d(this,e,new pZ(this,e))}insert(e,t){this.doc!==null?We(this.doc,n=>{KT(n,this,e,t)}):this._prelimContent.splice(e,0,...t)}push(e){this.doc!==null?We(this.doc,t=>{fZ(t,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,t=1){this.doc!==null?We(this.doc,n=>{JT(n,this,e,t)}):this._prelimContent.splice(e,t)}get(e){return WT(this,e)}toArray(){return IT(this)}slice(e=0,t=this.length){return VT(this,e,t)}toJSON(){return this.map(e=>e instanceof Mt?e.toJSON():e)}map(e){return GT(this,e)}forEach(e){$c(this,e)}[Symbol.iterator](){return hZ(this)}_write(e){e.writeTypeRef(jZ)}}const gZ=i=>new pa;class mZ extends Ad{constructor(e,t,n){super(e,t),this.keysChanged=n}}class Qa extends Mt{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,t){super._integrate(e,t),this._prelimContent.forEach((n,s)=>{this.set(s,n)}),this._prelimContent=null}_copy(){return new Qa}clone(){const e=new Qa;return this.forEach((t,n)=>{e.set(n,t instanceof Mt?t.clone():t)}),e}_callObserver(e,t){$d(this,e,new mZ(this,e,t))}toJSON(){this.doc??Wt();const e={};return this._map.forEach((t,n)=>{if(!t.deleted){const s=t.content.getContent()[t.length-1];e[n]=s instanceof Mt?s.toJSON():s}}),e}get size(){return[...jh(this)].length}keys(){return Dm(jh(this),e=>e[0])}values(){return Dm(jh(this),e=>e[1].content.getContent()[e[1].length-1])}entries(){return Dm(jh(this),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this.doc??Wt(),this._map.forEach((t,n)=>{t.deleted||e(t.content.getContent()[t.length-1],n,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?We(this.doc,t=>{Zf(t,this,e)}):this._prelimContent.delete(e)}set(e,t){return this.doc!==null?We(this.doc,n=>{xy(n,this,e,t)}):this._prelimContent.set(e,t),t}get(e){return _y(this,e)}has(e){return eQ(this,e)}clear(){this.doc!==null?We(this.doc,e=>{this.forEach(function(t,n,s){Zf(e,s,n)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(UZ)}}const OZ=i=>new Qa,Hs=(i,e)=>i===e||typeof i=="object"&&typeof e=="object"&&i&&e&&SD(i,e);class FO{constructor(e,t,n,s){this.left=e,this.right=t,this.index=n,this.currentAttributes=s}forward(){this.right===null&&ji(),this.right.content.constructor===Qt?this.right.deleted||Ba(this.currentAttributes,this.right.content):this.right.deleted||(this.index+=this.right.length),this.left=this.right,this.right=this.right.right}}const wk=(i,e,t)=>{for(;e.right!==null&&t>0;)e.right.content.constructor===Qt?e.right.deleted||Ba(e.currentAttributes,e.right.content):e.right.deleted||(t<e.right.length&&fi(i,we(e.right.id.client,e.right.id.clock+t)),e.index+=e.right.length,t-=e.right.length),e.left=e.right,e.right=e.right.right;return e},Uh=(i,e,t,n)=>{const s=new Map,l=n?Cd(e,t):null;if(l){const o=new FO(l.p.left,l.p,l.index,s);return wk(i,o,t-l.index)}else{const o=new FO(null,e._start,0,s);return wk(i,o,t)}},tQ=(i,e,t,n)=>{for(;t.right!==null&&(t.right.deleted===!0||t.right.content.constructor===Qt&&Hs(n.get(t.right.content.key),t.right.content.value));)t.right.deleted||n.delete(t.right.content.key),t.forward();const s=i.doc,l=s.clientID;n.forEach((o,c)=>{const h=t.left,d=t.right,p=new He(we(l,dt(s.store,l)),h,h&&h.lastId,d,d&&d.id,e,null,new Qt(c,o));p.integrate(i,0),t.right=p,t.forward()})},Ba=(i,e)=>{const{key:t,value:n}=e;n===null?i.delete(t):i.set(t,n)},iQ=(i,e)=>{for(;i.right!==null;){if(!(i.right.deleted||i.right.content.constructor===Qt&&Hs(e[i.right.content.key]??null,i.right.content.value)))break;i.forward()}},nQ=(i,e,t,n)=>{const s=i.doc,l=s.clientID,o=new Map;for(const c in n){const h=n[c],d=t.currentAttributes.get(c)??null;if(!Hs(d,h)){o.set(c,d);const{left:p,right:m}=t;t.right=new He(we(l,dt(s.store,l)),p,p&&p.lastId,m,m&&m.id,e,null,new Qt(c,h)),t.right.integrate(i,0),t.forward()}}return o},Zm=(i,e,t,n,s)=>{t.currentAttributes.forEach((y,b)=>{s[b]===void 0&&(s[b]=null)});const l=i.doc,o=l.clientID;iQ(t,s);const c=nQ(i,e,t,s),h=n.constructor===String?new Un(n):n instanceof Mt?new Bn(n):new rl(n);let{left:d,right:p,index:m}=t;e._searchMarker&&Cc(e._searchMarker,t.index,h.getLength()),p=new He(we(o,dt(l.store,o)),d,d&&d.lastId,p,p&&p.id,e,null,h),p.integrate(i,0),t.right=p,t.index=m,t.forward(),tQ(i,e,t,c)},kk=(i,e,t,n,s)=>{const l=i.doc,o=l.clientID;iQ(t,s);const c=nQ(i,e,t,s);e:for(;t.right!==null&&(n>0||c.size>0&&(t.right.deleted||t.right.content.constructor===Qt));){if(!t.right.deleted)switch(t.right.content.constructor){case Qt:{const{key:h,value:d}=t.right.content,p=s[h];if(p!==void 0){if(Hs(p,d))c.delete(h);else{if(n===0)break e;c.set(h,d)}t.right.delete(i)}else t.currentAttributes.set(h,d);break}default:n<t.right.length&&fi(i,we(t.right.id.client,t.right.id.clock+n)),n-=t.right.length;break}t.forward()}if(n>0){let h="";for(;n>0;n--)h+=`
`;t.right=new He(we(o,dt(l.store,o)),t.left,t.left&&t.left.lastId,t.right,t.right&&t.right.id,e,null,new Un(h)),t.right.integrate(i,0),t.forward()}tQ(i,e,t,c)},sQ=(i,e,t,n,s)=>{let l=e;const o=mi();for(;l&&(!l.countable||l.deleted);){if(!l.deleted&&l.content.constructor===Qt){const d=l.content;o.set(d.key,d)}l=l.right}let c=0,h=!1;for(;e!==l;){if(t===e&&(h=!0),!e.deleted){const d=e.content;if(d.constructor===Qt){const{key:p,value:m}=d,y=n.get(p)??null;(o.get(p)!==d||y===m)&&(e.delete(i),c++,!h&&(s.get(p)??null)===m&&y!==m&&(y===null?s.delete(p):s.set(p,y))),!h&&!e.deleted&&Ba(s,d)}}e=e.right}return c},yZ=(i,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const t=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===Qt){const n=e.content.key;t.has(n)?e.delete(i):t.add(n)}e=e.left}},bZ=i=>{let e=0;return We(i.doc,t=>{let n=i._start,s=i._start,l=mi();const o=BO(l);for(;s;)s.deleted===!1&&(s.content.constructor===Qt?Ba(o,s.content):(e+=sQ(t,n,s,l,o),l=BO(o),n=s)),s=s.right}),e},vZ=i=>{const e=new Set,t=i.doc;for(const[n,s]of i.afterState.entries()){const l=i.beforeState.get(n)||0;s!==l&&UT(i,t.store.clients.get(n),l,s,o=>{!o.deleted&&o.content.constructor===Qt&&o.constructor!==Ki&&e.add(o.parent)})}We(t,n=>{_a(i,i.deleteSet,s=>{if(s instanceof Ki||!s.parent._hasFormatting||e.has(s.parent))return;const l=s.parent;s.content.constructor===Qt?e.add(l):yZ(n,s)});for(const s of e)bZ(s)})},xk=(i,e,t)=>{const n=t,s=BO(e.currentAttributes),l=e.right;for(;t>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case Bn:case rl:case Un:t<e.right.length&&fi(i,we(e.right.id.client,e.right.id.clock+t)),t-=e.right.length,e.right.delete(i);break}e.forward()}l&&sQ(i,l,e.right,s,e.currentAttributes);const o=(e.left||e.right).parent;return o._searchMarker&&Cc(o._searchMarker,e.index,-n+t),e};class SZ extends Ad{constructor(e,t,n){super(e,t),this.childListChanged=!1,this.keysChanged=new Set,n.forEach(s=>{s===null?this.childListChanged=!0:this.keysChanged.add(s)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,t=[];We(e,n=>{const s=new Map,l=new Map;let o=this.target._start,c=null;const h={};let d="",p=0,m=0;const y=()=>{if(c!==null){let b=null;switch(c){case"delete":m>0&&(b={delete:m}),m=0;break;case"insert":(typeof d=="object"||d.length>0)&&(b={insert:d},s.size>0&&(b.attributes={},s.forEach((v,w)=>{v!==null&&(b.attributes[w]=v)}))),d="";break;case"retain":p>0&&(b={retain:p},vD(h)||(b.attributes=OD({},h))),p=0;break}b&&t.push(b),c=null}};for(;o!==null;){switch(o.content.constructor){case Bn:case rl:this.adds(o)?this.deletes(o)||(y(),c="insert",d=o.content.getContent()[0],y()):this.deletes(o)?(c!=="delete"&&(y(),c="delete"),m+=1):o.deleted||(c!=="retain"&&(y(),c="retain"),p+=1);break;case Un:this.adds(o)?this.deletes(o)||(c!=="insert"&&(y(),c="insert"),d+=o.content.str):this.deletes(o)?(c!=="delete"&&(y(),c="delete"),m+=o.length):o.deleted||(c!=="retain"&&(y(),c="retain"),p+=o.length);break;case Qt:{const{key:b,value:v}=o.content;if(this.adds(o)){if(!this.deletes(o)){const w=s.get(b)??null;Hs(w,v)?v!==null&&o.delete(n):(c==="retain"&&y(),Hs(v,l.get(b)??null)?delete h[b]:h[b]=v)}}else if(this.deletes(o)){l.set(b,v);const w=s.get(b)??null;Hs(w,v)||(c==="retain"&&y(),h[b]=w)}else if(!o.deleted){l.set(b,v);const w=h[b];w!==void 0&&(Hs(w,v)?w!==null&&o.delete(n):(c==="retain"&&y(),v===null?delete h[b]:h[b]=v))}o.deleted||(c==="insert"&&y(),Ba(s,o.content));break}}o=o.right}for(y();t.length>0;){const b=t[t.length-1];if(b.retain!==void 0&&b.attributes===void 0)t.pop();else break}}),this._delta=t}return this._delta}}class Aa extends Mt{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??Wt(),this._length}_integrate(e,t){super._integrate(e,t);try{this._pending.forEach(n=>n())}catch(n){console.error(n)}this._pending=null}_copy(){return new Aa}clone(){const e=new Aa;return e.applyDelta(this.toDelta()),e}_callObserver(e,t){super._callObserver(e,t);const n=new SZ(this,e,t);$d(this,e,n),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){this.doc??Wt();let e="",t=this._start;for(;t!==null;)!t.deleted&&t.countable&&t.content.constructor===Un&&(e+=t.content.str),t=t.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:t=!0}={}){this.doc!==null?We(this.doc,n=>{const s=new FO(null,this._start,0,new Map);for(let l=0;l<e.length;l++){const o=e[l];if(o.insert!==void 0){const c=!t&&typeof o.insert=="string"&&l===e.length-1&&s.right===null&&o.insert.slice(-1)===`
`?o.insert.slice(0,-1):o.insert;(typeof c!="string"||c.length>0)&&Zm(n,this,s,c,o.attributes||{})}else o.retain!==void 0?kk(n,this,s,o.retain,o.attributes||{}):o.delete!==void 0&&xk(n,s,o.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,t,n){this.doc??Wt();const s=[],l=new Map,o=this.doc;let c="",h=this._start;function d(){if(c.length>0){const m={};let y=!1;l.forEach((v,w)=>{y=!0,m[w]=v});const b={insert:c};y&&(b.attributes=m),s.push(b),c=""}}const p=()=>{for(;h!==null;){if(ea(h,e)||t!==void 0&&ea(h,t))switch(h.content.constructor){case Un:{const m=l.get("ychange");e!==void 0&&!ea(h,e)?(m===void 0||m.user!==h.id.client||m.type!=="removed")&&(d(),l.set("ychange",n?n("removed",h.id):{type:"removed"})):t!==void 0&&!ea(h,t)?(m===void 0||m.user!==h.id.client||m.type!=="added")&&(d(),l.set("ychange",n?n("added",h.id):{type:"added"})):m!==void 0&&(d(),l.delete("ychange")),c+=h.content.str;break}case Bn:case rl:{d();const m={insert:h.content.getContent()[0]};if(l.size>0){const y={};m.attributes=y,l.forEach((b,v)=>{y[v]=b})}s.push(m);break}case Qt:ea(h,e)&&(d(),Ba(l,h.content));break}h=h.right}d()};return e||t?We(o,m=>{e&&KO(m,e),t&&KO(m,t),p()},"cleanup"):p(),s}insert(e,t,n){if(t.length<=0)return;const s=this.doc;s!==null?We(s,l=>{const o=Uh(l,this,e,!n);n||(n={},o.currentAttributes.forEach((c,h)=>{n[h]=c})),Zm(l,this,o,t,n)}):this._pending.push(()=>this.insert(e,t,n))}insertEmbed(e,t,n){const s=this.doc;s!==null?We(s,l=>{const o=Uh(l,this,e,!n);Zm(l,this,o,t,n||{})}):this._pending.push(()=>this.insertEmbed(e,t,n||{}))}delete(e,t){if(t===0)return;const n=this.doc;n!==null?We(n,s=>{xk(s,Uh(s,this,e,!0),t)}):this._pending.push(()=>this.delete(e,t))}format(e,t,n){if(t===0)return;const s=this.doc;s!==null?We(s,l=>{const o=Uh(l,this,e,!1);o.right!==null&&kk(l,this,o,t,n)}):this._pending.push(()=>this.format(e,t,n))}removeAttribute(e){this.doc!==null?We(this.doc,t=>{Zf(t,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,t){this.doc!==null?We(this.doc,n=>{xy(n,this,e,t)}):this._pending.push(()=>this.setAttribute(e,t))}getAttribute(e){return _y(this,e)}getAttributes(){return FT(this)}_write(e){e.writeTypeRef(NZ)}}const wZ=i=>new Aa;class Lm{constructor(e,t=()=>!0){this._filter=t,this._root=e,this._currentNode=e._start,this._firstCall=!0,e.doc??Wt()}[Symbol.iterator](){return this}next(){let e=this._currentNode,t=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(t)))do if(t=e.content.type,!e.deleted&&(t.constructor===Ca||t.constructor===Kr)&&t._start!==null)e=t._start;else for(;e!==null;){const n=e.next;if(n!==null){e=n;break}else e.parent===this._root?e=null:e=e.parent._item}while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class Kr extends Mt{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,t){super._integrate(e,t),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Kr}clone(){const e=new Kr;return e.insert(0,this.toArray().map(t=>t instanceof Mt?t.clone():t)),e}get length(){return this.doc??Wt(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new Lm(this,e)}querySelector(e){e=e.toUpperCase();const n=new Lm(this,s=>s.nodeName&&s.nodeName.toUpperCase()===e).next();return n.done?null:n.value}querySelectorAll(e){return e=e.toUpperCase(),tr(new Lm(this,t=>t.nodeName&&t.nodeName.toUpperCase()===e))}_callObserver(e,t){$d(this,e,new _Z(this,t,e))}toString(){return GT(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,t={},n){const s=e.createDocumentFragment();return n!==void 0&&n._createAssociation(s,this),$c(this,l=>{s.insertBefore(l.toDOM(e,t,n),null)}),s}insert(e,t){this.doc!==null?We(this.doc,n=>{KT(n,this,e,t)}):this._prelimContent.splice(e,0,...t)}insertAfter(e,t){if(this.doc!==null)We(this.doc,n=>{const s=e&&e instanceof Mt?e._item:e;Df(n,this,s,t)});else{const n=this._prelimContent,s=e===null?0:n.findIndex(l=>l===e)+1;if(s===0&&e!==null)throw zn("Reference item not found");n.splice(s,0,...t)}}delete(e,t=1){this.doc!==null?We(this.doc,n=>{JT(n,this,e,t)}):this._prelimContent.splice(e,t)}toArray(){return IT(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return WT(this,e)}slice(e=0,t=this.length){return VT(this,e,t)}forEach(e){$c(this,e)}_write(e){e.writeTypeRef(XZ)}}const kZ=i=>new Kr;class Ca extends Kr{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,t){super._integrate(e,t),this._prelimAttrs.forEach((n,s)=>{this.setAttribute(s,n)}),this._prelimAttrs=null}_copy(){return new Ca(this.nodeName)}clone(){const e=new Ca(this.nodeName),t=this.getAttributes();return bD(t,(n,s)=>{e.setAttribute(s,n)}),e.insert(0,this.toArray().map(n=>n instanceof Mt?n.clone():n)),e}toString(){const e=this.getAttributes(),t=[],n=[];for(const c in e)n.push(c);n.sort();const s=n.length;for(let c=0;c<s;c++){const h=n[c];t.push(h+'="'+e[h]+'"')}const l=this.nodeName.toLocaleLowerCase(),o=t.length>0?" "+t.join(" "):"";return`<${l}${o}>${super.toString()}</${l}>`}removeAttribute(e){this.doc!==null?We(this.doc,t=>{Zf(t,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,t){this.doc!==null?We(this.doc,n=>{xy(n,this,e,t)}):this._prelimAttrs.set(e,t)}getAttribute(e){return _y(this,e)}hasAttribute(e){return eQ(this,e)}getAttributes(e){return e?dZ(this,e):FT(this)}toDOM(e=document,t={},n){const s=e.createElement(this.nodeName),l=this.getAttributes();for(const o in l){const c=l[o];typeof c=="string"&&s.setAttribute(o,c)}return $c(this,o=>{s.appendChild(o.toDOM(e,t,n))}),n!==void 0&&n._createAssociation(s,this),s}_write(e){e.writeTypeRef(BZ),e.writeKey(this.nodeName)}}const xZ=i=>new Ca(i.readKey());class _Z extends Ad{constructor(e,t,n){super(e,n),this.childListChanged=!1,this.attributesChanged=new Set,t.forEach(s=>{s===null?this.childListChanged=!0:this.attributesChanged.add(s)})}}class Lf extends Qa{constructor(e){super(),this.hookName=e}_copy(){return new Lf(this.hookName)}clone(){const e=new Lf(this.hookName);return this.forEach((t,n)=>{e.set(n,t)}),e}toDOM(e=document,t={},n){const s=t[this.hookName];let l;return s!==void 0?l=s.createDom(this):l=document.createElement(this.hookName),l.setAttribute("data-yjs-hook",this.hookName),n!==void 0&&n._createAssociation(l,this),l}_write(e){e.writeTypeRef(qZ),e.writeKey(this.hookName)}}const TZ=i=>new Lf(i.readKey());class zf extends Aa{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new zf}clone(){const e=new zf;return e.applyDelta(this.toDelta()),e}toDOM(e=document,t,n){const s=e.createTextNode(this.toString());return n!==void 0&&n._createAssociation(s,this),s}toString(){return this.toDelta().map(e=>{const t=[];for(const s in e.attributes){const l=[];for(const o in e.attributes[s])l.push({key:o,value:e.attributes[s][o]});l.sort((o,c)=>o.key<c.key?-1:1),t.push({nodeName:s,attrs:l})}t.sort((s,l)=>s.nodeName<l.nodeName?-1:1);let n="";for(let s=0;s<t.length;s++){const l=t[s];n+=`<${l.nodeName}`;for(let o=0;o<l.attrs.length;o++){const c=l.attrs[o];n+=` ${c.key}="${c.value}"`}n+=">"}n+=e.insert;for(let s=t.length-1;s>=0;s--)n+=`</${t[s].nodeName}>`;return n}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(YZ)}}const QZ=i=>new zf;class Ty{constructor(e,t){this.id=e,this.length=t}get deleted(){throw gn()}mergeWith(e){return!1}write(e,t,n){throw gn()}integrate(e,t){throw gn()}}const AZ=0;class Ki extends Ty{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,t){t>0&&(this.id.clock+=t,this.length-=t),jT(e.doc.store,this)}write(e,t){e.writeInfo(AZ),e.writeLen(this.length-t)}getMissing(e,t){return null}}class eu{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new eu(this.content)}splice(e){throw gn()}mergeWith(e){return!1}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeBuf(this.content)}getRef(){return 3}}const CZ=i=>new eu(i.readBuf());class Ec{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new Ec(this.len)}splice(e){const t=new Ec(this.len-e);return this.len=e,t}mergeWith(e){return this.len+=e.len,!0}integrate(e,t){Qc(e.deleteSet,t.id.client,t.id.clock,this.len),t.markDeleted()}delete(e){}gc(e){}write(e,t){e.writeLen(this.len-t)}getRef(){return 1}}const $Z=i=>new Ec(i.readLen()),rQ=(i,e)=>new sl({guid:i,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1});class tu{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const t={};this.opts=t,e.gc||(t.gc=!1),e.autoLoad&&(t.autoLoad=!0),e.meta!==null&&(t.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new tu(rQ(this.doc.guid,this.opts))}splice(e){throw gn()}mergeWith(e){return!1}integrate(e,t){this.doc._item=t,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,t){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const EZ=i=>new tu(rQ(i.readString(),i.readAny()));class rl{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new rl(this.embed)}splice(e){throw gn()}mergeWith(e){return!1}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeJSON(this.embed)}getRef(){return 5}}const RZ=i=>new rl(i.readJSON());class Qt{constructor(e,t){this.key=e,this.value=t}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Qt(this.key,this.value)}splice(e){throw gn()}mergeWith(e){return!1}integrate(e,t){const n=t.parent;n._searchMarker=null,n._hasFormatting=!0}delete(e){}gc(e){}write(e,t){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const MZ=i=>new Qt(i.readKey(),i.readJSON());class jf{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new jf(this.arr)}splice(e){const t=new jf(this.arr.slice(e));return this.arr=this.arr.slice(0,e),t}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){const n=this.arr.length;e.writeLen(n-t);for(let s=t;s<n;s++){const l=this.arr[s];e.writeString(l===void 0?"undefined":JSON.stringify(l))}}getRef(){return 2}}const PZ=i=>{const e=i.readLen(),t=[];for(let n=0;n<e;n++){const s=i.readString();s==="undefined"?t.push(void 0):t.push(JSON.parse(s))}return new jf(t)},DZ=$f("node_env")==="development";class Jr{constructor(e){this.arr=e,DZ&&nT(e)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Jr(this.arr)}splice(e){const t=new Jr(this.arr.slice(e));return this.arr=this.arr.slice(0,e),t}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){const n=this.arr.length;e.writeLen(n-t);for(let s=t;s<n;s++){const l=this.arr[s];e.writeAny(l)}}getRef(){return 8}}const ZZ=i=>{const e=i.readLen(),t=[];for(let n=0;n<e;n++)t.push(i.readAny());return new Jr(t)};class Un{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new Un(this.str)}splice(e){const t=new Un(this.str.slice(e));this.str=this.str.slice(0,e);const n=this.str.charCodeAt(e-1);return n>=55296&&n<=56319&&(this.str=this.str.slice(0,e-1)+"",t.str=""+t.str.slice(1)),t}mergeWith(e){return this.str+=e.str,!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeString(t===0?this.str:this.str.slice(t))}getRef(){return 4}}const LZ=i=>new Un(i.readString()),zZ=[gZ,OZ,wZ,xZ,kZ,TZ,QZ],jZ=0,UZ=1,NZ=2,BZ=3,XZ=4,qZ=5,YZ=6;class Bn{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Bn(this.type._copy())}splice(e){throw gn()}mergeWith(e){return!1}integrate(e,t){this.type._integrate(e.doc,t)}delete(e){let t=this.type._start;for(;t!==null;)t.deleted?t.id.clock<(e.beforeState.get(t.id.client)||0)&&e._mergeStructs.push(t):t.delete(e),t=t.right;this.type._map.forEach(n=>{n.deleted?n.id.clock<(e.beforeState.get(n.id.client)||0)&&e._mergeStructs.push(n):n.delete(e)}),e.changed.delete(this.type)}gc(e){let t=this.type._start;for(;t!==null;)t.gc(e,!0),t=t.right;this.type._start=null,this.type._map.forEach(n=>{for(;n!==null;)n.gc(e,!0),n=n.left}),this.type._map=new Map}write(e,t){this.type._write(e)}getRef(){return 7}}const VZ=i=>new Bn(zZ[i.readTypeRef()](i)),e0=(i,e)=>{let t=e,n=0,s;do n>0&&(t=we(t.client,t.clock+n)),s=da(i,t),n=t.clock-s.id.clock,t=s.redone;while(t!==null&&s instanceof He);return{item:s,diff:n}},Qy=(i,e)=>{for(;i!==null&&i.keep!==e;)i.keep=e,i=i.parent._item},Uf=(i,e,t)=>{const{client:n,clock:s}=e.id,l=new He(we(n,s+t),e,we(n,s+t-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(t));return e.deleted&&l.markDeleted(),e.keep&&(l.keep=!0),e.redone!==null&&(l.redone=we(e.redone.client,e.redone.clock+t)),e.right=l,l.right!==null&&(l.right.left=l),i._mergeStructs.push(l),l.parentSub!==null&&l.right===null&&l.parent._map.set(l.parentSub,l),e.length=t,l},_k=(i,e)=>ty(i,t=>Jc(t.deletions,e)),lQ=(i,e,t,n,s,l)=>{const o=i.doc,c=o.store,h=o.clientID,d=e.redone;if(d!==null)return fi(i,d);let p=e.parent._item,m=null,y;if(p!==null&&p.deleted===!0){if(p.redone===null&&(!t.has(p)||lQ(i,p,t,n,s,l)===null))return null;for(;p.redone!==null;)p=fi(i,p.redone)}const b=p===null?e.parent:p.content.type;if(e.parentSub===null){for(m=e.left,y=e;m!==null;){let _=m;for(;_!==null&&_.parent._item!==p;)_=_.redone===null?null:fi(i,_.redone);if(_!==null&&_.parent._item===p){m=_;break}m=m.left}for(;y!==null;){let _=y;for(;_!==null&&_.parent._item!==p;)_=_.redone===null?null:fi(i,_.redone);if(_!==null&&_.parent._item===p){y=_;break}y=y.right}}else if(y=null,e.right&&!s){for(m=e;m!==null&&m.right!==null&&(m.right.redone||Jc(n,m.right.id)||_k(l.undoStack,m.right.id)||_k(l.redoStack,m.right.id));)for(m=m.right;m.redone;)m=fi(i,m.redone);if(m&&m.right!==null)return null}else m=b._map.get(e.parentSub)||null;const v=dt(c,h),w=we(h,v),x=new He(w,m,m&&m.lastId,y,y&&y.id,b,e.parentSub,e.content.copy());return e.redone=w,Qy(x,!0),x.integrate(i,0),x};class He extends Ty{constructor(e,t,n,s,l,o,c,h){super(e,h.getLength()),this.origin=n,this.left=t,this.right=s,this.rightOrigin=l,this.parent=o,this.parentSub=c,this.redone=null,this.content=h,this.info=this.content.isCountable()?J1:0}set marker(e){(this.info&Cm)>0!==e&&(this.info^=Cm)}get marker(){return(this.info&Cm)>0}get keep(){return(this.info&K1)>0}set keep(e){this.keep!==e&&(this.info^=K1)}get countable(){return(this.info&J1)>0}get deleted(){return(this.info&Am)>0}set deleted(e){this.deleted!==e&&(this.info^=Am)}markDeleted(){this.info|=Am}getMissing(e,t){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=dt(t,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=dt(t,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===fa&&this.id.client!==this.parent.client&&this.parent.clock>=dt(t,this.parent.client))return this.parent.client;if(this.origin&&(this.left=mk(e,t,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=fi(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===Ki||this.right&&this.right.constructor===Ki)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===He?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===He&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===fa){const n=da(t,this.parent);n.constructor===Ki?this.parent=null:this.parent=n.content.type}return null}integrate(e,t){if(t>0&&(this.id.clock+=t,this.left=mk(e,e.doc.store,we(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(t),this.length-=t),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let n=this.left,s;if(n!==null)s=n.right;else if(this.parentSub!==null)for(s=this.parent._map.get(this.parentSub)||null;s!==null&&s.left!==null;)s=s.left;else s=this.parent._start;const l=new Set,o=new Set;for(;s!==null&&s!==this.right;){if(o.add(s),l.add(s),sa(this.origin,s.origin)){if(s.id.client<this.id.client)n=s,l.clear();else if(sa(this.rightOrigin,s.rightOrigin))break}else if(s.origin!==null&&o.has(da(e.doc.store,s.origin)))l.has(da(e.doc.store,s.origin))||(n=s,l.clear());else break;s=s.right}this.left=n}if(this.left!==null){const n=this.left.right;this.right=n,this.left.right=this}else{let n;if(this.parentSub!==null)for(n=this.parent._map.get(this.parentSub)||null;n!==null&&n.left!==null;)n=n.left;else n=this.parent._start,this.parent._start=this;this.right=n}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),jT(e.doc.store,this),this.content.integrate(e,this),yk(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new Ki(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:we(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&sa(e.origin,this.lastId)&&this.right===e&&sa(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const t=this.parent._searchMarker;return t&&t.forEach(n=>{n.p===e&&(n.p=this,!this.deleted&&this.countable&&(n.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const t=this.parent;this.countable&&this.parentSub===null&&(t._length-=this.length),this.markDeleted(),Qc(e.deleteSet,this.id.client,this.id.clock,this.length),yk(e,t,this.parentSub),this.content.delete(e)}}gc(e,t){if(!this.deleted)throw ji();this.content.gc(e),t?H5(e,this,new Ki(this.id,this.length)):this.content=new Ec(this.length)}write(e,t){const n=t>0?we(this.id.client,this.id.clock+t-1):this.origin,s=this.rightOrigin,l=this.parentSub,o=this.content.getRef()&vd|(n===null?0:zi)|(s===null?0:fs)|(l===null?0:bc);if(e.writeInfo(o),n!==null&&e.writeLeftID(n),s!==null&&e.writeRightID(s),n===null&&s===null){const c=this.parent;if(c._item!==void 0){const h=c._item;if(h===null){const d=ZT(c);e.writeParentInfo(!0),e.writeString(d)}else e.writeParentInfo(!1),e.writeLeftID(h.id)}else c.constructor===String?(e.writeParentInfo(!0),e.writeString(c)):c.constructor===fa?(e.writeParentInfo(!1),e.writeLeftID(c)):ji();l!==null&&e.writeString(l)}this.content.write(e,t)}}const aQ=(i,e)=>IZ[e&vd](i),IZ=[()=>{ji()},$Z,PZ,CZ,LZ,RZ,MZ,VZ,ZZ,EZ,()=>{ji()}],GZ=10;class Ji extends Ty{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,t){ji()}write(e,t){e.writeInfo(GZ),Me(e.restEncoder,this.length-t)}getMissing(e,t){return null}}const oQ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},cQ="__ $YJS$ __";oQ[cQ]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");oQ[cQ]=!0;let t0=[],uQ=[];(()=>{let i="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<i.length;e++)(e%2?uQ:t0).push(t=t+i[e])})();function WZ(i){if(i<768)return!1;for(let e=0,t=t0.length;;){let n=e+t>>1;if(i<t0[n])t=n;else if(i>=uQ[n])e=n+1;else return!0;if(e==t)return!1}}function Tk(i){return i>=127462&&i<=127487}const Qk=8205;function HZ(i,e,t=!0,n=!0){return(t?hQ:KZ)(i,e,n)}function hQ(i,e,t){if(e==i.length)return e;e&&fQ(i.charCodeAt(e))&&dQ(i.charCodeAt(e-1))&&e--;let n=zm(i,e);for(e+=Ak(n);e<i.length;){let s=zm(i,e);if(n==Qk||s==Qk||t&&WZ(s))e+=Ak(s),n=s;else if(Tk(s)){let l=0,o=e-2;for(;o>=0&&Tk(zm(i,o));)l++,o-=2;if(l%2==0)break;e+=2}else break}return e}function KZ(i,e,t){for(;e>0;){let n=hQ(i,e-2,t);if(n<e)return n;e--}return 0}function zm(i,e){let t=i.charCodeAt(e);if(!dQ(t)||e+1==i.length)return t;let n=i.charCodeAt(e+1);return fQ(n)?(t-55296<<10)+(n-56320)+65536:t}function fQ(i){return i>=56320&&i<57344}function dQ(i){return i>=55296&&i<56320}function Ak(i){return i<65536?1:2}class Le{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){[e,t]=$a(this,e,t);let s=[];return this.decompose(0,e,s,2),n.length&&n.decompose(0,n.length,s,3),this.decompose(t,this.length,s,1),En.from(s,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=$a(this,e,t);let n=[];return this.decompose(e,t,n,0),En.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),s=new rc(this),l=new rc(e);for(let o=t,c=t;;){if(s.next(o),l.next(o),o=0,s.lineBreak!=l.lineBreak||s.done!=l.done||s.value!=l.value)return!1;if(c+=s.value.length,s.done||c>=n)return!0}}iter(e=1){return new rc(this,e)}iterRange(e,t=this.length){return new pQ(this,e,t)}iterLines(e,t){let n;if(e==null)n=this.iter();else{t==null&&(t=this.lines+1);let s=this.line(e).from;n=this.iterRange(s,Math.max(s,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new gQ(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Le.empty:e.length<=32?new ft(e):En.from(ft.split(e,[]))}}class ft extends Le{constructor(e,t=JZ(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,s){for(let l=0;;l++){let o=this.text[l],c=s+o.length;if((t?n:c)>=e)return new FZ(s,c,n,o);s=c+1,n++}}decompose(e,t,n,s){let l=e<=0&&t>=this.length?this:new ft(Ck(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(s&1){let o=n.pop(),c=mf(l.text,o.text.slice(),0,l.length);if(c.length<=32)n.push(new ft(c,o.length+l.length));else{let h=c.length>>1;n.push(new ft(c.slice(0,h)),new ft(c.slice(h)))}}else n.push(l)}replace(e,t,n){if(!(n instanceof ft))return super.replace(e,t,n);[e,t]=$a(this,e,t);let s=mf(this.text,mf(n.text,Ck(this.text,0,e)),t),l=this.length+n.length-(t-e);return s.length<=32?new ft(s,l):En.from(ft.split(s,[]),l)}sliceString(e,t=this.length,n=`
`){[e,t]=$a(this,e,t);let s="";for(let l=0,o=0;l<=t&&o<this.text.length;o++){let c=this.text[o],h=l+c.length;l>e&&o&&(s+=n),e<h&&t>l&&(s+=c.slice(Math.max(0,e-l),t-l)),l=h+1}return s}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let n=[],s=-1;for(let l of e)n.push(l),s+=l.length+1,n.length==32&&(t.push(new ft(n,s)),n=[],s=-1);return s>-1&&t.push(new ft(n,s)),t}}class En extends Le{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let n of e)this.lines+=n.lines}lineInner(e,t,n,s){for(let l=0;;l++){let o=this.children[l],c=s+o.length,h=n+o.lines-1;if((t?h:c)>=e)return o.lineInner(e,t,n,s);s=c+1,n=h+1}}decompose(e,t,n,s){for(let l=0,o=0;o<=t&&l<this.children.length;l++){let c=this.children[l],h=o+c.length;if(e<=h&&t>=o){let d=s&((o<=e?1:0)|(h>=t?2:0));o>=e&&h<=t&&!d?n.push(c):c.decompose(e-o,t-o,n,d)}o=h+1}}replace(e,t,n){if([e,t]=$a(this,e,t),n.lines<this.lines)for(let s=0,l=0;s<this.children.length;s++){let o=this.children[s],c=l+o.length;if(e>=l&&t<=c){let h=o.replace(e-l,t-l,n),d=this.lines-o.lines+h.lines;if(h.lines<d>>4&&h.lines>d>>6){let p=this.children.slice();return p[s]=h,new En(p,this.length-(t-e)+n.length)}return super.replace(l,c,h)}l=c+1}return super.replace(e,t,n)}sliceString(e,t=this.length,n=`
`){[e,t]=$a(this,e,t);let s="";for(let l=0,o=0;l<this.children.length&&o<=t;l++){let c=this.children[l],h=o+c.length;o>e&&l&&(s+=n),e<h&&t>o&&(s+=c.sliceString(e-o,t-o,n)),o=h+1}return s}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof En))return 0;let n=0,[s,l,o,c]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;s+=t,l+=t){if(s==o||l==c)return n;let h=this.children[s],d=e.children[l];if(h!=d)return n+h.scanIdentical(d,t);n+=h.length+1}}static from(e,t=e.reduce((n,s)=>n+s.length+1,-1)){let n=0;for(let b of e)n+=b.lines;if(n<32){let b=[];for(let v of e)v.flatten(b);return new ft(b,t)}let s=Math.max(32,n>>5),l=s<<1,o=s>>1,c=[],h=0,d=-1,p=[];function m(b){let v;if(b.lines>l&&b instanceof En)for(let w of b.children)m(w);else b.lines>o&&(h>o||!h)?(y(),c.push(b)):b instanceof ft&&h&&(v=p[p.length-1])instanceof ft&&b.lines+v.lines<=32?(h+=b.lines,d+=b.length+1,p[p.length-1]=new ft(v.text.concat(b.text),v.length+1+b.length)):(h+b.lines>s&&y(),h+=b.lines,d+=b.length+1,p.push(b))}function y(){h!=0&&(c.push(p.length==1?p[0]:En.from(p,d)),d=-1,h=p.length=0)}for(let b of e)m(b);return y(),c.length==1?c[0]:new En(c,t)}}Le.empty=new ft([""],0);function JZ(i){let e=-1;for(let t of i)e+=t.length+1;return e}function mf(i,e,t=0,n=1e9){for(let s=0,l=0,o=!0;l<i.length&&s<=n;l++){let c=i[l],h=s+c.length;h>=t&&(h>n&&(c=c.slice(0,n-s)),s<t&&(c=c.slice(t-s)),o?(e[e.length-1]+=c,o=!1):e.push(c)),s=h+1}return e}function Ck(i,e,t){return mf(i,[""],e,t)}class rc{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof ft?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,s=this.nodes[n],l=this.offsets[n],o=l>>1,c=s instanceof ft?s.text.length:s.children.length;if(o==(t>0?c:0)){if(n==0)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((l&1)==(t>0?0:1)){if(this.offsets[n]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(s instanceof ft){let h=s.text[o+(t<0?-1:0)];if(this.offsets[n]+=t,h.length>Math.max(0,e))return this.value=e==0?h:t>0?h.slice(e):h.slice(0,h.length-e),this;e-=h.length}else{let h=s.children[o+(t<0?-1:0)];e>h.length?(e-=h.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(h),this.offsets.push(t>0?1:(h instanceof ft?h.text.length:h.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class pQ{constructor(e,t,n){this.value="",this.done=!1,this.cursor=new rc(e,t>n?-1:1),this.pos=t>n?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:s}=this.cursor.next(e);return this.pos+=(s.length+e)*t,this.value=s.length<=n?s:t<0?s.slice(s.length-n):s.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class gQ{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:n,value:s}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=s,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Le.prototype[Symbol.iterator]=function(){return this.iter()},rc.prototype[Symbol.iterator]=pQ.prototype[Symbol.iterator]=gQ.prototype[Symbol.iterator]=function(){return this});class FZ{constructor(e,t,n,s){this.from=e,this.to=t,this.number=n,this.text=s}get length(){return this.to-this.from}}function $a(i,e,t){return e=Math.max(0,Math.min(i.length,e)),[e,Math.max(e,Math.min(i.length,t))]}function Tt(i,e,t=!0,n=!0){return HZ(i,e,t,n)}function eL(i){return i>=56320&&i<57344}function tL(i){return i>=55296&&i<56320}function ui(i,e){let t=i.charCodeAt(e);if(!tL(t)||e+1==i.length)return t;let n=i.charCodeAt(e+1);return eL(n)?(t-55296<<10)+(n-56320)+65536:t}function Ay(i){return i<=65535?String.fromCharCode(i):(i-=65536,String.fromCharCode((i>>10)+55296,(i&1023)+56320))}function Rn(i){return i<65536?1:2}const i0=/\r\n?|\n/;var Yt=(function(i){return i[i.Simple=0]="Simple",i[i.TrackDel=1]="TrackDel",i[i.TrackBefore=2]="TrackBefore",i[i.TrackAfter=3]="TrackAfter",i})(Yt||(Yt={}));class Ln{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,s=0;t<this.sections.length;){let l=this.sections[t++],o=this.sections[t++];o<0?(e(n,s,l),s+=l):s+=o,n+=l}}iterChangedRanges(e,t=!1){n0(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],s=this.sections[t++];s<0?e.push(n,s):e.push(s,n)}return new Ln(e)}composeDesc(e){return this.empty?e:e.empty?this:mQ(this,e)}mapDesc(e,t=!1){return e.empty?this:s0(this,e,t)}mapPos(e,t=-1,n=Yt.Simple){let s=0,l=0;for(let o=0;o<this.sections.length;){let c=this.sections[o++],h=this.sections[o++],d=s+c;if(h<0){if(d>e)return l+(e-s);l+=c}else{if(n!=Yt.Simple&&d>=e&&(n==Yt.TrackDel&&s<e&&d>e||n==Yt.TrackBefore&&s<e||n==Yt.TrackAfter&&d>e))return null;if(d>e||d==e&&t<0&&!c)return e==s||t<0?l:l+h;l+=h}s=d}if(e>s)throw new RangeError(`Position ${e} is out of range for changeset of length ${s}`);return l}touchesRange(e,t=e){for(let n=0,s=0;n<this.sections.length&&s<=t;){let l=this.sections[n++],o=this.sections[n++],c=s+l;if(o>=0&&s<=t&&c>=e)return s<e&&c>t?"cover":!0;s=c}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],s=this.sections[t++];e+=(e?" ":"")+n+(s>=0?":"+s:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Ln(e)}static create(e){return new Ln(e)}}class _t extends Ln{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return n0(this,(t,n,s,l,o)=>e=e.replace(s,s+(n-t),o),!1),e}mapDesc(e,t=!1){return s0(this,e,t,!0)}invert(e){let t=this.sections.slice(),n=[];for(let s=0,l=0;s<t.length;s+=2){let o=t[s],c=t[s+1];if(c>=0){t[s]=c,t[s+1]=o;let h=s>>1;for(;n.length<h;)n.push(Le.empty);n.push(o?e.slice(l,l+o):Le.empty)}l+=o}return new _t(t,n)}compose(e){return this.empty?e:e.empty?this:mQ(this,e,!0)}map(e,t=!1){return e.empty?this:s0(this,e,t,!0)}iterChanges(e,t=!1){n0(this,e,t)}get desc(){return Ln.create(this.sections)}filter(e){let t=[],n=[],s=[],l=new Rc(this);e:for(let o=0,c=0;;){let h=o==e.length?1e9:e[o++];for(;c<h||c==h&&l.len==0;){if(l.done)break e;let p=Math.min(l.len,h-c);Gt(s,p,-1);let m=l.ins==-1?-1:l.off==0?l.ins:0;Gt(t,p,m),m>0&&Ks(n,t,l.text),l.forward(p),c+=p}let d=e[o++];for(;c<d;){if(l.done)break e;let p=Math.min(l.len,d-c);Gt(t,p,-1),Gt(s,p,l.ins==-1?-1:l.off==0?l.ins:0),l.forward(p),c+=p}}return{changes:new _t(t,n),filtered:Ln.create(s)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],s=this.sections[t+1];s<0?e.push(n):s==0?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,n){let s=[],l=[],o=0,c=null;function h(p=!1){if(!p&&!s.length)return;o<t&&Gt(s,t-o,-1);let m=new _t(s,l);c=c?c.compose(m.map(c)):m,s=[],l=[],o=0}function d(p){if(Array.isArray(p))for(let m of p)d(m);else if(p instanceof _t){if(p.length!=t)throw new RangeError(`Mismatched change set length (got ${p.length}, expected ${t})`);h(),c=c?c.compose(p.map(c)):p}else{let{from:m,to:y=m,insert:b}=p;if(m>y||m<0||y>t)throw new RangeError(`Invalid change range ${m} to ${y} (in doc of length ${t})`);let v=b?typeof b=="string"?Le.of(b.split(n||i0)):b:Le.empty,w=v.length;if(m==y&&w==0)return;m<o&&h(),m>o&&Gt(s,m-o,-1),Gt(s,y-m,w),Ks(l,s,v),o=y}}return d(e),h(!c),c}static empty(e){return new _t(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],n=[];for(let s=0;s<e.length;s++){let l=e[s];if(typeof l=="number")t.push(l,-1);else{if(!Array.isArray(l)||typeof l[0]!="number"||l.some((o,c)=>c&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(l.length==1)t.push(l[0],0);else{for(;n.length<s;)n.push(Le.empty);n[s]=Le.of(l.slice(1)),t.push(l[0],n[s].length)}}}return new _t(t,n)}static createSet(e,t){return new _t(e,t)}}function Gt(i,e,t,n=!1){if(e==0&&t<=0)return;let s=i.length-2;s>=0&&t<=0&&t==i[s+1]?i[s]+=e:s>=0&&e==0&&i[s]==0?i[s+1]+=t:n?(i[s]+=e,i[s+1]+=t):i.push(e,t)}function Ks(i,e,t){if(t.length==0)return;let n=e.length-2>>1;if(n<i.length)i[i.length-1]=i[i.length-1].append(t);else{for(;i.length<n;)i.push(Le.empty);i.push(t)}}function n0(i,e,t){let n=i.inserted;for(let s=0,l=0,o=0;o<i.sections.length;){let c=i.sections[o++],h=i.sections[o++];if(h<0)s+=c,l+=c;else{let d=s,p=l,m=Le.empty;for(;d+=c,p+=h,h&&n&&(m=m.append(n[o-2>>1])),!(t||o==i.sections.length||i.sections[o+1]<0);)c=i.sections[o++],h=i.sections[o++];e(s,d,l,p,m),s=d,l=p}}}function s0(i,e,t,n=!1){let s=[],l=n?[]:null,o=new Rc(i),c=new Rc(e);for(let h=-1;;){if(o.done&&c.len||c.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&c.ins==-1){let d=Math.min(o.len,c.len);Gt(s,d,-1),o.forward(d),c.forward(d)}else if(c.ins>=0&&(o.ins<0||h==o.i||o.off==0&&(c.len<o.len||c.len==o.len&&!t))){let d=c.len;for(Gt(s,c.ins,-1);d;){let p=Math.min(o.len,d);o.ins>=0&&h<o.i&&o.len<=p&&(Gt(s,0,o.ins),l&&Ks(l,s,o.text),h=o.i),o.forward(p),d-=p}c.next()}else if(o.ins>=0){let d=0,p=o.len;for(;p;)if(c.ins==-1){let m=Math.min(p,c.len);d+=m,p-=m,c.forward(m)}else if(c.ins==0&&c.len<p)p-=c.len,c.next();else break;Gt(s,d,h<o.i?o.ins:0),l&&h<o.i&&Ks(l,s,o.text),h=o.i,o.forward(o.len-p)}else{if(o.done&&c.done)return l?_t.createSet(s,l):Ln.create(s);throw new Error("Mismatched change set lengths")}}}function mQ(i,e,t=!1){let n=[],s=t?[]:null,l=new Rc(i),o=new Rc(e);for(let c=!1;;){if(l.done&&o.done)return s?_t.createSet(n,s):Ln.create(n);if(l.ins==0)Gt(n,l.len,0,c),l.next();else if(o.len==0&&!o.done)Gt(n,0,o.ins,c),s&&Ks(s,n,o.text),o.next();else{if(l.done||o.done)throw new Error("Mismatched change set lengths");{let h=Math.min(l.len2,o.len),d=n.length;if(l.ins==-1){let p=o.ins==-1?-1:o.off?0:o.ins;Gt(n,h,p,c),s&&p&&Ks(s,n,o.text)}else o.ins==-1?(Gt(n,l.off?0:l.len,h,c),s&&Ks(s,n,l.textBit(h))):(Gt(n,l.off?0:l.len,o.off?0:o.ins,c),s&&!o.off&&Ks(s,n,o.text));c=(l.ins>h||o.ins>=0&&o.len>h)&&(c||n.length>d),l.forward2(h),o.forward(h)}}}}class Rc{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Le.empty:e[t]}textBit(e){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length&&!e?Le.empty:t[n].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Ur{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let n,s;return this.empty?n=s=e.mapPos(this.from,t):(n=e.mapPos(this.from,1),s=e.mapPos(this.to,-1)),n==this.from&&s==this.to?this:new Ur(n,s,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return q.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return q.range(this.anchor,n)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&this.goalColumn==e.goalColumn&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return q.range(e.anchor,e.head)}static create(e,t,n){return new Ur(e,t,n)}}class q{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:q.create(this.ranges.map(n=>n.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new q([this.main],0)}addRange(e,t=!0){return q.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let n=this.ranges.slice();return n[t]=e,q.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new q(e.ranges.map(t=>Ur.fromJSON(t)),e.main)}static single(e,t=e){return new q([q.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let n=0,s=0;s<e.length;s++){let l=e[s];if(l.empty?l.from<=n:l.from<n)return q.normalized(e.slice(),t);n=l.to}return new q(e,t)}static cursor(e,t=0,n,s){return Ur.create(e,e,(t==0?0:t<0?8:16)|(n==null?7:Math.min(6,n))|(s??16777215)<<6)}static range(e,t,n,s){let l=(n??16777215)<<6|(s==null?7:Math.min(6,s));return t<e?Ur.create(t,e,48|l):Ur.create(e,t,(t>e?8:0)|l)}static normalized(e,t=0){let n=e[t];e.sort((s,l)=>s.from-l.from),t=e.indexOf(n);for(let s=1;s<e.length;s++){let l=e[s],o=e[s-1];if(l.empty?l.from<=o.to:l.from<o.to){let c=o.from,h=Math.max(l.to,o.to);s<=t&&t--,e.splice(--s,2,l.anchor>l.head?q.range(h,c):q.range(c,h))}}return new q(e,t)}}function OQ(i,e){for(let t of i.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let Cy=0;class K{constructor(e,t,n,s,l){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=s,this.id=Cy++,this.default=e([]),this.extensions=typeof l=="function"?l(this):l}get reader(){return this}static define(e={}){return new K(e.combine||(t=>t),e.compareInput||((t,n)=>t===n),e.compare||(e.combine?(t,n)=>t===n:$y),!!e.static,e.enables)}of(e){return new Of([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Of(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Of(e,this,2,t)}from(e,t){return t||(t=n=>n),this.compute([e],n=>t(n.field(e)))}}function $y(i,e){return i==e||i.length==e.length&&i.every((t,n)=>t===e[n])}class Of{constructor(e,t,n,s){this.dependencies=e,this.facet=t,this.type=n,this.value=s,this.id=Cy++}dynamicSlot(e){var t;let n=this.value,s=this.facet.compareInput,l=this.id,o=e[l]>>1,c=this.type==2,h=!1,d=!1,p=[];for(let m of this.dependencies)m=="doc"?h=!0:m=="selection"?d=!0:(((t=e[m.id])!==null&&t!==void 0?t:1)&1)==0&&p.push(e[m.id]);return{create(m){return m.values[o]=n(m),1},update(m,y){if(h&&y.docChanged||d&&(y.docChanged||y.selection)||r0(m,p)){let b=n(m);if(c?!$k(b,m.values[o],s):!s(b,m.values[o]))return m.values[o]=b,1}return 0},reconfigure:(m,y)=>{let b,v=y.config.address[l];if(v!=null){let w=Bf(y,v);if(this.dependencies.every(x=>x instanceof K?y.facet(x)===m.facet(x):x instanceof Dt?y.field(x,!1)==m.field(x,!1):!0)||(c?$k(b=n(m),w,s):s(b=n(m),w)))return m.values[o]=w,0}else b=n(m);return m.values[o]=b,1}}}}function $k(i,e,t){if(i.length!=e.length)return!1;for(let n=0;n<i.length;n++)if(!t(i[n],e[n]))return!1;return!0}function r0(i,e){let t=!1;for(let n of e)lc(i,n)&1&&(t=!0);return t}function iL(i,e,t){let n=t.map(h=>i[h.id]),s=t.map(h=>h.type),l=n.filter(h=>!(h&1)),o=i[e.id]>>1;function c(h){let d=[];for(let p=0;p<n.length;p++){let m=Bf(h,n[p]);if(s[p]==2)for(let y of m)d.push(y);else d.push(m)}return e.combine(d)}return{create(h){for(let d of n)lc(h,d);return h.values[o]=c(h),1},update(h,d){if(!r0(h,l))return 0;let p=c(h);return e.compare(p,h.values[o])?0:(h.values[o]=p,1)},reconfigure(h,d){let p=r0(h,n),m=d.config.facets[e.id],y=d.facet(e);if(m&&!p&&$y(t,m))return h.values[o]=y,0;let b=c(h);return e.compare(b,y)?(h.values[o]=y,0):(h.values[o]=b,1)}}}const Nh=K.define({static:!0});class Dt{constructor(e,t,n,s,l){this.id=e,this.createF=t,this.updateF=n,this.compareF=s,this.spec=l,this.provides=void 0}static define(e){let t=new Dt(Cy++,e.create,e.update,e.compare||((n,s)=>n===s),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Nh).find(n=>n.field==this);return(t?.create||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:n=>(n.values[t]=this.create(n),1),update:(n,s)=>{let l=n.values[t],o=this.updateF(l,s);return this.compareF(l,o)?0:(n.values[t]=o,1)},reconfigure:(n,s)=>{let l=n.facet(Nh),o=s.facet(Nh),c;return(c=l.find(h=>h.field==this))&&c!=o.find(h=>h.field==this)?(n.values[t]=c.create(n),1):s.config.address[this.id]!=null?(n.values[t]=s.field(this),0):(n.values[t]=this.create(n),1)}}}init(e){return[this,Nh.of({field:this,create:e})]}get extension(){return this}}const Lr={lowest:4,low:3,default:2,high:1,highest:0};function qo(i){return e=>new yQ(e,i)}const cr={highest:qo(Lr.highest),high:qo(Lr.high),default:qo(Lr.default),low:qo(Lr.low),lowest:qo(Lr.lowest)};class yQ{constructor(e,t){this.inner=e,this.prec=t}}class Ed{of(e){return new l0(this,e)}reconfigure(e){return Ed.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class l0{constructor(e,t){this.compartment=e,this.inner=t}}class Nf{constructor(e,t,n,s,l,o){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=s,this.staticValues=l,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,n){let s=[],l=Object.create(null),o=new Map;for(let y of nL(e,t,o))y instanceof Dt?s.push(y):(l[y.facet.id]||(l[y.facet.id]=[])).push(y);let c=Object.create(null),h=[],d=[];for(let y of s)c[y.id]=d.length<<1,d.push(b=>y.slot(b));let p=n?.config.facets;for(let y in l){let b=l[y],v=b[0].facet,w=p&&p[y]||[];if(b.every(x=>x.type==0))if(c[v.id]=h.length<<1|1,$y(w,b))h.push(n.facet(v));else{let x=v.combine(b.map(_=>_.value));h.push(n&&v.compare(x,n.facet(v))?n.facet(v):x)}else{for(let x of b)x.type==0?(c[x.id]=h.length<<1|1,h.push(x.value)):(c[x.id]=d.length<<1,d.push(_=>x.dynamicSlot(_)));c[v.id]=d.length<<1,d.push(x=>iL(x,v,b))}}let m=d.map(y=>y(c));return new Nf(e,o,m,c,h,l)}}function nL(i,e,t){let n=[[],[],[],[],[]],s=new Map;function l(o,c){let h=s.get(o);if(h!=null){if(h<=c)return;let d=n[h].indexOf(o);d>-1&&n[h].splice(d,1),o instanceof l0&&t.delete(o.compartment)}if(s.set(o,c),Array.isArray(o))for(let d of o)l(d,c);else if(o instanceof l0){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let d=e.get(o.compartment)||o.inner;t.set(o.compartment,d),l(d,c)}else if(o instanceof yQ)l(o.inner,o.prec);else if(o instanceof Dt)n[c].push(o),o.provides&&l(o.provides,c);else if(o instanceof Of)n[c].push(o),o.facet.extensions&&l(o.facet.extensions,Lr.default);else{let d=o.extension;if(!d)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);l(d,c)}}return l(i,Lr.default),n.reduce((o,c)=>o.concat(c))}function lc(i,e){if(e&1)return 2;let t=e>>1,n=i.status[t];if(n==4)throw new Error("Cyclic dependency between fields and/or facets");if(n&2)return n;i.status[t]=4;let s=i.computeSlot(i,i.config.dynamicSlots[t]);return i.status[t]=2|s}function Bf(i,e){return e&1?i.config.staticValues[e>>1]:i.values[e>>1]}const bQ=K.define(),a0=K.define({combine:i=>i.some(e=>e),static:!0}),vQ=K.define({combine:i=>i.length?i[0]:void 0,static:!0}),SQ=K.define(),wQ=K.define(),kQ=K.define(),xQ=K.define({combine:i=>i.length?i[0]:!1});class yn{constructor(e,t){this.type=e,this.value=t}static define(){return new sL}}class sL{of(e){return new yn(this,e)}}class rL{constructor(e){this.map=e}of(e){return new Oe(this,e)}}class Oe{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new Oe(this.type,t)}is(e){return this.type==e}static define(e={}){return new rL(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let s of e){let l=s.map(t);l&&n.push(l)}return n}}Oe.reconfigure=Oe.define();Oe.appendConfig=Oe.define();class vt{constructor(e,t,n,s,l,o){this.startState=e,this.changes=t,this.selection=n,this.effects=s,this.annotations=l,this.scrollIntoView=o,this._doc=null,this._state=null,n&&OQ(n,t.newLength),l.some(c=>c.type==vt.time)||(this.annotations=l.concat(vt.time.of(Date.now())))}static create(e,t,n,s,l,o){return new vt(e,t,n,s,l,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(vt.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}vt.time=yn.define();vt.userEvent=yn.define();vt.addToHistory=yn.define();vt.remote=yn.define();function lL(i,e){let t=[];for(let n=0,s=0;;){let l,o;if(n<i.length&&(s==e.length||e[s]>=i[n]))l=i[n++],o=i[n++];else if(s<e.length)l=e[s++],o=e[s++];else return t;!t.length||t[t.length-1]<l?t.push(l,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function _Q(i,e,t){var n;let s,l,o;return t?(s=e.changes,l=_t.empty(e.changes.length),o=i.changes.compose(e.changes)):(s=e.changes.map(i.changes),l=i.changes.mapDesc(e.changes,!0),o=i.changes.compose(s)),{changes:o,selection:e.selection?e.selection.map(l):(n=i.selection)===null||n===void 0?void 0:n.map(s),effects:Oe.mapEffects(i.effects,s).concat(Oe.mapEffects(e.effects,l)),annotations:i.annotations.length?i.annotations.concat(e.annotations):e.annotations,scrollIntoView:i.scrollIntoView||e.scrollIntoView}}function o0(i,e,t){let n=e.selection,s=ga(e.annotations);return e.userEvent&&(s=s.concat(vt.userEvent.of(e.userEvent))),{changes:e.changes instanceof _t?e.changes:_t.of(e.changes||[],t,i.facet(vQ)),selection:n&&(n instanceof q?n:q.single(n.anchor,n.head)),effects:ga(e.effects),annotations:s,scrollIntoView:!!e.scrollIntoView}}function TQ(i,e,t){let n=o0(i,e.length?e[0]:{},i.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let l=1;l<e.length;l++){e[l].filter===!1&&(t=!1);let o=!!e[l].sequential;n=_Q(n,o0(i,e[l],o?n.changes.newLength:i.doc.length),o)}let s=vt.create(i,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return oL(t?aL(s):s)}function aL(i){let e=i.startState,t=!0;for(let s of e.facet(SQ)){let l=s(i);if(l===!1){t=!1;break}Array.isArray(l)&&(t=t===!0?l:lL(t,l))}if(t!==!0){let s,l;if(t===!1)l=i.changes.invertedDesc,s=_t.empty(e.doc.length);else{let o=i.changes.filter(t);s=o.changes,l=o.filtered.mapDesc(o.changes).invertedDesc}i=vt.create(e,s,i.selection&&i.selection.map(l),Oe.mapEffects(i.effects,l),i.annotations,i.scrollIntoView)}let n=e.facet(wQ);for(let s=n.length-1;s>=0;s--){let l=n[s](i);l instanceof vt?i=l:Array.isArray(l)&&l.length==1&&l[0]instanceof vt?i=l[0]:i=TQ(e,ga(l),!1)}return i}function oL(i){let e=i.startState,t=e.facet(kQ),n=i;for(let s=t.length-1;s>=0;s--){let l=t[s](i);l&&Object.keys(l).length&&(n=_Q(n,o0(e,l,i.changes.newLength),!0))}return n==i?i:vt.create(e,i.changes,i.selection,n.effects,n.annotations,n.scrollIntoView)}const cL=[];function ga(i){return i==null?cL:Array.isArray(i)?i:[i]}var nt=(function(i){return i[i.Word=0]="Word",i[i.Space=1]="Space",i[i.Other=2]="Other",i})(nt||(nt={}));const uL=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let c0;try{c0=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function hL(i){if(c0)return c0.test(i);for(let e=0;e<i.length;e++){let t=i[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||uL.test(t)))return!0}return!1}function fL(i){return e=>{if(!/\S/.test(e))return nt.Space;if(hL(e))return nt.Word;for(let t=0;t<i.length;t++)if(e.indexOf(i[t])>-1)return nt.Word;return nt.Other}}class Ze{constructor(e,t,n,s,l,o){this.config=e,this.doc=t,this.selection=n,this.values=s,this.status=e.statusTemplate.slice(),this.computeSlot=l,o&&(o._state=this);for(let c=0;c<this.config.dynamicSlots.length;c++)lc(this,c<<1);this.computeSlot=null}field(e,t=!0){let n=this.config.address[e.id];if(n==null){if(t)throw new RangeError("Field is not present in this state");return}return lc(this,n),Bf(this,n)}update(...e){return TQ(this,e,!0)}applyTransaction(e){let t=this.config,{base:n,compartments:s}=t;for(let c of e.effects)c.is(Ed.reconfigure)?(t&&(s=new Map,t.compartments.forEach((h,d)=>s.set(d,h)),t=null),s.set(c.value.compartment,c.value.extension)):c.is(Oe.reconfigure)?(t=null,n=c.value):c.is(Oe.appendConfig)&&(t=null,n=ga(n).concat(c.value));let l;t?l=e.startState.values.slice():(t=Nf.resolve(n,s,this),l=new Ze(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(h,d)=>d.reconfigure(h,this),null).values);let o=e.startState.facet(a0)?e.newSelection:e.newSelection.asSingle();new Ze(t,e.newDoc,o,l,(c,h)=>h.update(c,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:q.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),s=this.changes(n.changes),l=[n.range],o=ga(n.effects);for(let c=1;c<t.ranges.length;c++){let h=e(t.ranges[c]),d=this.changes(h.changes),p=d.map(s);for(let y=0;y<c;y++)l[y]=l[y].map(p);let m=s.mapDesc(d,!0);l.push(h.range.map(m)),s=s.compose(p),o=Oe.mapEffects(o,p).concat(Oe.mapEffects(ga(h.effects),m))}return{changes:s,selection:q.create(l,t.mainIndex),effects:o}}changes(e=[]){return e instanceof _t?e:_t.of(e,this.doc.length,this.facet(Ze.lineSeparator))}toText(e){return Le.of(e.split(this.facet(Ze.lineSeparator)||i0))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(lc(this,t),Bf(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let s=e[n];s instanceof Dt&&this.config.address[s.id]!=null&&(t[n]=s.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e,t={},n){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let s=[];if(n){for(let l in n)if(Object.prototype.hasOwnProperty.call(e,l)){let o=n[l],c=e[l];s.push(o.init(h=>o.spec.fromJSON(c,h)))}}return Ze.create({doc:e.doc,selection:q.fromJSON(e.selection),extensions:t.extensions?s.concat([t.extensions]):s})}static create(e={}){let t=Nf.resolve(e.extensions||[],new Map),n=e.doc instanceof Le?e.doc:Le.of((e.doc||"").split(t.staticFacet(Ze.lineSeparator)||i0)),s=e.selection?e.selection instanceof q?e.selection:q.single(e.selection.anchor,e.selection.head):q.single(0);return OQ(s,n.length),t.staticFacet(a0)||(s=s.asSingle()),new Ze(t,n,s,t.dynamicSlots.map(()=>null),(l,o)=>o.create(l),null)}get tabSize(){return this.facet(Ze.tabSize)}get lineBreak(){return this.facet(Ze.lineSeparator)||`
`}get readOnly(){return this.facet(xQ)}phrase(e,...t){for(let n of this.facet(Ze.phrases))if(Object.prototype.hasOwnProperty.call(n,e)){e=n[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(n,s)=>{if(s=="$")return"$";let l=+(s||1);return!l||l>t.length?n:t[l-1]})),e}languageDataAt(e,t,n=-1){let s=[];for(let l of this.facet(bQ))for(let o of l(this,t,n))Object.prototype.hasOwnProperty.call(o,e)&&s.push(o[e]);return s}charCategorizer(e){let t=this.languageDataAt("wordChars",e);return fL(t.length?t[0]:"")}wordAt(e){let{text:t,from:n,length:s}=this.doc.lineAt(e),l=this.charCategorizer(e),o=e-n,c=e-n;for(;o>0;){let h=Tt(t,o,!1);if(l(t.slice(h,o))!=nt.Word)break;o=h}for(;c<s;){let h=Tt(t,c);if(l(t.slice(c,h))!=nt.Word)break;c=h}return o==c?null:q.range(o+n,c+n)}}Ze.allowMultipleSelections=a0;Ze.tabSize=K.define({combine:i=>i.length?i[0]:4});Ze.lineSeparator=vQ;Ze.readOnly=xQ;Ze.phrases=K.define({compare(i,e){let t=Object.keys(i),n=Object.keys(e);return t.length==n.length&&t.every(s=>i[s]==e[s])}});Ze.languageData=bQ;Ze.changeFilter=SQ;Ze.transactionFilter=wQ;Ze.transactionExtender=kQ;Ed.reconfigure=Oe.define();function Xn(i,e,t={}){let n={};for(let s of i)for(let l of Object.keys(s)){let o=s[l],c=n[l];if(c===void 0)n[l]=o;else if(!(c===o||o===void 0))if(Object.hasOwnProperty.call(t,l))n[l]=t[l](c,o);else throw new Error("Config merge conflict for field "+l)}for(let s in e)n[s]===void 0&&(n[s]=e[s]);return n}class ir{eq(e){return this==e}range(e,t=e){return u0.create(e,t,this)}}ir.prototype.startSide=ir.prototype.endSide=0;ir.prototype.point=!1;ir.prototype.mapMode=Yt.TrackDel;function Ey(i,e){return i==e||i.constructor==e.constructor&&i.eq(e)}let u0=class QQ{constructor(e,t,n){this.from=e,this.to=t,this.value=n}static create(e,t,n){return new QQ(e,t,n)}};function h0(i,e){return i.from-e.from||i.value.startSide-e.value.startSide}class Ry{constructor(e,t,n,s){this.from=e,this.to=t,this.value=n,this.maxPoint=s}get length(){return this.to[this.to.length-1]}findIndex(e,t,n,s=0){let l=n?this.to:this.from;for(let o=s,c=l.length;;){if(o==c)return o;let h=o+c>>1,d=l[h]-e||(n?this.value[h].endSide:this.value[h].startSide)-t;if(h==o)return d>=0?o:c;d>=0?c=h:o=h+1}}between(e,t,n,s){for(let l=this.findIndex(t,-1e9,!0),o=this.findIndex(n,1e9,!1,l);l<o;l++)if(s(this.from[l]+e,this.to[l]+e,this.value[l])===!1)return!1}map(e,t){let n=[],s=[],l=[],o=-1,c=-1;for(let h=0;h<this.value.length;h++){let d=this.value[h],p=this.from[h]+e,m=this.to[h]+e,y,b;if(p==m){let v=t.mapPos(p,d.startSide,d.mapMode);if(v==null||(y=b=v,d.startSide!=d.endSide&&(b=t.mapPos(p,d.endSide),b<y)))continue}else if(y=t.mapPos(p,d.startSide),b=t.mapPos(m,d.endSide),y>b||y==b&&d.startSide>0&&d.endSide<=0)continue;(b-y||d.endSide-d.startSide)<0||(o<0&&(o=y),d.point&&(c=Math.max(c,b-y)),n.push(d),s.push(y-o),l.push(b-o))}return{mapped:n.length?new Ry(s,l,n,c):null,pos:o}}}class Te{constructor(e,t,n,s){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=s}static create(e,t,n,s){return new Te(e,t,n,s)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:s=0,filterTo:l=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(n&&(t=t.slice().sort(h0)),this.isEmpty)return t.length?Te.of(t):this;let c=new AQ(this,null,-1).goto(0),h=0,d=[],p=new ds;for(;c.value||h<t.length;)if(h<t.length&&(c.from-t[h].from||c.startSide-t[h].value.startSide)>=0){let m=t[h++];p.addInner(m.from,m.to,m.value)||d.push(m)}else c.rangeIndex==1&&c.chunkIndex<this.chunk.length&&(h==t.length||this.chunkEnd(c.chunkIndex)<t[h].from)&&(!o||s>this.chunkEnd(c.chunkIndex)||l<this.chunkPos[c.chunkIndex])&&p.addChunk(this.chunkPos[c.chunkIndex],this.chunk[c.chunkIndex])?c.nextChunk():((!o||s>c.to||l<c.from||o(c.from,c.to,c.value))&&(p.addInner(c.from,c.to,c.value)||d.push(u0.create(c.from,c.to,c.value))),c.next());return p.finishInner(this.nextLayer.isEmpty&&!d.length?Te.empty:this.nextLayer.update({add:d,filter:o,filterFrom:s,filterTo:l}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],n=[],s=-1;for(let o=0;o<this.chunk.length;o++){let c=this.chunkPos[o],h=this.chunk[o],d=e.touchesRange(c,c+h.length);if(d===!1)s=Math.max(s,h.maxPoint),t.push(h),n.push(e.mapPos(c));else if(d===!0){let{mapped:p,pos:m}=h.map(c,e);p&&(s=Math.max(s,p.maxPoint),t.push(p),n.push(m))}}let l=this.nextLayer.map(e);return t.length==0?l:new Te(n,t,l||Te.empty,s)}between(e,t,n){if(!this.isEmpty){for(let s=0;s<this.chunk.length;s++){let l=this.chunkPos[s],o=this.chunk[s];if(t>=l&&e<=l+o.length&&o.between(l,e-l,t-l,n)===!1)return}this.nextLayer.between(e,t,n)}}iter(e=0){return Mc.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Mc.from(e).goto(t)}static compare(e,t,n,s,l=-1){let o=e.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=l),c=t.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=l),h=Ek(o,c,n),d=new Yo(o,h,l),p=new Yo(c,h,l);n.iterGaps((m,y,b)=>Rk(d,m,p,y,b,s)),n.empty&&n.length==0&&Rk(d,0,p,0,0,s)}static eq(e,t,n=0,s){s==null&&(s=999999999);let l=e.filter(p=>!p.isEmpty&&t.indexOf(p)<0),o=t.filter(p=>!p.isEmpty&&e.indexOf(p)<0);if(l.length!=o.length)return!1;if(!l.length)return!0;let c=Ek(l,o),h=new Yo(l,c,0).goto(n),d=new Yo(o,c,0).goto(n);for(;;){if(h.to!=d.to||!f0(h.active,d.active)||h.point&&(!d.point||!Ey(h.point,d.point)))return!1;if(h.to>s)return!0;h.next(),d.next()}}static spans(e,t,n,s,l=-1){let o=new Yo(e,null,l).goto(t),c=t,h=o.openStart;for(;;){let d=Math.min(o.to,n);if(o.point){let p=o.activeForPoint(o.to),m=o.pointFrom<t?p.length+1:o.point.startSide<0?p.length:Math.min(p.length,h);s.point(c,d,o.point,p,m,o.pointRank),h=Math.min(o.openEnd(d),p.length)}else d>c&&(s.span(c,d,o.active,h),h=o.openEnd(d));if(o.to>n)return h+(o.point&&o.to>n?1:0);c=o.to,o.next()}}static of(e,t=!1){let n=new ds;for(let s of e instanceof u0?[e]:t?dL(e):e)n.add(s.from,s.to,s.value);return n.finish()}static join(e){if(!e.length)return Te.empty;let t=e[e.length-1];for(let n=e.length-2;n>=0;n--)for(let s=e[n];s!=Te.empty;s=s.nextLayer)t=new Te(s.chunkPos,s.chunk,t,Math.max(s.maxPoint,t.maxPoint));return t}}Te.empty=new Te([],[],null,-1);function dL(i){if(i.length>1)for(let e=i[0],t=1;t<i.length;t++){let n=i[t];if(h0(e,n)>0)return i.slice().sort(h0);e=n}return i}Te.empty.nextLayer=Te.empty;class ds{finishChunk(e){this.chunks.push(new Ry(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new ds)).add(e,t,n)}addInner(e,t,n){let s=e-this.lastTo||n.startSide-this.last.endSide;if(s<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return s<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(Te.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Te.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Ek(i,e,t){let n=new Map;for(let l of i)for(let o=0;o<l.chunk.length;o++)l.chunk[o].maxPoint<=0&&n.set(l.chunk[o],l.chunkPos[o]);let s=new Set;for(let l of e)for(let o=0;o<l.chunk.length;o++){let c=n.get(l.chunk[o]);c!=null&&(t?t.mapPos(c):c)==l.chunkPos[o]&&!t?.touchesRange(c,c+l.chunk[o].length)&&s.add(l.chunk[o])}return s}class AQ{constructor(e,t,n,s=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=s}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let s=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(s)||this.layer.chunkEnd(this.chunkIndex)<e||s.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let s=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<s)&&this.setRangeIndex(s)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Mc{constructor(e){this.heap=e}static from(e,t=null,n=-1){let s=[];for(let l=0;l<e.length;l++)for(let o=e[l];!o.isEmpty;o=o.nextLayer)o.maxPoint>=n&&s.push(new AQ(o,t,n,l));return s.length==1?s[0]:new Mc(s)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let n of this.heap)n.goto(e,t);for(let n=this.heap.length>>1;n>=0;n--)jm(this.heap,n);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let n=this.heap.length>>1;n>=0;n--)jm(this.heap,n);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),jm(this.heap,0)}}}function jm(i,e){for(let t=i[e];;){let n=(e<<1)+1;if(n>=i.length)break;let s=i[n];if(n+1<i.length&&s.compare(i[n+1])>=0&&(s=i[n+1],n++),t.compare(s)<0)break;i[n]=t,i[e]=s,e=n}}class Yo{constructor(e,t,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Mc.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Bh(this.active,e),Bh(this.activeTo,e),Bh(this.activeRank,e),this.minActive=Mk(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:s,rank:l}=this.cursor;for(;t<this.activeRank.length&&(l-this.activeRank[t]||s-this.activeTo[t])>0;)t++;Xh(this.active,t,n),Xh(this.activeTo,t,s),Xh(this.activeRank,t,l),e&&Xh(e,t,this.cursor.from),this.minActive=Mk(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let s=this.minActive;if(s>-1&&(this.activeTo[s]-this.cursor.from||this.active[s].endSide-this.cursor.startSide)<0){if(this.activeTo[s]>e){this.to=this.activeTo[s],this.endSide=this.active[s].endSide;break}this.removeActive(s),n&&Bh(n,s)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let l=this.cursor.value;if(!l.point)this.addActive(n),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=l,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=l.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(n){this.openStart=0;for(let s=n.length-1;s>=0&&n[s]<e;s--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}openEnd(e){let t=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}function Rk(i,e,t,n,s,l){i.goto(e),t.goto(n);let o=n+s,c=n,h=n-e,d=!!l.boundChange;for(let p=!1;;){let m=i.to+h-t.to,y=m||i.endSide-t.endSide,b=y<0?i.to+h:t.to,v=Math.min(b,o);if(i.point||t.point?(i.point&&t.point&&Ey(i.point,t.point)&&f0(i.activeForPoint(i.to),t.activeForPoint(t.to))||l.comparePoint(c,v,i.point,t.point),p=!1):(p&&l.boundChange(c),v>c&&!f0(i.active,t.active)&&l.compareRange(c,v,i.active,t.active),d&&v<o&&(m||i.openEnd(b)!=t.openEnd(b))&&(p=!0)),b>o)break;c=b,y<=0&&i.next(),y>=0&&t.next()}}function f0(i,e){if(i.length!=e.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!=e[t]&&!Ey(i[t],e[t]))return!1;return!0}function Bh(i,e){for(let t=e,n=i.length-1;t<n;t++)i[t]=i[t+1];i.pop()}function Xh(i,e,t){for(let n=i.length-1;n>=e;n--)i[n+1]=i[n];i[e]=t}function Mk(i,e){let t=-1,n=1e9;for(let s=0;s<e.length;s++)(e[s]-n||i[s].endSide-i[t].endSide)<0&&(t=s,n=e[s]);return t}function Xa(i,e,t=i.length){let n=0;for(let s=0;s<t&&s<i.length;)i.charCodeAt(s)==9?(n+=e-n%e,s++):(n++,s=Tt(i,s));return n}function d0(i,e,t,n){for(let s=0,l=0;;){if(l>=e)return s;if(s==i.length)break;l+=i.charCodeAt(s)==9?t-l%t:1,s=Tt(i,s)}return n===!0?-1:i.length}const p0="",Pk=typeof Symbol>"u"?"__"+p0:Symbol.for(p0),g0=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Dk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class nr{constructor(e,t){this.rules=[];let{finish:n}=t||{};function s(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function l(o,c,h,d){let p=[],m=/^@(\w+)\b/.exec(o[0]),y=m&&m[1]=="keyframes";if(m&&c==null)return h.push(o[0]+";");for(let b in c){let v=c[b];if(/&/.test(b))l(b.split(/,\s*/).map(w=>o.map(x=>w.replace(/&/,x))).reduce((w,x)=>w.concat(x)),v,h);else if(v&&typeof v=="object"){if(!m)throw new RangeError("The value of a property ("+b+") should be a primitive value.");l(s(b),v,p,y)}else v!=null&&p.push(b.replace(/_.*/,"").replace(/[A-Z]/g,w=>"-"+w.toLowerCase())+": "+v+";")}(p.length||y)&&h.push((n&&!m&&!d?o.map(n):o).join(", ")+" {"+p.join(" ")+"}")}for(let o in e)l(s(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Dk[Pk]||1;return Dk[Pk]=e+1,p0+e.toString(36)}static mount(e,t,n){let s=e[g0],l=n&&n.nonce;s?l&&s.setNonce(l):s=new pL(e,l),s.mount(Array.isArray(t)?t:[t],e)}}let Zk=new Map;class pL{constructor(e,t){let n=e.ownerDocument||e,s=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&s.CSSStyleSheet){let l=Zk.get(n);if(l)return e[g0]=l;this.sheet=new s.CSSStyleSheet,Zk.set(n,this)}else this.styleTag=n.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[g0]=this}mount(e,t){let n=this.sheet,s=0,l=0;for(let o=0;o<e.length;o++){let c=e[o],h=this.modules.indexOf(c);if(h<l&&h>-1&&(this.modules.splice(h,1),l--,h=-1),h==-1){if(this.modules.splice(l++,0,c),n)for(let d=0;d<c.rules.length;d++)n.insertRule(c.rules[d],s++)}else{for(;l<h;)s+=this.modules[l++].rules.length;s+=c.rules.length,l++}}if(n)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let o="";for(let h=0;h<this.modules.length;h++)o+=this.modules[h].getRules()+`
`;this.styleTag.textContent=o;let c=t.head||t;this.styleTag.parentNode!=c&&c.insertBefore(this.styleTag,c.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var sr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Pc={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},gL=typeof navigator<"u"&&/Mac/.test(navigator.platform),mL=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var qt=0;qt<10;qt++)sr[48+qt]=sr[96+qt]=String(qt);for(var qt=1;qt<=24;qt++)sr[qt+111]="F"+qt;for(var qt=65;qt<=90;qt++)sr[qt]=String.fromCharCode(qt+32),Pc[qt]=String.fromCharCode(qt);for(var Um in sr)Pc.hasOwnProperty(Um)||(Pc[Um]=sr[Um]);function OL(i){var e=gL&&i.metaKey&&i.shiftKey&&!i.ctrlKey&&!i.altKey||mL&&i.shiftKey&&i.key&&i.key.length==1||i.key=="Unidentified",t=!e&&i.key||(i.shiftKey?Pc:sr)[i.keyCode]||i.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function Ve(){var i=arguments[0];typeof i=="string"&&(i=document.createElement(i));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var s=t[n];typeof s=="string"?i.setAttribute(n,s):s!=null&&(i[n]=s)}e++}for(;e<arguments.length;e++)CQ(i,arguments[e]);return i}function CQ(i,e){if(typeof e=="string")i.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)i.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)CQ(i,e[t]);else throw new RangeError("Unsupported child node: "+e)}let Ft=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},m0=typeof document<"u"?document:{documentElement:{style:{}}};const O0=/Edge\/(\d+)/.exec(Ft.userAgent),$Q=/MSIE \d/.test(Ft.userAgent),y0=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ft.userAgent),Rd=!!($Q||y0||O0),Lk=!Rd&&/gecko\/(\d+)/i.test(Ft.userAgent),Nm=!Rd&&/Chrome\/(\d+)/.exec(Ft.userAgent),yL="webkitFontSmoothing"in m0.documentElement.style,b0=!Rd&&/Apple Computer/.test(Ft.vendor),zk=b0&&(/Mobile\/\w+/.test(Ft.userAgent)||Ft.maxTouchPoints>2);var F={mac:zk||/Mac/.test(Ft.platform),windows:/Win/.test(Ft.platform),linux:/Linux|X11/.test(Ft.platform),ie:Rd,ie_version:$Q?m0.documentMode||6:y0?+y0[1]:O0?+O0[1]:0,gecko:Lk,gecko_version:Lk?+(/Firefox\/(\d+)/.exec(Ft.userAgent)||[0,0])[1]:0,chrome:!!Nm,chrome_version:Nm?+Nm[1]:0,ios:zk,android:/Android\b/.test(Ft.userAgent),webkit_version:yL?+(/\bAppleWebKit\/(\d+)/.exec(Ft.userAgent)||[0,0])[1]:0,safari:b0,safari_version:b0?+(/\bVersion\/(\d+(\.\d+)?)/.exec(Ft.userAgent)||[0,0])[1]:0,tabSize:m0.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function My(i,e){for(let t in i)t=="class"&&e.class?e.class+=" "+i.class:t=="style"&&e.style?e.style+=";"+i.style:e[t]=i[t];return e}const Xf=Object.create(null);function Py(i,e,t){if(i==e)return!0;i||(i=Xf),e||(e=Xf);let n=Object.keys(i),s=Object.keys(e);if(n.length-0!=s.length-0)return!1;for(let l of n)if(l!=t&&(s.indexOf(l)==-1||i[l]!==e[l]))return!1;return!0}function bL(i,e){for(let t=i.attributes.length-1;t>=0;t--){let n=i.attributes[t].name;e[n]==null&&i.removeAttribute(n)}for(let t in e){let n=e[t];t=="style"?i.style.cssText=n:i.getAttribute(t)!=n&&i.setAttribute(t,n)}}function jk(i,e,t){let n=!1;if(e)for(let s in e)t&&s in t||(n=!0,s=="style"?i.style.cssText="":i.removeAttribute(s));if(t)for(let s in t)e&&e[s]==t[s]||(n=!0,s=="style"?i.style.cssText=t[s]:i.setAttribute(s,t[s]));return n}function vL(i){let e=Object.create(null);for(let t=0;t<i.attributes.length;t++){let n=i.attributes[t];e[n.name]=n.value}return e}class bn{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Vt=(function(i){return i[i.Text=0]="Text",i[i.WidgetBefore=1]="WidgetBefore",i[i.WidgetAfter=2]="WidgetAfter",i[i.WidgetRange=3]="WidgetRange",i})(Vt||(Vt={}));class se extends ir{constructor(e,t,n,s){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=s}get heightRelevant(){return!1}static mark(e){return new iu(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return t+=n&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new Fr(e,t,t,n,e.widget||null,!1)}static replace(e){let t=!!e.block,n,s;if(e.isBlockGap)n=-5e8,s=4e8;else{let{start:l,end:o}=EQ(e,t);n=(l?t?-3e8:-1:5e8)-1,s=(o?t?2e8:1:-6e8)+1}return new Fr(e,n,s,t,e.widget||null,!0)}static line(e){return new nu(e)}static set(e,t=!1){return Te.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}se.none=Te.empty;class iu extends se{constructor(e){let{start:t,end:n}=EQ(e);super(t?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.attrs=e.class&&e.attributes?My(e.attributes,{class:e.class}):e.class?{class:e.class}:e.attributes||Xf}eq(e){return this==e||e instanceof iu&&this.tagName==e.tagName&&Py(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}iu.prototype.point=!1;class nu extends se{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof nu&&this.spec.class==e.spec.class&&Py(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}nu.prototype.mapMode=Yt.TrackBefore;nu.prototype.point=!0;class Fr extends se{constructor(e,t,n,s,l,o){super(t,n,l,e),this.block=s,this.isReplace=o,this.mapMode=s?t<=0?Yt.TrackBefore:Yt.TrackAfter:Yt.TrackDel}get type(){return this.startSide!=this.endSide?Vt.WidgetRange:this.startSide<=0?Vt.WidgetBefore:Vt.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Fr&&SL(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Fr.prototype.point=!0;function EQ(i,e=!1){let{inclusiveStart:t,inclusiveEnd:n}=i;return t==null&&(t=i.inclusive),n==null&&(n=i.inclusive),{start:t??e,end:n??e}}function SL(i,e){return i==e||!!(i&&e&&i.compare(e))}function ma(i,e,t,n=0){let s=t.length-1;s>=0&&t[s]+n>=i?t[s]=Math.max(t[s],e):t.push(i,e)}class Dc extends ir{constructor(e,t){super(),this.tagName=e,this.attributes=t}eq(e){return e==this||e instanceof Dc&&this.tagName==e.tagName&&Py(this.attributes,e.attributes)}static create(e){return new Dc(e.tagName,e.attributes||Xf)}static set(e,t=!1){return Te.of(e,t)}}Dc.prototype.startSide=Dc.prototype.endSide=-1;function Ea(i){let e;return i.nodeType==11?e=i.getSelection?i:i.ownerDocument:e=i,e.getSelection()}function v0(i,e){return e?i==e||i.contains(e.nodeType!=1?e.parentNode:e):!1}function ac(i,e){if(!e.anchorNode)return!1;try{return v0(i,e.anchorNode)}catch{return!1}}function yf(i){return i.nodeType==3?Zc(i,0,i.nodeValue.length).getClientRects():i.nodeType==1?i.getClientRects():[]}function oc(i,e,t,n){return t?Uk(i,e,t,n,-1)||Uk(i,e,t,n,1):!1}function rr(i){for(var e=0;;e++)if(i=i.previousSibling,!i)return e}function qf(i){return i.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(i.nodeName)}function Uk(i,e,t,n,s){for(;;){if(i==t&&e==n)return!0;if(e==(s<0?0:ps(i))){if(i.nodeName=="DIV")return!1;let l=i.parentNode;if(!l||l.nodeType!=1)return!1;e=rr(i)+(s<0?0:1),i=l}else if(i.nodeType==1){if(i=i.childNodes[e+(s<0?-1:0)],i.nodeType==1&&i.contentEditable=="false")return!1;e=s<0?ps(i):0}else return!1}}function ps(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function Yf(i,e){let t=e?i.left:i.right;return{left:t,right:t,top:i.top,bottom:i.bottom}}function wL(i){let e=i.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:i.innerWidth,top:0,bottom:i.innerHeight}}function RQ(i,e){let t=e.width/i.offsetWidth,n=e.height/i.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-i.offsetWidth)<1)&&(t=1),(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.height-i.offsetHeight)<1)&&(n=1),{scaleX:t,scaleY:n}}function kL(i,e,t,n,s,l,o,c){let h=i.ownerDocument,d=h.defaultView||window;for(let p=i,m=!1;p&&!m;)if(p.nodeType==1){let y,b=p==h.body,v=1,w=1;if(b)y=wL(d);else{if(/^(fixed|sticky)$/.test(getComputedStyle(p).position)&&(m=!0),p.scrollHeight<=p.clientHeight&&p.scrollWidth<=p.clientWidth){p=p.assignedSlot||p.parentNode;continue}let E=p.getBoundingClientRect();({scaleX:v,scaleY:w}=RQ(p,E)),y={left:E.left,right:E.left+p.clientWidth*v,top:E.top,bottom:E.top+p.clientHeight*w}}let x=0,_=0;if(s=="nearest")e.top<y.top?(_=e.top-(y.top+o),t>0&&e.bottom>y.bottom+_&&(_=e.bottom-y.bottom+o)):e.bottom>y.bottom&&(_=e.bottom-y.bottom+o,t<0&&e.top-_<y.top&&(_=e.top-(y.top+o)));else{let E=e.bottom-e.top,C=y.bottom-y.top;_=(s=="center"&&E<=C?e.top+E/2-C/2:s=="start"||s=="center"&&t<0?e.top-o:e.bottom-C+o)-y.top}if(n=="nearest"?e.left<y.left?(x=e.left-(y.left+l),t>0&&e.right>y.right+x&&(x=e.right-y.right+l)):e.right>y.right&&(x=e.right-y.right+l,t<0&&e.left<y.left+x&&(x=e.left-(y.left+l))):x=(n=="center"?e.left+(e.right-e.left)/2-(y.right-y.left)/2:n=="start"==c?e.left-l:e.right-(y.right-y.left)+l)-y.left,x||_)if(b)d.scrollBy(x,_);else{let E=0,C=0;if(_){let j=p.scrollTop;p.scrollTop+=_/w,C=(p.scrollTop-j)*w}if(x){let j=p.scrollLeft;p.scrollLeft+=x/v,E=(p.scrollLeft-j)*v}e={left:e.left-E,top:e.top-C,right:e.right-E,bottom:e.bottom-C},E&&Math.abs(E-x)<1&&(n="nearest"),C&&Math.abs(C-_)<1&&(s="nearest")}if(b)break;(e.top<y.top||e.bottom>y.bottom||e.left<y.left||e.right>y.right)&&(e={left:Math.max(e.left,y.left),right:Math.min(e.right,y.right),top:Math.max(e.top,y.top),bottom:Math.min(e.bottom,y.bottom)}),p=p.assignedSlot||p.parentNode}else if(p.nodeType==11)p=p.host;else break}function xL(i){let e=i.ownerDocument,t,n;for(let s=i.parentNode;s&&!(s==e.body||t&&n);)if(s.nodeType==1)!n&&s.scrollHeight>s.clientHeight&&(n=s),!t&&s.scrollWidth>s.clientWidth&&(t=s),s=s.assignedSlot||s.parentNode;else if(s.nodeType==11)s=s.host;else break;return{x:t,y:n}}class _L{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:n}=e;this.set(t,Math.min(e.anchorOffset,t?ps(t):0),n,Math.min(e.focusOffset,n?ps(n):0))}set(e,t,n,s){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=s}}let Pr=null;F.safari&&F.safari_version>=26&&(Pr=!1);function MQ(i){if(i.setActive)return i.setActive();if(Pr)return i.focus(Pr);let e=[];for(let t=i;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(i.focus(Pr==null?{get preventScroll(){return Pr={preventScroll:!0},!0}}:void 0),!Pr){Pr=!1;for(let t=0;t<e.length;){let n=e[t++],s=e[t++],l=e[t++];n.scrollTop!=s&&(n.scrollTop=s),n.scrollLeft!=l&&(n.scrollLeft=l)}}}let Nk;function Zc(i,e,t=e){let n=Nk||(Nk=document.createRange());return n.setEnd(i,t),n.setStart(i,e),n}function Oa(i,e,t,n){let s={key:e,code:e,keyCode:t,which:t,cancelable:!0};n&&({altKey:s.altKey,ctrlKey:s.ctrlKey,shiftKey:s.shiftKey,metaKey:s.metaKey}=n);let l=new KeyboardEvent("keydown",s);l.synthetic=!0,i.dispatchEvent(l);let o=new KeyboardEvent("keyup",s);return o.synthetic=!0,i.dispatchEvent(o),l.defaultPrevented||o.defaultPrevented}function TL(i){for(;i;){if(i&&(i.nodeType==9||i.nodeType==11&&i.host))return i;i=i.assignedSlot||i.parentNode}return null}function QL(i,e){let t=e.focusNode,n=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=n)return!1;for(n=Math.min(n,ps(t));;)if(n){if(t.nodeType!=1)return!1;let s=t.childNodes[n-1];s.contentEditable=="false"?n--:(t=s,n=ps(t))}else{if(t==i)return!0;n=rr(t),t=t.parentNode}}function PQ(i){return i.scrollTop>Math.max(1,i.scrollHeight-i.clientHeight-4)}function DQ(i,e){for(let t=i,n=e;;){if(t.nodeType==3&&n>0)return{node:t,offset:n};if(t.nodeType==1&&n>0){if(t.contentEditable=="false")return null;t=t.childNodes[n-1],n=ps(t)}else if(t.parentNode&&!qf(t))n=rr(t),t=t.parentNode;else return null}}function ZQ(i,e){for(let t=i,n=e;;){if(t.nodeType==3&&n<t.nodeValue.length)return{node:t,offset:n};if(t.nodeType==1&&n<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[n],n=0}else if(t.parentNode&&!qf(t))n=rr(t)+1,t=t.parentNode;else return null}}class dn{constructor(e,t,n=!0){this.node=e,this.offset=t,this.precise=n}static before(e,t){return new dn(e.parentNode,rr(e),t)}static after(e,t){return new dn(e.parentNode,rr(e)+1,t)}}var Ke=(function(i){return i[i.LTR=0]="LTR",i[i.RTL=1]="RTL",i})(Ke||(Ke={}));const el=Ke.LTR,Dy=Ke.RTL;function LQ(i){let e=[];for(let t=0;t<i.length;t++)e.push(1<<+i[t]);return e}const AL=LQ("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),CL=LQ("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),S0=Object.create(null),Qn=[];for(let i of["()","[]","{}"]){let e=i.charCodeAt(0),t=i.charCodeAt(1);S0[e]=t,S0[t]=-e}function zQ(i){return i<=247?AL[i]:1424<=i&&i<=1524?2:1536<=i&&i<=1785?CL[i-1536]:1774<=i&&i<=2220?4:8192<=i&&i<=8204?256:64336<=i&&i<=65023?4:1}const $L=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class hs{get dir(){return this.level%2?Dy:el}constructor(e,t,n){this.from=e,this.to=t,this.level=n}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,n,s){let l=-1;for(let o=0;o<e.length;o++){let c=e[o];if(c.from<=t&&c.to>=t){if(c.level==n)return o;(l<0||(s!=0?s<0?c.from<t:c.to>t:e[l].level>c.level))&&(l=o)}}if(l<0)throw new RangeError("Index out of range");return l}}function jQ(i,e){if(i.length!=e.length)return!1;for(let t=0;t<i.length;t++){let n=i[t],s=e[t];if(n.from!=s.from||n.to!=s.to||n.direction!=s.direction||!jQ(n.inner,s.inner))return!1}return!0}const Ge=[];function EL(i,e,t,n,s){for(let l=0;l<=n.length;l++){let o=l?n[l-1].to:e,c=l<n.length?n[l].from:t,h=l?256:s;for(let d=o,p=h,m=h;d<c;d++){let y=zQ(i.charCodeAt(d));y==512?y=p:y==8&&m==4&&(y=16),Ge[d]=y==4?2:y,y&7&&(m=y),p=y}for(let d=o,p=h,m=h;d<c;d++){let y=Ge[d];if(y==128)d<c-1&&p==Ge[d+1]&&p&24?y=Ge[d]=p:Ge[d]=256;else if(y==64){let b=d+1;for(;b<c&&Ge[b]==64;)b++;let v=d&&p==8||b<t&&Ge[b]==8?m==1?1:8:256;for(let w=d;w<b;w++)Ge[w]=v;d=b-1}else y==8&&m==1&&(Ge[d]=1);p=y,y&7&&(m=y)}}}function RL(i,e,t,n,s){let l=s==1?2:1;for(let o=0,c=0,h=0;o<=n.length;o++){let d=o?n[o-1].to:e,p=o<n.length?n[o].from:t;for(let m=d,y,b,v;m<p;m++)if(b=S0[y=i.charCodeAt(m)])if(b<0){for(let w=c-3;w>=0;w-=3)if(Qn[w+1]==-b){let x=Qn[w+2],_=x&2?s:x&4?x&1?l:s:0;_&&(Ge[m]=Ge[Qn[w]]=_),c=w;break}}else{if(Qn.length==189)break;Qn[c++]=m,Qn[c++]=y,Qn[c++]=h}else if((v=Ge[m])==2||v==1){let w=v==s;h=w?0:1;for(let x=c-3;x>=0;x-=3){let _=Qn[x+2];if(_&2)break;if(w)Qn[x+2]|=2;else{if(_&4)break;Qn[x+2]|=4}}}}}function ML(i,e,t,n){for(let s=0,l=n;s<=t.length;s++){let o=s?t[s-1].to:i,c=s<t.length?t[s].from:e;for(let h=o;h<c;){let d=Ge[h];if(d==256){let p=h+1;for(;;)if(p==c){if(s==t.length)break;p=t[s++].to,c=s<t.length?t[s].from:e}else if(Ge[p]==256)p++;else break;let m=l==1,y=(p<e?Ge[p]:n)==1,b=m==y?m?1:2:n;for(let v=p,w=s,x=w?t[w-1].to:i;v>h;)v==x&&(v=t[--w].from,x=w?t[w-1].to:i),Ge[--v]=b;h=p}else l=d,h++}}}function w0(i,e,t,n,s,l,o){let c=n%2?2:1;if(n%2==s%2)for(let h=e,d=0;h<t;){let p=!0,m=!1;if(d==l.length||h<l[d].from){let w=Ge[h];w!=c&&(p=!1,m=w==16)}let y=!p&&c==1?[]:null,b=p?n:n+1,v=h;e:for(;;)if(d<l.length&&v==l[d].from){if(m)break e;let w=l[d];if(!p)for(let x=w.to,_=d+1;;){if(x==t)break e;if(_<l.length&&l[_].from==x)x=l[_++].to;else{if(Ge[x]==c)break e;break}}if(d++,y)y.push(w);else{w.from>h&&o.push(new hs(h,w.from,b));let x=w.direction==el!=!(b%2);k0(i,x?n+1:n,s,w.inner,w.from,w.to,o),h=w.to}v=w.to}else{if(v==t||(p?Ge[v]!=c:Ge[v]==c))break;v++}y?w0(i,h,v,n+1,s,y,o):h<v&&o.push(new hs(h,v,b)),h=v}else for(let h=t,d=l.length;h>e;){let p=!0,m=!1;if(!d||h>l[d-1].to){let w=Ge[h-1];w!=c&&(p=!1,m=w==16)}let y=!p&&c==1?[]:null,b=p?n:n+1,v=h;e:for(;;)if(d&&v==l[d-1].to){if(m)break e;let w=l[--d];if(!p)for(let x=w.from,_=d;;){if(x==e)break e;if(_&&l[_-1].to==x)x=l[--_].from;else{if(Ge[x-1]==c)break e;break}}if(y)y.push(w);else{w.to<h&&o.push(new hs(w.to,h,b));let x=w.direction==el!=!(b%2);k0(i,x?n+1:n,s,w.inner,w.from,w.to,o),h=w.from}v=w.from}else{if(v==e||(p?Ge[v-1]!=c:Ge[v-1]==c))break;v--}y?w0(i,v,h,n+1,s,y,o):v<h&&o.push(new hs(v,h,b)),h=v}}function k0(i,e,t,n,s,l,o){let c=e%2?2:1;EL(i,s,l,n,c),RL(i,s,l,n,c),ML(s,l,n,c),w0(i,s,l,e,t,n,o)}function PL(i,e,t){if(!i)return[new hs(0,0,e==Dy?1:0)];if(e==el&&!t.length&&!$L.test(i))return UQ(i.length);if(t.length)for(;i.length>Ge.length;)Ge[Ge.length]=256;let n=[],s=e==el?0:1;return k0(i,s,s,t,0,i.length,n),n}function UQ(i){return[new hs(0,i,0)]}let NQ="";function DL(i,e,t,n,s){var l;let o=n.head-i.from,c=hs.find(e,o,(l=n.bidiLevel)!==null&&l!==void 0?l:-1,n.assoc),h=e[c],d=h.side(s,t);if(o==d){let y=c+=s?1:-1;if(y<0||y>=e.length)return null;h=e[c=y],o=h.side(!s,t),d=h.side(s,t)}let p=Tt(i.text,o,h.forward(s,t));(p<h.from||p>h.to)&&(p=d),NQ=i.text.slice(Math.min(o,p),Math.max(o,p));let m=c==(s?e.length-1:0)?null:e[c+(s?1:-1)];return m&&p==d&&m.level+(s?0:1)<h.level?q.cursor(m.side(!s,t)+i.from,m.forward(s,t)?1:-1,m.level):q.cursor(p+i.from,h.forward(s,t)?-1:1,h.level)}function ZL(i,e,t){for(let n=e;n<t;n++){let s=zQ(i.charCodeAt(n));if(s==1)return el;if(s==2||s==4)return Dy}return el}const BQ=K.define(),XQ=K.define(),qQ=K.define(),YQ=K.define(),x0=K.define(),VQ=K.define(),IQ=K.define(),Zy=K.define(),Ly=K.define(),GQ=K.define({combine:i=>i.some(e=>e)}),WQ=K.define({combine:i=>i.some(e=>e)}),HQ=K.define();class ya{constructor(e,t="nearest",n="nearest",s=5,l=5,o=!1){this.range=e,this.y=t,this.x=n,this.yMargin=s,this.xMargin=l,this.isSnapshot=o}map(e){return e.empty?this:new ya(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new ya(q.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const qh=Oe.define({map:(i,e)=>i.map(e)}),KQ=Oe.define();function pi(i,e,t){let n=i.facet(YQ);n.length?n[0](e):window.onerror&&window.onerror(String(e),t,void 0,void 0,e)||(t?console.error(t+":",e):console.error(e))}const us=K.define({combine:i=>i.length?i[0]:!0});let LL=0;const ra=K.define({combine(i){return i.filter((e,t)=>{for(let n=0;n<t;n++)if(i[n].plugin==e.plugin)return!1;return!0})}});class rt{constructor(e,t,n,s,l){this.id=e,this.create=t,this.domEventHandlers=n,this.domEventObservers=s,this.baseExtensions=l(this),this.extension=this.baseExtensions.concat(ra.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(ra.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:n,eventObservers:s,provide:l,decorations:o}=t||{};return new rt(LL++,e,n,s,c=>{let h=[];return o&&h.push(Md.of(d=>{let p=d.plugin(c);return p?o(p):se.none})),l&&h.push(l(c)),h})}static fromClass(e,t){return rt.define((n,s)=>new e(n,s),t)}}class Bm{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(n){if(pi(t.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){pi(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(n){pi(e.state,n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const JQ=K.define(),zy=K.define(),Md=K.define(),FQ=K.define(),jy=K.define(),su=K.define(),eA=K.define();function Bk(i,e){let t=i.state.facet(eA);if(!t.length)return t;let n=t.map(l=>l instanceof Function?l(i):l),s=[];return Te.spans(n,e.from,e.to,{point(){},span(l,o,c,h){let d=l-e.from,p=o-e.from,m=s;for(let y=c.length-1;y>=0;y--,h--){let b=c[y].spec.bidiIsolate,v;if(b==null&&(b=ZL(e.text,d,p)),h>0&&m.length&&(v=m[m.length-1]).to==d&&v.direction==b)v.to=p,m=v.inner;else{let w={from:d,to:p,direction:b,inner:[]};m.push(w),m=w.inner}}}}),s}const tA=K.define();function Uy(i){let e=0,t=0,n=0,s=0;for(let l of i.state.facet(tA)){let o=l(i);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(t=Math.max(t,o.right)),o.top!=null&&(n=Math.max(n,o.top)),o.bottom!=null&&(s=Math.max(s,o.bottom)))}return{left:e,right:t,top:n,bottom:s}}const Ko=K.define();class Fi{constructor(e,t,n,s){this.fromA=e,this.toA=t,this.fromB=n,this.toB=s}join(e){return new Fi(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let s=e[t-1];if(!(s.fromA>n.toA)){if(s.toA<n.fromA)break;n=n.join(s),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(e,t){if(t.length==0)return e;let n=[];for(let s=0,l=0,o=0;;){let c=s<e.length?e[s].fromB:1e9,h=l<t.length?t[l]:1e9,d=Math.min(c,h);if(d==1e9)break;let p=d+o,m=d,y=p;for(;;)if(l<t.length&&t[l]<=m){let b=t[l+1];l+=2,m=Math.max(m,b);for(let v=s;v<e.length&&e[v].fromB<=m;v++)o=e[v].toA-e[v].toB;y=Math.max(y,b+o)}else if(s<e.length&&e[s].fromB<=m){let b=e[s++];m=Math.max(m,b.toB),y=Math.max(y,b.toA),o=b.toA-b.toB}else break;n.push(new Fi(p,y,d,m))}return n}}class Vf{constructor(e,t,n){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=_t.empty(this.startState.doc.length);for(let l of n)this.changes=this.changes.compose(l.changes);let s=[];this.changes.iterChangedRanges((l,o,c,h)=>s.push(new Fi(l,o,c,h))),this.changedRanges=s}static create(e,t,n){return new Vf(e,t,n)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}const zL=[];class St{constructor(e,t,n=0){this.dom=e,this.length=t,this.flags=n,this.parent=null,e.cmTile=this}get breakAfter(){return this.flags&1}get children(){return zL}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(e){if(this.flags|=2,this.flags&4){this.flags&=-5;let t=this.domAttrs;t&&bL(this.dom,t)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(e){this.dom=e,e.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e,t=this.posAtStart){let n=t;for(let s of this.children){if(s==e)return n;n+=s.length+s.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}covers(e){return!0}coordsIn(e,t){return null}domPosFor(e,t){let n=rr(this.dom),s=this.length?e>0:t>0;return new dn(this.parent.dom,n+(s?1:0),e==0||e==this.length)}markDirty(e){this.flags&=-3,e&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let e=this;e;e=e.parent)if(e instanceof Dd)return e;return null}static get(e){return e.cmTile}}class Pd extends St{constructor(e){super(e,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(e){this.children.push(e),e.parent=this}sync(e){if(this.flags&2)return;super.sync(e);let t=this.dom,n=null,s,l=e?.node==t?e:null,o=0;for(let c of this.children){if(c.sync(e),o+=c.length+c.breakAfter,s=n?n.nextSibling:t.firstChild,l&&s!=c.dom&&(l.written=!0),c.dom.parentNode==t)for(;s&&s!=c.dom;)s=Xk(s);else t.insertBefore(c.dom,s);n=c.dom}for(s=n?n.nextSibling:t.firstChild,l&&s&&(l.written=!0);s;)s=Xk(s);this.length=o}}function Xk(i){let e=i.nextSibling;return i.parentNode.removeChild(i),e}class Dd extends Pd{constructor(e,t){super(t),this.view=e}owns(e){for(;e;e=e.parent)if(e==this)return!0;return!1}isBlock(){return!0}nearest(e){for(;;){if(!e)return null;let t=St.get(e);if(t&&this.owns(t))return t;e=e.parentNode}}blockTiles(e){for(let t=[],n=this,s=0,l=0;;)if(s==n.children.length){if(!t.length)return;n=n.parent,n.breakAfter&&l++,s=t.pop()}else{let o=n.children[s++];if(o instanceof Fs)t.push(s),n=o,s=0;else{let c=l+o.length,h=e(o,l);if(h!==void 0)return h;l=c+o.breakAfter}}}resolveBlock(e,t){let n,s=-1,l,o=-1;if(this.blockTiles((c,h)=>{let d=h+c.length;if(e>=h&&e<=d){if(c.isWidget()&&t>=-1&&t<=1){if(c.flags&32)return!0;c.flags&16&&(n=void 0)}(h<e||e==d&&(t<-1?c.length:c.covers(1)))&&(!n||!c.isWidget()&&n.isWidget())&&(n=c,s=e-h),(d>e||e==h&&(t>1?c.length:c.covers(-1)))&&(!l||!c.isWidget()&&l.isWidget())&&(l=c,o=e-h)}}),!n&&!l)throw new Error("No tile at position "+e);return n&&t<0||!l?{tile:n,offset:s}:{tile:l,offset:o}}}class Fs extends Pd{constructor(e,t){super(e),this.wrapper=t}isBlock(){return!0}covers(e){return this.children.length?e<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(e,t){let n=new Fs(t||document.createElement(e.tagName),e);return t||(n.flags|=4),n}}class Ra extends Pd{constructor(e,t){super(e),this.attrs=t}isLine(){return!0}static start(e,t,n){let s=new Ra(t||document.createElement("div"),e);return(!t||!n)&&(s.flags|=4),s}get domAttrs(){return this.attrs}resolveInline(e,t,n){let s=null,l=-1,o=null,c=-1;function h(p,m){for(let y=0,b=0;y<p.children.length&&b<=m;y++){let v=p.children[y],w=b+v.length;w>=m&&(v.isComposite()?h(v,m-b):(!o||o.isHidden&&(t>0||n&&UL(o,v)))&&(w>m||v.flags&32)?(o=v,c=m-b):(b<m||v.flags&16&&!v.isHidden)&&(s=v,l=m-b)),b=w}}h(this,e);let d=(t<0?s:o)||s||o;return d?{tile:d,offset:d==s?l:c}:null}coordsIn(e,t){let n=this.resolveInline(e,t,!0);return n?n.tile.coordsIn(Math.max(0,n.offset),t):jL(this)}domIn(e,t){let n=this.resolveInline(e,t);if(n){let{tile:s,offset:l}=n;if(this.dom.contains(s.dom))return s.isText()?new dn(s.dom,Math.min(s.dom.nodeValue.length,l)):s.domPosFor(l,s.flags&16?1:s.flags&32?-1:t);let o=n.tile.parent,c=!1;for(let h of o.children){if(c)return new dn(h.dom,0);h==n.tile&&(c=!0)}}return new dn(this.dom,0)}}function jL(i){let e=i.dom.lastChild;if(!e)return i.dom.getBoundingClientRect();let t=yf(e);return t[t.length-1]||null}function UL(i,e){let t=i.coordsIn(0,1),n=e.coordsIn(0,1);return t&&n&&n.top<t.bottom}class di extends Pd{constructor(e,t){super(e),this.mark=t}get domAttrs(){return this.mark.attrs}static of(e,t){let n=new di(t||document.createElement(e.tagName),e);return t||(n.flags|=4),n}}class Nr extends St{constructor(e,t){super(e,t.length),this.text=t}sync(e){this.flags&2||(super.sync(e),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(e,t){let n=this.dom.nodeValue.length;e>n&&(e=n);let s=e,l=e,o=0;e==0&&t<0||e==n&&t>=0?F.chrome||F.gecko||(e?(s--,o=1):l<n&&(l++,o=-1)):t<0?s--:l<n&&l++;let c=Zc(this.dom,s,l).getClientRects();if(!c.length)return null;let h=c[(o?o<0:t>=0)?0:c.length-1];return F.safari&&!o&&h.width==0&&(h=Array.prototype.find.call(c,d=>d.width)||h),o?Yf(h,o<0):h||null}static of(e,t){let n=new Nr(t||document.createTextNode(e),e);return t||(n.flags|=2),n}}class tl extends St{constructor(e,t,n,s){super(e,t,s),this.widget=n}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(e){return this.flags&48?!1:(this.flags&(e<0?64:128))>0}coordsIn(e,t){return this.coordsInWidget(e,t,!1)}coordsInWidget(e,t,n){let s=this.widget.coordsAt(this.dom,e,t);if(s)return s;if(n)return Yf(this.dom.getBoundingClientRect(),this.length?e==0:t<=0);{let l=this.dom.getClientRects(),o=null;if(!l.length)return null;let c=this.flags&16?!0:this.flags&32?!1:e>0;for(let h=c?l.length-1:0;o=l[h],!(e>0?h==0:h==l.length-1||o.top<o.bottom);h+=c?-1:1);return Yf(o,!c)}}get overrideDOMText(){if(!this.length)return Le.empty;let{root:e}=this;if(!e)return Le.empty;let t=this.posAtStart;return e.view.state.doc.slice(t,t+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(e,t,n,s,l){return l||(l=e.toDOM(t),e.editable||(l.contentEditable="false")),new tl(l,n,e,s)}}class If extends St{constructor(e){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),super(t,0,e)}get isHidden(){return!0}get overrideDOMText(){return Le.empty}coordsIn(e){return this.dom.getBoundingClientRect()}}class NL{constructor(e){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=e}advance(e,t,n){let{tile:s,index:l,beforeBreak:o,parents:c}=this;for(;e||t>0;)if(s.isComposite())if(o){if(!e)break;n&&n.break(),e--,o=!1}else if(l==s.children.length){if(!e&&!c.length)break;n&&n.leave(s),o=!!s.breakAfter,{tile:s,index:l}=c.pop(),l++}else{let h=s.children[l],d=h.breakAfter;(t>0?h.length<=e:h.length<e)&&(!n||n.skip(h,0,h.length)!==!1||!h.isComposite)?(o=!!d,l++,e-=h.length):(c.push({tile:s,index:l}),s=h,l=0,n&&h.isComposite()&&n.enter(h))}else if(l==s.length)o=!!s.breakAfter,{tile:s,index:l}=c.pop(),l++;else if(e){let h=Math.min(e,s.length-l);n&&n.skip(s,l,l+h),e-=h,l+=h}else break;return this.tile=s,this.index=l,this.beforeBreak=o,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class BL{constructor(e,t,n,s){this.from=e,this.to=t,this.wrapper=n,this.rank=s}}class XL{constructor(e,t,n){this.cache=e,this.root=t,this.blockWrappers=n,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(e,t,n,s){var l;this.flushBuffer();let o=this.ensureMarks(t,n),c=o.lastChild;if(c&&c.isText()&&!(c.flags&8)&&c.length+e.length<512){this.cache.reused.set(c,2);let h=o.children[o.children.length-1]=new Nr(c.dom,c.text+e);h.parent=o}else o.append(s||Nr.of(e,(l=this.cache.find(Nr))===null||l===void 0?void 0:l.dom));this.pos+=e.length,this.afterWidget=null}addComposition(e,t){let n=this.curLine;n.dom!=t.line.dom&&(n.setDOM(this.cache.reused.has(t.line)?Xm(t.line.dom):t.line.dom),this.cache.reused.set(t.line,2));let s=n;for(let c=t.marks.length-1;c>=0;c--){let h=t.marks[c],d=s.lastChild;if(d instanceof di&&d.mark.eq(h.mark))d.dom!=h.dom&&d.setDOM(Xm(h.dom)),s=d;else{if(this.cache.reused.get(h)){let m=St.get(h.dom);m&&m.setDOM(Xm(h.dom))}let p=di.of(h.mark,h.dom);s.append(p),s=p}this.cache.reused.set(h,2)}let l=St.get(e.text);l&&this.cache.reused.set(l,2);let o=new Nr(e.text,e.text.nodeValue);o.flags|=8,s.append(o)}addInlineWidget(e,t,n){let s=this.afterWidget&&e.flags&48&&(this.afterWidget.flags&48)==(e.flags&48);s||this.flushBuffer();let l=this.ensureMarks(t,n);!s&&!(e.flags&16)&&l.append(this.getBuffer(1)),l.append(e),this.pos+=e.length,this.afterWidget=e}addMark(e,t,n){this.flushBuffer(),this.ensureMarks(t,n).append(e),this.pos+=e.length,this.afterWidget=null}addBlockWidget(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}continueWidget(e){let t=this.afterWidget||this.lastBlock;t.length+=e,this.pos+=e}addLineStart(e,t){var n;e||(e=iA);let s=Ra.start(e,t||((n=this.cache.find(Ra))===null||n===void 0?void 0:n.dom),!!t);this.getBlockPos().append(this.lastBlock=this.curLine=s)}addLine(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(e){this.blockPosCovered()||this.addLineStart(e)}ensureLine(e){this.curLine||this.addLineStart(e)}ensureMarks(e,t){var n;let s=this.curLine;for(let l=e.length-1;l>=0;l--){let o=e[l],c;if(t>0&&(c=s.lastChild)&&c instanceof di&&c.mark.eq(o))s=c,t--;else{let h=di.of(o,(n=this.cache.find(di,d=>d.mark.eq(o)))===null||n===void 0?void 0:n.dom);s.append(h),s=h,t=0}}return s}endLine(){if(this.curLine){this.flushBuffer();let e=this.curLine.lastChild;(!e||!qk(this.curLine,!1)||e.dom.nodeName!="BR"&&e.isWidget()&&!(F.ios&&qk(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget(qm,0,32)||new tl(qm.toDOM(),0,qm,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let e=this.wrappers.length-1;e>=0;e--)this.wrappers[e].to<this.pos&&this.wrappers.splice(e,1);for(let e=this.blockWrappers;e.value&&e.from<=this.pos;e.next())if(e.to>=this.pos){let t=new BL(e.from,e.to,e.value,e.rank),n=this.wrappers.length;for(;n>0&&(this.wrappers[n-1].rank-t.rank||this.wrappers[n-1].to-t.to)<0;)n--;this.wrappers.splice(n,0,t)}this.wrapperPos=this.pos}getBlockPos(){var e;this.updateBlockWrappers();let t=this.root;for(let n of this.wrappers){let s=t.lastChild;if(n.from<this.pos&&s instanceof Fs&&s.wrapper.eq(n.wrapper))t=s;else{let l=Fs.of(n.wrapper,(e=this.cache.find(Fs,o=>o.wrapper.eq(n.wrapper)))===null||e===void 0?void 0:e.dom);t.append(l),t=l}}return t}blockPosCovered(){let e=this.lastBlock;return e!=null&&!e.breakAfter&&(!e.isWidget()||(e.flags&160)>0)}getBuffer(e){let t=2|(e<0?16:32),n=this.cache.find(If,void 0,1);return n&&(n.flags=t),n||new If(t)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}}class qL{constructor(e){this.skipCount=0,this.text="",this.textOff=0,this.cursor=e.iter()}skip(e){this.textOff+e<=this.text.length?this.textOff+=e:(this.skipCount+=e-(this.text.length-this.textOff),this.text="",this.textOff=0)}next(e){if(this.textOff==this.text.length){let{value:s,lineBreak:l,done:o}=this.cursor.next(this.skipCount);if(this.skipCount=0,o)throw new Error("Ran out of text content when drawing inline views");this.text=s;let c=this.textOff=Math.min(e,s.length);return l?null:s.slice(0,c)}let t=Math.min(this.text.length,this.textOff+e),n=this.text.slice(this.textOff,t);return this.textOff=t,n}}const Gf=[tl,Ra,Nr,di,If,Fs,Dd];for(let i=0;i<Gf.length;i++)Gf[i].bucket=i;class YL{constructor(e){this.view=e,this.buckets=Gf.map(()=>[]),this.index=Gf.map(()=>0),this.reused=new Map}add(e){let t=e.constructor.bucket,n=this.buckets[t];n.length<6?n.push(e):n[this.index[t]=(this.index[t]+1)%6]=e}find(e,t,n=2){let s=e.bucket,l=this.buckets[s],o=this.index[s];for(let c=l.length-1;c>=0;c--){let h=(c+o)%l.length,d=l[h];if((!t||t(d))&&!this.reused.has(d))return l.splice(h,1),h<o&&this.index[s]--,this.reused.set(d,n),d}return null}findWidget(e,t,n){let s=this.buckets[0];if(s.length)for(let l=0,o=0;;l++){if(l==s.length){if(o)return null;o=1,l=0}let c=s[l];if(!this.reused.has(c)&&(o==0?c.widget.compare(e):c.widget.constructor==e.constructor&&e.updateDOM(c.dom,this.view)))return s.splice(l,1),l<this.index[0]&&this.index[0]--,c.widget==e&&c.length==t&&(c.flags&497)==n?(this.reused.set(c,1),c):(this.reused.set(c,2),new tl(c.dom,t,e,c.flags&-498|n))}}reuse(e){return this.reused.set(e,1),e}maybeReuse(e,t=2){if(!this.reused.has(e))return this.reused.set(e,t),e.dom}clear(){for(let e=0;e<this.buckets.length;e++)this.buckets[e].length=this.index[e]=0}}class VL{constructor(e,t,n,s,l){this.view=e,this.decorations=s,this.disallowBlockEffectsFor=l,this.openWidget=!1,this.openMarks=0,this.cache=new YL(e),this.text=new qL(e.state.doc),this.builder=new XL(this.cache,new Dd(e,e.contentDOM),Te.iter(n)),this.cache.reused.set(t,2),this.old=new NL(t),this.reuseWalker={skip:(o,c,h)=>{if(this.cache.add(o),o.isComposite())return!1},enter:o=>this.cache.add(o),leave:()=>{},break:()=>{}}}run(e,t){let n=t&&this.getCompositionContext(t.text);for(let s=0,l=0,o=0;;){let c=o<e.length?e[o++]:null,h=c?c.fromA:this.old.root.length;if(h>s){let d=h-s;this.preserve(d,!o,!c),s=h,l+=d}if(!c)break;t&&c.fromA<=t.range.fromA&&c.toA>=t.range.toA?(this.forward(c.fromA,t.range.fromA,t.range.fromA<t.range.toA?1:-1),this.emit(l,t.range.fromB),this.cache.clear(),this.builder.addComposition(t,n),this.text.skip(t.range.toB-t.range.fromB),this.forward(t.range.fromA,c.toA),this.emit(t.range.toB,c.toB)):(this.forward(c.fromA,c.toA),this.emit(l,c.toB)),l=c.toB,s=c.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(e,t,n){let s=WL(this.old),l=this.openMarks;this.old.advance(e,n?1:-1,{skip:(o,c,h)=>{if(o.isWidget())if(this.openWidget)this.builder.continueWidget(h-c);else{let d=h>0||c<o.length?tl.of(o.widget,this.view,h-c,o.flags&496,this.cache.maybeReuse(o)):this.cache.reuse(o);d.flags&256?(d.flags&=-2,this.builder.addBlockWidget(d)):(this.builder.ensureLine(null),this.builder.addInlineWidget(d,s,l),l=s.length)}else if(o.isText())this.builder.ensureLine(null),!c&&h==o.length?this.builder.addText(o.text,s,l,this.cache.reuse(o)):(this.cache.add(o),this.builder.addText(o.text.slice(c,h),s,l)),l=s.length;else if(o.isLine())o.flags&=-2,this.cache.reused.set(o,1),this.builder.addLine(o);else if(o instanceof If)this.cache.add(o);else if(o instanceof di)this.builder.ensureLine(null),this.builder.addMark(o,s,l),this.cache.reused.set(o,1),l=s.length;else return!1;this.openWidget=!1},enter:o=>{o.isLine()?this.builder.addLineStart(o.attrs,this.cache.maybeReuse(o)):(this.cache.add(o),o instanceof di&&s.unshift(o.mark)),this.openWidget=!1},leave:o=>{o.isLine()?s.length&&(s.length=l=0):o instanceof di&&(s.shift(),l=Math.min(l,s.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(e)}emit(e,t){let n=null,s=this.builder,l=0,o=Te.spans(this.decorations,e,t,{point:(c,h,d,p,m,y)=>{if(d instanceof Fr){if(this.disallowBlockEffectsFor[y]){if(d.block)throw new RangeError("Block decorations may not be specified via plugins");if(h>this.view.state.doc.lineAt(c).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}if(l=p.length,m>p.length)s.continueWidget(h-c);else{let b=d.widget||(d.block?Ma.block:Ma.inline),v=IL(d),w=this.cache.findWidget(b,h-c,v)||tl.of(b,this.view,h-c,v);d.block?(d.startSide>0&&s.addLineStartIfNotCovered(n),s.addBlockWidget(w)):(s.ensureLine(n),s.addInlineWidget(w,p,m))}n=null}else n=GL(n,d);h>c&&this.text.skip(h-c)},span:(c,h,d,p)=>{for(let m=c;m<h;){let y=this.text.next(Math.min(512,h-m));y==null?(s.addLineStartIfNotCovered(n),s.addBreak(),m++):(s.ensureLine(n),s.addText(y,d,m==c?p:d.length),m+=y.length),n=null}}});s.addLineStartIfNotCovered(n),this.openWidget=o>l,this.openMarks=o}forward(e,t,n=1){t-e<=10?this.old.advance(t-e,n,this.reuseWalker):(this.old.advance(5,-1,this.reuseWalker),this.old.advance(t-e-10,-1),this.old.advance(5,n,this.reuseWalker))}getCompositionContext(e){let t=[],n=null;for(let s=e.parentNode;;s=s.parentNode){let l=St.get(s);if(s==this.view.contentDOM)break;l instanceof di?t.push(l):l?.isLine()?n=l:s.nodeName=="DIV"&&!n&&s!=this.view.contentDOM?n=new Ra(s,iA):t.push(di.of(new iu({tagName:s.nodeName.toLowerCase(),attributes:vL(s)}),s))}return{line:n,marks:t}}}function qk(i,e){let t=n=>{for(let s of n.children)if((e?s.isText():s.length)||t(s))return!0;return!1};return t(i)}function IL(i){let e=i.isReplace?(i.startSide<0?64:0)|(i.endSide>0?128:0):i.startSide>0?32:16;return i.block&&(e|=256),e}const iA={class:"cm-line"};function GL(i,e){let t=e.spec.attributes,n=e.spec.class;return!t&&!n||(i||(i={class:"cm-line"}),t&&My(t,i),n&&(i.class+=" "+n)),i}function WL(i){let e=[];for(let t=i.parents.length;t>1;t--){let n=t==i.parents.length?i.tile:i.parents[t].tile;n instanceof di&&e.push(n.mark)}return e}function Xm(i){let e=St.get(i);return e&&e.setDOM(i.cloneNode()),i}class Ma extends bn{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Ma.inline=new Ma("span");Ma.block=new Ma("div");const qm=new class extends bn{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class Yk{constructor(e){this.view=e,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=se.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new Dd(e,e.contentDOM),this.updateInner([new Fi(0,0,0,e.state.doc.length)],null)}update(e){var t;let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:p,toA:m})=>m<this.minWidthFrom||p>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let s=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?s=this.domChanged.newSel.head:!sz(e.changes,this.hasComposition)&&!e.selectionSet&&(s=e.state.selection.main.head));let l=s>-1?KL(this.view,e.changes,s):null;if(this.domChanged=null,this.hasComposition){let{from:p,to:m}=this.hasComposition;n=new Fi(p,m,e.changes.mapPos(p,-1),e.changes.mapPos(m,1)).addToSet(n.slice())}this.hasComposition=l?{from:l.range.fromB,to:l.range.toB}:null,(F.ie||F.chrome)&&!l&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,c=this.blockWrappers;this.updateDeco();let h=ez(o,this.decorations,e.changes);h.length&&(n=Fi.extendWithRanges(n,h));let d=iz(c,this.blockWrappers,e.changes);return d.length&&(n=Fi.extendWithRanges(n,d)),l&&!n.some(p=>p.fromA<=l.range.fromA&&p.toA>=l.range.toA)&&(n=l.range.addToSet(n.slice())),this.tile.flags&2&&n.length==0?!1:(this.updateInner(n,l),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0;let{observer:n}=this.view;n.ignore(()=>{if(t||e.length){let o=this.tile,c=new VL(this.view,o,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=c.run(e,t),_0(o,c.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let l=F.chrome||F.ios?{node:n.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(l),l&&(l.written||n.selectionRange.focusNode!=l.node||!this.tile.dom.contains(l.node))&&(this.forceSelection=!0),this.tile.dom.style.height=""});let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let l of this.tile.children)l.isWidget()&&l.widget instanceof Ym&&s.push(l.dom);n.updateGaps(s)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let n of t.effects)n.is(KQ)&&(this.editContextFormatting=n.value)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:n}=this.tile,s=this.view.root.activeElement,l=s==n,o=!l&&!(this.view.state.facet(us)||n.tabIndex>-1)&&ac(n,this.view.observer.selectionRange)&&!(s&&n.contains(s));if(!(l||t||o))return;let c=this.forceSelection;this.forceSelection=!1;let h=this.view.state.selection.main,d,p;if(h.empty?p=d=this.inlineDOMNearPos(h.anchor,h.assoc||1):(p=this.inlineDOMNearPos(h.head,h.head==h.from?1:-1),d=this.inlineDOMNearPos(h.anchor,h.anchor==h.from?1:-1)),F.gecko&&h.empty&&!this.hasComposition&&HL(d)){let y=document.createTextNode("");this.view.observer.ignore(()=>d.node.insertBefore(y,d.node.childNodes[d.offset]||null)),d=p=new dn(y,0),c=!0}let m=this.view.observer.selectionRange;(c||!m.focusNode||(!oc(d.node,d.offset,m.anchorNode,m.anchorOffset)||!oc(p.node,p.offset,m.focusNode,m.focusOffset))&&!this.suppressWidgetCursorChange(m,h))&&(this.view.observer.ignore(()=>{F.android&&F.chrome&&n.contains(m.focusNode)&&nz(m.focusNode,n)&&(n.blur(),n.focus({preventScroll:!0}));let y=Ea(this.view.root);if(y)if(h.empty){if(F.gecko){let b=JL(d.node,d.offset);if(b&&b!=3){let v=(b==1?DQ:ZQ)(d.node,d.offset);v&&(d=new dn(v.node,v.offset))}}y.collapse(d.node,d.offset),h.bidiLevel!=null&&y.caretBidiLevel!==void 0&&(y.caretBidiLevel=h.bidiLevel)}else if(y.extend){y.collapse(d.node,d.offset);try{y.extend(p.node,p.offset)}catch{}}else{let b=document.createRange();h.anchor>h.head&&([d,p]=[p,d]),b.setEnd(p.node,p.offset),b.setStart(d.node,d.offset),y.removeAllRanges(),y.addRange(b)}o&&this.view.root.activeElement==n&&(n.blur(),s&&s.focus())}),this.view.observer.setSelectionRange(d,p)),this.impreciseAnchor=d.precise?null:new dn(m.anchorNode,m.anchorOffset),this.impreciseHead=p.precise?null:new dn(m.focusNode,m.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&oc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,n=Ea(e.root),{anchorNode:s,anchorOffset:l}=e.observer.selectionRange;if(!n||!t.empty||!t.assoc||!n.modify)return;let o=this.lineAt(t.head,t.assoc);if(!o)return;let c=o.posAtStart;if(t.head==c||t.head==c+o.length)return;let h=this.coordsAt(t.head,-1),d=this.coordsAt(t.head,1);if(!h||!d||h.bottom>d.top)return;let p=this.domAtPos(t.head+t.assoc,t.assoc);n.collapse(p.node,p.offset),n.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let m=e.observer.selectionRange;e.docView.posFromDOM(m.anchorNode,m.anchorOffset)!=t.from&&n.collapse(s,l)}posFromDOM(e,t){let n=this.tile.nearest(e);if(!n)return this.tile.dom.compareDocumentPosition(e)&2?0:this.view.state.doc.length;let s=n.posAtStart;if(n.isComposite()){let l;if(e==n.dom)l=n.dom.childNodes[t];else{let o=ps(e)==0?0:t==0?-1:1;for(;;){let c=e.parentNode;if(c==n.dom)break;o==0&&c.firstChild!=c.lastChild&&(e==c.firstChild?o=-1:o=1),e=c}o<0?l=e:l=e.nextSibling}if(l==n.dom.firstChild)return s;for(;l&&!St.get(l);)l=l.nextSibling;if(!l)return s+n.length;for(let o=0,c=s;;o++){let h=n.children[o];if(h.dom==l)return c;c+=h.length+h.breakAfter}}else return n.isText()?e==n.dom?s+t:s+(t?n.length:0):s}domAtPos(e,t){let{tile:n,offset:s}=this.tile.resolveBlock(e,t);return n.isWidget()?n.domPosFor(e,t):n.domIn(s,t)}inlineDOMNearPos(e,t){let n,s=-1,l=!1,o,c=-1,h=!1;return this.tile.blockTiles((d,p)=>{if(d.isWidget()){if(d.flags&32&&p>=e)return!0;d.flags&16&&(l=!0)}else{let m=p+d.length;if(p<=e&&(n=d,s=e-p,l=m<e),m>=e&&!o&&(o=d,c=e-p,h=p>e),p>e&&o)return!0}}),!n&&!o?this.domAtPos(e,t):(l&&o?n=null:h&&n&&(o=null),n&&t<0||!o?n.domIn(s,t):o.domIn(c,t))}coordsAt(e,t){let{tile:n,offset:s}=this.tile.resolveBlock(e,t);return n.isWidget()?n.widget instanceof Ym?null:n.coordsInWidget(s,t,!0):n.coordsIn(s,t)}lineAt(e,t){let{tile:n}=this.tile.resolveBlock(e,t);return n.isLine()?n:null}coordsForChar(e){let{tile:t,offset:n}=this.tile.resolveBlock(e,1);if(!t.isLine())return null;function s(l,o){if(l.isComposite())for(let c of l.children){if(c.length>=o){let h=s(c,o);if(h)return h}if(o-=c.length,o<0)break}else if(l.isText()&&o<l.length){let c=Tt(l.text,o);if(c==o)return null;let h=Zc(l.dom,o,c).getClientRects();for(let d=0;d<h.length;d++){let p=h[d];if(d==h.length-1||p.top<p.bottom&&p.left<p.right)return p}}return null}return s(t,n)}measureVisibleLineHeights(e){let t=[],{from:n,to:s}=e,l=this.view.contentDOM.clientWidth,o=l>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,c=-1,h=this.view.textDirection==Ke.LTR,d=0,p=(m,y,b)=>{for(let v=0;v<m.children.length&&!(y>s);v++){let w=m.children[v],x=y+w.length,_=w.dom.getBoundingClientRect(),{height:E}=_;if(b&&!v&&(d+=_.top-b.top),w instanceof Fs)x>n&&p(w,y,_);else if(y>=n&&(d>0&&t.push(-d),t.push(E+d),d=0,o)){let C=w.dom.lastChild,j=C?yf(C):[];if(j.length){let B=j[j.length-1],X=h?B.right-_.left:_.right-B.left;X>c&&(c=X,this.minWidth=l,this.minWidthFrom=y,this.minWidthTo=x)}}b&&v==m.children.length-1&&(d+=b.bottom-_.bottom),y=x+w.breakAfter}};return p(this.tile,0,null),t}textDirectionAt(e){let{tile:t}=this.tile.resolveBlock(e,1);return getComputedStyle(t.dom).direction=="rtl"?Ke.RTL:Ke.LTR}measureTextSize(){let e=this.tile.blockTiles(o=>{if(o.isLine()&&o.children.length&&o.length<=20){let c=0,h;for(let d of o.children){if(!d.isText()||/[^ -~]/.test(d.text))return;let p=yf(d.dom);if(p.length!=1)return;c+=p[0].width,h=p[0].height}if(c)return{lineHeight:o.dom.getBoundingClientRect().height,charWidth:c/o.length,textHeight:h}}});if(e)return e;let t=document.createElement("div"),n,s,l;return t.className="cm-line",t.style.width="99999px",t.style.position="absolute",t.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(t);let o=yf(t.firstChild)[0];n=t.getBoundingClientRect().height,s=o&&o.width?o.width/27:7,l=o&&o.height?o.height:n,t.remove()}),{lineHeight:n,charWidth:s,textHeight:l}}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,s=0;;s++){let l=s==t.viewports.length?null:t.viewports[s],o=l?l.from-1:this.view.state.doc.length;if(o>n){let c=(t.lineBlockAt(o).bottom-t.lineBlockAt(n).top)/this.view.scaleY;e.push(se.replace({widget:new Ym(c),block:!0,inclusive:!0,isBlockGap:!0}).range(n,o))}if(!l)break;n=l.to+1}return se.set(e)}updateDeco(){let e=1,t=this.view.state.facet(Md).map(l=>(this.dynamicDecorationMap[e++]=typeof l=="function")?l(this.view):l),n=!1,s=this.view.state.facet(jy).map((l,o)=>{let c=typeof l=="function";return c&&(n=!0),c?l(this.view):l});for(s.length&&(this.dynamicDecorationMap[e++]=n,t.push(Te.join(s))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;this.blockWrappers=this.view.state.facet(FQ).map(l=>typeof l=="function"?l(this.view):l)}scrollIntoView(e){if(e.isSnapshot){let d=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=d.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let d of this.view.state.facet(HQ))try{if(d(this.view,e.range,e))return!0}catch(p){pi(this.view.state,p,"scroll handler")}let{range:t}=e,n=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),s;if(!n)return;!t.empty&&(s=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(n={left:Math.min(n.left,s.left),top:Math.min(n.top,s.top),right:Math.max(n.right,s.right),bottom:Math.max(n.bottom,s.bottom)});let l=Uy(this.view),o={left:n.left-l.left,top:n.top-l.top,right:n.right+l.right,bottom:n.bottom+l.bottom},{offsetWidth:c,offsetHeight:h}=this.view.scrollDOM;kL(this.view.scrollDOM,o,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,c),-c),Math.max(Math.min(e.yMargin,h),-h),this.view.textDirection==Ke.LTR)}lineHasWidget(e){let t=n=>n.isWidget()||n.children.some(t);return t(this.tile.resolveBlock(e,1).tile)}destroy(){_0(this.tile)}}function _0(i,e){let t=e?.get(i);if(t!=1){t==null&&i.destroy();for(let n of i.children)_0(n,e)}}function HL(i){return i.node.nodeType==1&&i.node.firstChild&&(i.offset==0||i.node.childNodes[i.offset-1].contentEditable=="false")&&(i.offset==i.node.childNodes.length||i.node.childNodes[i.offset].contentEditable=="false")}function nA(i,e){let t=i.observer.selectionRange;if(!t.focusNode)return null;let n=DQ(t.focusNode,t.focusOffset),s=ZQ(t.focusNode,t.focusOffset),l=n||s;if(s&&n&&s.node!=n.node){let c=St.get(s.node);if(!c||c.isText()&&c.text!=s.node.nodeValue)l=s;else if(i.docView.lastCompositionAfterCursor){let h=St.get(n.node);!h||h.isText()&&h.text!=n.node.nodeValue||(l=s)}}if(i.docView.lastCompositionAfterCursor=l!=n,!l)return null;let o=e-l.offset;return{from:o,to:o+l.node.nodeValue.length,node:l.node}}function KL(i,e,t){let n=nA(i,t);if(!n)return null;let{node:s,from:l,to:o}=n,c=s.nodeValue;if(/[\n\r]/.test(c)||i.state.doc.sliceString(n.from,n.to)!=c)return null;let h=e.invertedDesc;return{range:new Fi(h.mapPos(l),h.mapPos(o),l,o),text:s}}function JL(i,e){return i.nodeType!=1?0:(e&&i.childNodes[e-1].contentEditable=="false"?1:0)|(e<i.childNodes.length&&i.childNodes[e].contentEditable=="false"?2:0)}let FL=class{constructor(){this.changes=[]}compareRange(e,t){ma(e,t,this.changes)}comparePoint(e,t){ma(e,t,this.changes)}boundChange(e){ma(e,e,this.changes)}};function ez(i,e,t){let n=new FL;return Te.compare(i,e,t,n),n.changes}class tz{constructor(){this.changes=[]}compareRange(e,t){ma(e,t,this.changes)}comparePoint(){}boundChange(e){ma(e,e,this.changes)}}function iz(i,e,t){let n=new tz;return Te.compare(i,e,t,n),n.changes}function nz(i,e){for(let t=i;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function sz(i,e){let t=!1;return e&&i.iterChangedRanges((n,s)=>{n<e.to&&s>e.from&&(t=!0)}),t}class Ym extends bn{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function rz(i,e,t=1){let n=i.charCategorizer(e),s=i.doc.lineAt(e),l=e-s.from;if(s.length==0)return q.cursor(e);l==0?t=1:l==s.length&&(t=-1);let o=l,c=l;t<0?o=Tt(s.text,l,!1):c=Tt(s.text,l);let h=n(s.text.slice(o,c));for(;o>0;){let d=Tt(s.text,o,!1);if(n(s.text.slice(d,o))!=h)break;o=d}for(;c<s.length;){let d=Tt(s.text,c);if(n(s.text.slice(c,d))!=h)break;c=d}return q.range(o+s.from,c+s.from)}function lz(i,e,t,n,s){let l=Math.round((n-e.left)*i.defaultCharacterWidth);if(i.lineWrapping&&t.height>i.defaultLineHeight*1.5){let c=i.viewState.heightOracle.textHeight,h=Math.floor((s-t.top-(i.defaultLineHeight-c)*.5)/c);l+=h*i.viewState.heightOracle.lineLength}let o=i.state.sliceDoc(t.from,t.to);return t.from+d0(o,l,i.state.tabSize)}function T0(i,e,t){let n=i.lineBlockAt(e);if(Array.isArray(n.type)){let s;for(let l of n.type){if(l.from>e)break;if(!(l.to<e)){if(l.from<e&&l.to>e)return l;(!s||l.type==Vt.Text&&(s.type!=l.type||(t<0?l.from<e:l.to>e)))&&(s=l)}}return s||n}return n}function az(i,e,t,n){let s=T0(i,e.head,e.assoc||-1),l=!n||s.type!=Vt.Text||!(i.lineWrapping||s.widgetLineBreaks)?null:i.coordsAtPos(e.assoc<0&&e.head>s.from?e.head-1:e.head);if(l){let o=i.dom.getBoundingClientRect(),c=i.textDirectionAt(s.from),h=i.posAtCoords({x:t==(c==Ke.LTR)?o.right-1:o.left+1,y:(l.top+l.bottom)/2});if(h!=null)return q.cursor(h,t?-1:1)}return q.cursor(t?s.to:s.from,t?-1:1)}function Vk(i,e,t,n){let s=i.state.doc.lineAt(e.head),l=i.bidiSpans(s),o=i.textDirectionAt(s.from);for(let c=e,h=null;;){let d=DL(s,l,o,c,t),p=NQ;if(!d){if(s.number==(t?i.state.doc.lines:1))return c;p=`
`,s=i.state.doc.line(s.number+(t?1:-1)),l=i.bidiSpans(s),d=i.visualLineSide(s,!t)}if(h){if(!h(p))return c}else{if(!n)return d;h=n(p)}c=d}}function oz(i,e,t){let n=i.state.charCategorizer(e),s=n(t);return l=>{let o=n(l);return s==nt.Space&&(s=o),s==o}}function cz(i,e,t,n){let s=e.head,l=t?1:-1;if(s==(t?i.state.doc.length:0))return q.cursor(s,e.assoc);let o=e.goalColumn,c,h=i.contentDOM.getBoundingClientRect(),d=i.coordsAtPos(s,e.assoc||-1),p=i.documentTop;if(d)o==null&&(o=d.left-h.left),c=l<0?d.top:d.bottom;else{let v=i.viewState.lineBlockAt(s);o==null&&(o=Math.min(h.right-h.left,i.defaultCharacterWidth*(s-v.from))),c=(l<0?v.top:v.bottom)+p}let m=h.left+o,y=n??i.viewState.heightOracle.textHeight>>1,b=Q0(i,{x:m,y:c+y*l},!1,l);return q.cursor(b.pos,b.assoc,void 0,o)}function cc(i,e,t){for(;;){let n=0;for(let s of i)s.between(e-1,e+1,(l,o,c)=>{if(e>l&&e<o){let h=n||t||(e-l<o-e?-1:1);e=h<0?l:o,n=h}});if(!n)return e}}function sA(i,e){let t=null;for(let n=0;n<e.ranges.length;n++){let s=e.ranges[n],l=null;if(s.empty){let o=cc(i,s.from,0);o!=s.from&&(l=q.cursor(o,-1))}else{let o=cc(i,s.from,-1),c=cc(i,s.to,1);(o!=s.from||c!=s.to)&&(l=q.range(s.from==s.anchor?o:c,s.from==s.head?o:c))}l&&(t||(t=e.ranges.slice()),t[n]=l)}return t?q.create(t,e.mainIndex):e}function Vm(i,e,t){let n=cc(i.state.facet(su).map(s=>s(i)),t.from,e.head>t.from?-1:1);return n==t.from?t:q.cursor(n,n<t.from?1:-1)}class Mn{constructor(e,t){this.pos=e,this.assoc=t}}function Q0(i,e,t,n){let s=i.contentDOM.getBoundingClientRect(),l=s.top+i.viewState.paddingTop,{x:o,y:c}=e,h=c-l,d;for(;;){if(h<0)return new Mn(0,1);if(h>i.viewState.docHeight)return new Mn(i.state.doc.length,-1);if(d=i.elementAtHeight(h),n==null)break;if(d.type==Vt.Text){if(n<0?d.to<i.viewport.from:d.from>i.viewport.to)break;let y=i.docView.coordsAt(n<0?d.from:d.to,n);if(y&&(n<0?y.top<=h+l:y.bottom>=h+l))break}let m=i.viewState.heightOracle.textHeight/2;h=n>0?d.bottom+m:d.top-m}if(i.viewport.from>=d.to||i.viewport.to<=d.from){if(t)return null;if(d.type==Vt.Text){let m=lz(i,s,d,o,c);return new Mn(m,m==d.from?1:-1)}}if(d.type!=Vt.Text)return h<(d.top+d.bottom)/2?new Mn(d.from,1):new Mn(d.to,-1);let p=i.docView.lineAt(d.from,2);return(!p||p.length!=d.length)&&(p=i.docView.lineAt(d.from,-2)),rA(i,p,d.from,o,c)}function rA(i,e,t,n,s){let l=-1,o=null,c=1e9,h=1e9,d=s,p=s,m=(y,b)=>{for(let v=0;v<y.length;v++){let w=y[v];if(w.top==w.bottom)continue;let x=w.left>n?w.left-n:w.right<n?n-w.right:0,_=w.top>s?w.top-s:w.bottom<s?s-w.bottom:0;w.top<=p&&w.bottom>=d&&(d=Math.min(w.top,d),p=Math.max(w.bottom,p),_=0),(l<0||(_-h||x-c)<0)&&(l>=0&&h&&c<x&&o.top<=p-2&&o.bottom>=d+2?h=0:(l=b,c=x,h=_,o=w))}};if(e.isText()){for(let b=0;b<e.length;){let v=Tt(e.text,b);if(m(Zc(e.dom,b,v).getClientRects(),b),!c&&!h)break;b=v}return n>(o.left+o.right)/2==(Ik(i,l+t)==Ke.LTR)?new Mn(t+Tt(e.text,l),-1):new Mn(t+l,1)}else{if(!e.length)return new Mn(t,1);for(let w=0;w<e.children.length;w++){let x=e.children[w];if(x.flags&48)continue;let _=(x.dom.nodeType==1?x.dom:Zc(x.dom,0,x.length)).getClientRects();if(m(_,w),!c&&!h)break}let y=e.children[l],b=e.posBefore(y,t);return y.isComposite()||y.isText()?rA(i,y,b,Math.max(o.left,Math.min(o.right,n)),s):n>(o.left+o.right)/2==(Ik(i,l+t)==Ke.LTR)?new Mn(b+y.length,-1):new Mn(b,1)}}function Ik(i,e){let t=i.state.doc.lineAt(e);return i.bidiSpans(t)[hs.find(i.bidiSpans(t),e-t.from,-1,1)].dir}const Jo="";class uz{constructor(e,t){this.points=e,this.view=t,this.text="",this.lineSeparator=t.state.facet(Ze.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Jo}readRange(e,t){if(!e)return this;let n=e.parentNode;for(let s=e;;){this.findPointBefore(n,s);let l=this.text.length;this.readNode(s);let o=St.get(s),c=s.nextSibling;if(c==t){o?.breakAfter&&!c&&n!=this.view.contentDOM&&this.lineBreak();break}let h=St.get(c);(o&&h?o.breakAfter:(o?o.breakAfter:qf(s))||qf(c)&&(s.nodeName!="BR"||o?.isWidget())&&this.text.length>l)&&!fz(c,t)&&this.lineBreak(),s=c}return this.findPointBefore(n,t),this}readTextNode(e){let t=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,t.length));for(let n=0,s=this.lineSeparator?null:/\r\n?|\n/g;;){let l=-1,o=1,c;if(this.lineSeparator?(l=t.indexOf(this.lineSeparator,n),o=this.lineSeparator.length):(c=s.exec(t))&&(l=c.index,o=c[0].length),this.append(t.slice(n,l<0?t.length:l)),l<0)break;if(this.lineBreak(),o>1)for(let h of this.points)h.node==e&&h.pos>this.text.length&&(h.pos-=o-1);n=l+o}}readNode(e){let t=St.get(e),n=t&&t.overrideDOMText;if(n!=null){this.findPointInside(e,n.length);for(let s=n.iter();!s.next().done;)s.lineBreak?this.lineBreak():this.append(s.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(let n of this.points)(e.nodeType==3?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+(hz(e,n.node,n.offset)?t:0))}}function hz(i,e,t){for(;;){if(!e||t<ps(e))return!1;if(e==i)return!0;t=rr(e)+1,e=e.parentNode}}function fz(i,e){let t;for(;!(i==e||!i);i=i.nextSibling){let n=St.get(i);if(!n?.isWidget())return!1;n&&(t||(t=[])).push(n)}if(t)for(let n of t){let s=n.overrideDOMText;if(s?.length)return!1}return!0}class Gk{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class dz{constructor(e,t,n,s){this.typeOver=s,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:l,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=lA(e.docView.tile,t,n,0))){let c=l||o?[]:gz(e),h=new uz(c,e);h.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=h.text,this.newSel=mz(c,this.bounds.from)}else{let c=e.observer.selectionRange,h=l&&l.node==c.focusNode&&l.offset==c.focusOffset||!v0(e.contentDOM,c.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(c.focusNode,c.focusOffset),d=o&&o.node==c.anchorNode&&o.offset==c.anchorOffset||!v0(e.contentDOM,c.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(c.anchorNode,c.anchorOffset),p=e.viewport;if((F.ios||F.chrome)&&e.state.selection.main.empty&&h!=d&&(p.from>0||p.to<e.state.doc.length)){let m=Math.min(h,d),y=Math.max(h,d),b=p.from-m,v=p.to-y;(b==0||b==1||m==0)&&(v==0||v==-1||y==e.state.doc.length)&&(h=0,d=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(q.range(d,h)):this.newSel=q.single(d,h)}}}function lA(i,e,t,n){if(i.isComposite()){let s=-1,l=-1,o=-1,c=-1;for(let h=0,d=n,p=n;h<i.children.length;h++){let m=i.children[h],y=d+m.length;if(d<e&&y>t)return lA(m,e,t,d);if(y>=e&&s==-1&&(s=h,l=d),d>t&&m.dom.parentNode==i.dom){o=h,c=p;break}p=y,d=y+m.breakAfter}return{from:l,to:c<0?n+i.length:c,startDOM:(s?i.children[s-1].dom.nextSibling:null)||i.dom.firstChild,endDOM:o<i.children.length&&o>=0?i.children[o].dom:null}}else return i.isText()?{from:n,to:n+i.length,startDOM:i.dom,endDOM:i.dom.nextSibling}:null}function aA(i,e){let t,{newSel:n}=e,s=i.state.selection.main,l=i.inputState.lastKeyTime>Date.now()-100?i.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:c}=e.bounds,h=s.from,d=null;(l===8||F.android&&e.text.length<c-o)&&(h=s.to,d="end");let p=oA(i.state.doc.sliceString(o,c,Jo),e.text,h-o,d);p&&(F.chrome&&l==13&&p.toB==p.from+2&&e.text.slice(p.from,p.toB)==Jo+Jo&&p.toB--,t={from:o+p.from,to:o+p.toA,insert:Le.of(e.text.slice(p.from,p.toB).split(Jo))})}else n&&(!i.hasFocus&&i.state.facet(us)||Wf(n,s))&&(n=null);if(!t&&!n)return!1;if(!t&&e.typeOver&&!s.empty&&n&&n.main.empty?t={from:s.from,to:s.to,insert:i.state.doc.slice(s.from,s.to)}:(F.mac||F.android)&&t&&t.from==t.to&&t.from==s.head-1&&/^\. ?$/.test(t.insert.toString())&&i.contentDOM.getAttribute("autocorrect")=="off"?(n&&t.insert.length==2&&(n=q.single(n.main.anchor-1,n.main.head-1)),t={from:t.from,to:t.to,insert:Le.of([t.insert.toString().replace("."," ")])}):t&&t.from>=s.from&&t.to<=s.to&&(t.from!=s.from||t.to!=s.to)&&s.to-s.from-(t.to-t.from)<=4?t={from:s.from,to:s.to,insert:i.state.doc.slice(s.from,t.from).append(t.insert).append(i.state.doc.slice(t.to,s.to))}:i.state.doc.lineAt(s.from).to<s.to&&i.docView.lineHasWidget(s.to)&&i.inputState.insertingTextAt>Date.now()-50?t={from:s.from,to:s.to,insert:i.state.toText(i.inputState.insertingText)}:F.chrome&&t&&t.from==t.to&&t.from==s.head&&t.insert.toString()==`
 `&&i.lineWrapping&&(n&&(n=q.single(n.main.anchor-1,n.main.head-1)),t={from:s.from,to:s.to,insert:Le.of([" "])}),t)return Ny(i,t,n,l);if(n&&!Wf(n,s)){let o=!1,c="select";return i.inputState.lastSelectionTime>Date.now()-50&&(i.inputState.lastSelectionOrigin=="select"&&(o=!0),c=i.inputState.lastSelectionOrigin,c=="select.pointer"&&(n=sA(i.state.facet(su).map(h=>h(i)),n))),i.dispatch({selection:n,scrollIntoView:o,userEvent:c}),!0}else return!1}function Ny(i,e,t,n=-1){if(F.ios&&i.inputState.flushIOSKey(e))return!0;let s=i.state.selection.main;if(F.android&&(e.to==s.to&&(e.from==s.from||e.from==s.from-1&&i.state.sliceDoc(e.from,s.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Oa(i.contentDOM,"Enter",13)||(e.from==s.from-1&&e.to==s.to&&e.insert.length==0||n==8&&e.insert.length<e.to-e.from&&e.to>s.head)&&Oa(i.contentDOM,"Backspace",8)||e.from==s.from&&e.to==s.to+1&&e.insert.length==0&&Oa(i.contentDOM,"Delete",46)))return!0;let l=e.insert.toString();i.inputState.composing>=0&&i.inputState.composing++;let o,c=()=>o||(o=pz(i,e,t));return i.state.facet(VQ).some(h=>h(i,e.from,e.to,l,c))||i.dispatch(c()),!0}function pz(i,e,t){let n,s=i.state,l=s.selection.main,o=-1;if(e.from==e.to&&e.from<l.from||e.from>l.to){let h=e.from<l.from?-1:1,d=h<0?l.from:l.to,p=cc(s.facet(su).map(m=>m(i)),d,h);e.from==p&&(o=p)}if(o>-1)n={changes:e,selection:q.cursor(e.from+e.insert.length,-1)};else if(e.from>=l.from&&e.to<=l.to&&e.to-e.from>=(l.to-l.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&i.inputState.composing<0){let h=l.from<e.from?s.sliceDoc(l.from,e.from):"",d=l.to>e.to?s.sliceDoc(e.to,l.to):"";n=s.replaceSelection(i.state.toText(h+e.insert.sliceString(0,void 0,i.state.lineBreak)+d))}else{let h=s.changes(e),d=t&&t.main.to<=h.newLength?t.main:void 0;if(s.selection.ranges.length>1&&(i.inputState.composing>=0||i.inputState.compositionPendingChange)&&e.to<=l.to+10&&e.to>=l.to-10){let p=i.state.sliceDoc(e.from,e.to),m,y=t&&nA(i,t.main.head);if(y){let v=e.insert.length-(e.to-e.from);m={from:y.from,to:y.to-v}}else m=i.state.doc.lineAt(l.head);let b=l.to-e.to;n=s.changeByRange(v=>{if(v.from==l.from&&v.to==l.to)return{changes:h,range:d||v.map(h)};let w=v.to-b,x=w-p.length;if(i.state.sliceDoc(x,w)!=p||w>=m.from&&x<=m.to)return{range:v};let _=s.changes({from:x,to:w,insert:e.insert}),E=v.to-l.to;return{changes:_,range:d?q.range(Math.max(0,d.anchor+E),Math.max(0,d.head+E)):v.map(_)}})}else n={changes:h,selection:d&&s.selection.replaceRange(d)}}let c="input.type";return(i.composing||i.inputState.compositionPendingChange&&i.inputState.compositionEndedAt>Date.now()-50)&&(i.inputState.compositionPendingChange=!1,c+=".compose",i.inputState.compositionFirstChange&&(c+=".start",i.inputState.compositionFirstChange=!1)),s.update(n,{userEvent:c,scrollIntoView:!0})}function oA(i,e,t,n){let s=Math.min(i.length,e.length),l=0;for(;l<s&&i.charCodeAt(l)==e.charCodeAt(l);)l++;if(l==s&&i.length==e.length)return null;let o=i.length,c=e.length;for(;o>0&&c>0&&i.charCodeAt(o-1)==e.charCodeAt(c-1);)o--,c--;if(n=="end"){let h=Math.max(0,l-Math.min(o,c));t-=o+h-l}if(o<l&&i.length<e.length){let h=t<=l&&t>=o?l-t:0;l-=h,c=l+(c-o),o=l}else if(c<l){let h=t<=l&&t>=c?l-t:0;l-=h,o=l+(o-c),c=l}return{from:l,toA:o,toB:c}}function gz(i){let e=[];if(i.root.activeElement!=i.contentDOM)return e;let{anchorNode:t,anchorOffset:n,focusNode:s,focusOffset:l}=i.observer.selectionRange;return t&&(e.push(new Gk(t,n)),(s!=t||l!=n)&&e.push(new Gk(s,l))),e}function mz(i,e){if(i.length==0)return null;let t=i[0].pos,n=i.length==2?i[1].pos:t;return t>-1&&n>-1?q.single(t+e,n+e):null}function Wf(i,e){return e.head==i.main.head&&e.anchor==i.main.anchor}class Oz{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,F.safari&&e.contentDOM.addEventListener("input",()=>null),F.gecko&&Rz(e.contentDOM.ownerDocument)}handleEvent(e){!_z(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let n=this.handlers[e];if(n){for(let s of n.observers)s(this.view,t);for(let s of n.handlers){if(t.defaultPrevented)break;if(s(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=yz(e),n=this.handlers,s=this.view.contentDOM;for(let l in t)if(l!="scroll"){let o=!t[l].handlers.length,c=n[l];c&&o!=!c.handlers.length&&(s.removeEventListener(l,this.handleEvent),c=null),c||s.addEventListener(l,this.handleEvent,{passive:o})}for(let l in n)l!="scroll"&&!t[l]&&s.removeEventListener(l,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&uA.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),F.android&&F.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return F.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=cA.find(n=>n.keyCode==e.keyCode))&&!e.ctrlKey||bz.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Oa(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:F.safari&&!F.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Wk(i,e){return(t,n)=>{try{return e.call(i,n,t)}catch(s){pi(t.state,s)}}}function yz(i){let e=Object.create(null);function t(n){return e[n]||(e[n]={observers:[],handlers:[]})}for(let n of i){let s=n.spec,l=s&&s.plugin.domEventHandlers,o=s&&s.plugin.domEventObservers;if(l)for(let c in l){let h=l[c];h&&t(c).handlers.push(Wk(n.value,h))}if(o)for(let c in o){let h=o[c];h&&t(c).observers.push(Wk(n.value,h))}}for(let n in On)t(n).handlers.push(On[n]);for(let n in nn)t(n).observers.push(nn[n]);return e}const cA=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],bz="dthko",uA=[16,17,18,20,91,92,224,225],Yh=6;function Vh(i){return Math.max(0,i)*.7+8}function vz(i,e){return Math.max(Math.abs(i.clientX-e.clientX),Math.abs(i.clientY-e.clientY))}class Sz{constructor(e,t,n,s){this.view=e,this.startEvent=t,this.style=n,this.mustSelect=s,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=xL(e.contentDOM),this.atoms=e.state.facet(su).map(o=>o(e));let l=e.contentDOM.ownerDocument;l.addEventListener("mousemove",this.move=this.move.bind(this)),l.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Ze.allowMultipleSelections)&&wz(e,t),this.dragging=xz(e,t)&&dA(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&vz(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,n=0,s=0,l=0,o=this.view.win.innerWidth,c=this.view.win.innerHeight;this.scrollParents.x&&({left:s,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:l,bottom:c}=this.scrollParents.y.getBoundingClientRect());let h=Uy(this.view);e.clientX-h.left<=s+Yh?t=-Vh(s-e.clientX):e.clientX+h.right>=o-Yh&&(t=Vh(e.clientX-o)),e.clientY-h.top<=l+Yh?n=-Vh(l-e.clientY):e.clientY+h.bottom>=c-Yh&&(n=Vh(e.clientY-c)),this.setScrollSpeed(t,n)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:t}=this,n=sA(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!n.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function wz(i,e){let t=i.state.facet(BQ);return t.length?t[0](e):F.mac?e.metaKey:e.ctrlKey}function kz(i,e){let t=i.state.facet(XQ);return t.length?t[0](e):F.mac?!e.altKey:!e.ctrlKey}function xz(i,e){let{main:t}=i.state.selection;if(t.empty)return!1;let n=Ea(i.root);if(!n||n.rangeCount==0)return!0;let s=n.getRangeAt(0).getClientRects();for(let l=0;l<s.length;l++){let o=s[l];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function _z(i,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,n;t!=i.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(n=St.get(t))&&n.isWidget()&&!n.isHidden&&n.widget.ignoreEvent(e))return!1;return!0}const On=Object.create(null),nn=Object.create(null),hA=F.ie&&F.ie_version<15||F.ios&&F.webkit_version<604;function Tz(i){let e=i.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{i.focus(),t.remove(),fA(i,t.value)},50)}function Zd(i,e,t){for(let n of i.facet(e))t=n(t,i);return t}function fA(i,e){e=Zd(i.state,Zy,e);let{state:t}=i,n,s=1,l=t.toText(e),o=l.lines==t.selection.ranges.length;if(A0!=null&&t.selection.ranges.every(h=>h.empty)&&A0==l.toString()){let h=-1;n=t.changeByRange(d=>{let p=t.doc.lineAt(d.from);if(p.from==h)return{range:d};h=p.from;let m=t.toText((o?l.line(s++).text:e)+t.lineBreak);return{changes:{from:p.from,insert:m},range:q.cursor(d.from+m.length)}})}else o?n=t.changeByRange(h=>{let d=l.line(s++);return{changes:{from:h.from,to:h.to,insert:d.text},range:q.cursor(h.from+d.length)}}):n=t.replaceSelection(l);i.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}nn.scroll=i=>{i.inputState.lastScrollTop=i.scrollDOM.scrollTop,i.inputState.lastScrollLeft=i.scrollDOM.scrollLeft};On.keydown=(i,e)=>(i.inputState.setSelectionOrigin("select"),e.keyCode==27&&i.inputState.tabFocusMode!=0&&(i.inputState.tabFocusMode=Date.now()+2e3),!1);nn.touchstart=(i,e)=>{i.inputState.lastTouchTime=Date.now(),i.inputState.setSelectionOrigin("select.pointer")};nn.touchmove=i=>{i.inputState.setSelectionOrigin("select.pointer")};On.mousedown=(i,e)=>{if(i.observer.flush(),i.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let n of i.state.facet(qQ))if(t=n(i,e),t)break;if(!t&&e.button==0&&(t=Az(i,e)),t){let n=!i.hasFocus;i.inputState.startMouseSelection(new Sz(i,e,t,n)),n&&i.observer.ignore(()=>{MQ(i.contentDOM);let l=i.root.activeElement;l&&!l.contains(i.contentDOM)&&l.blur()});let s=i.inputState.mouseSelection;if(s)return s.start(e),s.dragging===!1}else i.inputState.setSelectionOrigin("select.pointer");return!1};function Hk(i,e,t,n){if(n==1)return q.cursor(e,t);if(n==2)return rz(i.state,e,t);{let s=i.docView.lineAt(e,t),l=i.state.doc.lineAt(s?s.posAtEnd:e),o=s?s.posAtStart:l.from,c=s?s.posAtEnd:l.to;return c<i.state.doc.length&&c==l.to&&c++,q.range(o,c)}}const Qz=F.ie&&F.ie_version<=11;let Kk=null,Jk=0,Fk=0;function dA(i){if(!Qz)return i.detail;let e=Kk,t=Fk;return Kk=i,Fk=Date.now(),Jk=!e||t>Date.now()-400&&Math.abs(e.clientX-i.clientX)<2&&Math.abs(e.clientY-i.clientY)<2?(Jk+1)%3:1}function Az(i,e){let t=i.posAndSideAtCoords({x:e.clientX,y:e.clientY},!1),n=dA(e),s=i.state.selection;return{update(l){l.docChanged&&(t.pos=l.changes.mapPos(t.pos),s=s.map(l.changes))},get(l,o,c){let h=i.posAndSideAtCoords({x:l.clientX,y:l.clientY},!1),d,p=Hk(i,h.pos,h.assoc,n);if(t.pos!=h.pos&&!o){let m=Hk(i,t.pos,t.assoc,n),y=Math.min(m.from,p.from),b=Math.max(m.to,p.to);p=y<p.from?q.range(y,b):q.range(b,y)}return o?s.replaceRange(s.main.extend(p.from,p.to)):c&&n==1&&s.ranges.length>1&&(d=Cz(s,h.pos))?d:c?s.addRange(p):q.create([p])}}}function Cz(i,e){for(let t=0;t<i.ranges.length;t++){let{from:n,to:s}=i.ranges[t];if(n<=e&&s>=e)return q.create(i.ranges.slice(0,t).concat(i.ranges.slice(t+1)),i.mainIndex==t?0:i.mainIndex-(i.mainIndex>t?1:0))}return null}On.dragstart=(i,e)=>{let{selection:{main:t}}=i.state;if(e.target.draggable){let s=i.docView.tile.nearest(e.target);if(s&&s.isWidget()){let l=s.posAtStart,o=l+s.length;(l>=t.to||o<=t.from)&&(t=q.range(l,o))}}let{inputState:n}=i;return n.mouseSelection&&(n.mouseSelection.dragging=!0),n.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",Zd(i.state,Ly,i.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};On.dragend=i=>(i.inputState.draggedContent=null,!1);function ex(i,e,t,n){if(t=Zd(i.state,Zy,t),!t)return;let s=i.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:l}=i.inputState,o=n&&l&&kz(i,e)?{from:l.from,to:l.to}:null,c={from:s,insert:t},h=i.state.changes(o?[o,c]:c);i.focus(),i.dispatch({changes:h,selection:{anchor:h.mapPos(s,-1),head:h.mapPos(s,1)},userEvent:o?"move.drop":"input.drop"}),i.inputState.draggedContent=null}On.drop=(i,e)=>{if(!e.dataTransfer)return!1;if(i.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let n=Array(t.length),s=0,l=()=>{++s==t.length&&ex(i,e,n.filter(o=>o!=null).join(i.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let c=new FileReader;c.onerror=l,c.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(c.result)||(n[o]=c.result),l()},c.readAsText(t[o])}return!0}else{let n=e.dataTransfer.getData("Text");if(n)return ex(i,e,n,!0),!0}return!1};On.paste=(i,e)=>{if(i.state.readOnly)return!0;i.observer.flush();let t=hA?null:e.clipboardData;return t?(fA(i,t.getData("text/plain")||t.getData("text/uri-list")),!0):(Tz(i),!1)};function $z(i,e){let t=i.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=e,n.focus(),n.selectionEnd=e.length,n.selectionStart=0,setTimeout(()=>{n.remove(),i.focus()},50)}function Ez(i){let e=[],t=[],n=!1;for(let s of i.selection.ranges)s.empty||(e.push(i.sliceDoc(s.from,s.to)),t.push(s));if(!e.length){let s=-1;for(let{from:l}of i.selection.ranges){let o=i.doc.lineAt(l);o.number>s&&(e.push(o.text),t.push({from:o.from,to:Math.min(i.doc.length,o.to+1)})),s=o.number}n=!0}return{text:Zd(i,Ly,e.join(i.lineBreak)),ranges:t,linewise:n}}let A0=null;On.copy=On.cut=(i,e)=>{let t=Ea(i.root);if(t&&!ac(i.contentDOM,t))return!1;let{text:n,ranges:s,linewise:l}=Ez(i.state);if(!n&&!l)return!1;A0=l?n:null,e.type=="cut"&&!i.state.readOnly&&i.dispatch({changes:s,scrollIntoView:!0,userEvent:"delete.cut"});let o=hA?null:e.clipboardData;return o?(o.clearData(),o.setData("text/plain",n),!0):($z(i,n),!1)};const pA=yn.define();function gA(i,e){let t=[];for(let n of i.facet(IQ)){let s=n(i,e);s&&t.push(s)}return t.length?i.update({effects:t,annotations:pA.of(!0)}):null}function mA(i){setTimeout(()=>{let e=i.hasFocus;if(e!=i.inputState.notifiedFocused){let t=gA(i.state,e);t?i.dispatch(t):i.update([])}},10)}nn.focus=i=>{i.inputState.lastFocusTime=Date.now(),!i.scrollDOM.scrollTop&&(i.inputState.lastScrollTop||i.inputState.lastScrollLeft)&&(i.scrollDOM.scrollTop=i.inputState.lastScrollTop,i.scrollDOM.scrollLeft=i.inputState.lastScrollLeft),mA(i)};nn.blur=i=>{i.observer.clearSelectionRange(),mA(i)};nn.compositionstart=nn.compositionupdate=i=>{i.observer.editContext||(i.inputState.compositionFirstChange==null&&(i.inputState.compositionFirstChange=!0),i.inputState.composing<0&&(i.inputState.composing=0))};nn.compositionend=i=>{i.observer.editContext||(i.inputState.composing=-1,i.inputState.compositionEndedAt=Date.now(),i.inputState.compositionPendingKey=!0,i.inputState.compositionPendingChange=i.observer.pendingRecords().length>0,i.inputState.compositionFirstChange=null,F.chrome&&F.android?i.observer.flushSoon():i.inputState.compositionPendingChange?Promise.resolve().then(()=>i.observer.flush()):setTimeout(()=>{i.inputState.composing<0&&i.docView.hasComposition&&i.update([])},50))};nn.contextmenu=i=>{i.inputState.lastContextMenu=Date.now()};On.beforeinput=(i,e)=>{var t,n;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(i.inputState.insertingText=e.data,i.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&i.observer.editContext){let l=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),o=e.getTargetRanges();if(l&&o.length){let c=o[0],h=i.posAtDOM(c.startContainer,c.startOffset),d=i.posAtDOM(c.endContainer,c.endOffset);return Ny(i,{from:h,to:d,insert:i.state.toText(l)},null),!0}}let s;if(F.chrome&&F.android&&(s=cA.find(l=>l.inputType==e.inputType))&&(i.observer.delayAndroidKey(s.key,s.keyCode),s.key=="Backspace"||s.key=="Delete")){let l=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>l+10&&i.hasFocus&&(i.contentDOM.blur(),i.focus())},100)}return F.ios&&e.inputType=="deleteContentForward"&&i.observer.flushSoon(),F.safari&&e.inputType=="insertText"&&i.inputState.composing>=0&&setTimeout(()=>nn.compositionend(i,e),20),!1};const tx=new Set;function Rz(i){tx.has(i)||(tx.add(i),i.addEventListener("copy",()=>{}),i.addEventListener("cut",()=>{}))}const ix=["pre-wrap","normal","pre-line","break-spaces"];let Pa=!1;function nx(){Pa=!1}class Mz{constructor(e){this.lineWrapping=e,this.doc=Le.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return ix.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let n=0;n<e.length;n++){let s=e[n];s<0?n++:this.heightSamples[Math.floor(s*10)]||(t=!0,this.heightSamples[Math.floor(s*10)]=!0)}return t}refresh(e,t,n,s,l,o){let c=ix.indexOf(e)>-1,h=Math.abs(t-this.lineHeight)>.3||this.lineWrapping!=c||Math.abs(n-this.charWidth)>.1;if(this.lineWrapping=c,this.lineHeight=t,this.charWidth=n,this.textHeight=s,this.lineLength=l,h){this.heightSamples={};for(let d=0;d<o.length;d++){let p=o[d];p<0?d++:this.heightSamples[Math.floor(p*10)]=!0}}return h}}class Pz{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class hn{constructor(e,t,n,s,l){this.from=e,this.length=t,this.top=n,this.height=s,this._content=l}get type(){return typeof this._content=="number"?Vt.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Fr?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new hn(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Fe=(function(i){return i[i.ByPos=0]="ByPos",i[i.ByHeight=1]="ByHeight",i[i.ByPosNoHeight=2]="ByPosNoHeight",i})(Fe||(Fe={}));const bf=.001;class ei{constructor(e,t,n=2){this.length=e,this.height=t,this.flags=n}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>bf&&(Pa=!0),this.height=e)}replace(e,t,n){return ei.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,s){let l=this,o=n.doc;for(let c=s.length-1;c>=0;c--){let{fromA:h,toA:d,fromB:p,toB:m}=s[c],y=l.lineAt(h,Fe.ByPosNoHeight,n.setDoc(t),0,0),b=y.to>=d?y:l.lineAt(d,Fe.ByPosNoHeight,n,0,0);for(m+=b.to-d,d=b.to;c>0&&y.from<=s[c-1].toA;)h=s[c-1].fromA,p=s[c-1].fromB,c--,h<y.from&&(y=l.lineAt(h,Fe.ByPosNoHeight,n,0,0));p+=y.from-h,h=y.from;let v=By.build(n.setDoc(o),e,p,m);l=Hf(l,l.replace(h,d,v))}return l.updateHeight(n,0)}static empty(){return new Di(0,0,0)}static of(e){if(e.length==1)return e[0];let t=0,n=e.length,s=0,l=0;for(;;)if(t==n)if(s>l*2){let c=e[t-1];c.break?e.splice(--t,1,c.left,null,c.right):e.splice(--t,1,c.left,c.right),n+=1+c.break,s-=c.size}else if(l>s*2){let c=e[n];c.break?e.splice(n,1,c.left,null,c.right):e.splice(n,1,c.left,c.right),n+=2+c.break,l-=c.size}else break;else if(s<l){let c=e[t++];c&&(s+=c.size)}else{let c=e[--n];c&&(l+=c.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,n++),new Zz(ei.of(e.slice(0,t)),o,ei.of(e.slice(n)))}}function Hf(i,e){return i==e?i:(i.constructor!=e.constructor&&(Pa=!0),e)}ei.prototype.size=1;const Dz=se.replace({});class OA extends ei{constructor(e,t,n){super(e,t),this.deco=n,this.spaceAbove=0}mainBlock(e,t){return new hn(t,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(e,t,n,s){return this.spaceAbove&&e<n+this.spaceAbove?new hn(s,0,n,this.spaceAbove,Dz):this.mainBlock(n,s)}lineAt(e,t,n,s,l){let o=this.mainBlock(s,l);return this.spaceAbove?this.blockAt(0,n,s,l).join(o):o}forEachLine(e,t,n,s,l,o){e<=l+this.length&&t>=l&&o(this.lineAt(0,Fe.ByPos,n,s,l))}setMeasuredHeight(e){let t=e.heights[e.index++];t<0?(this.spaceAbove=-t,t=e.heights[e.index++]):this.spaceAbove=0,this.setHeight(t)}updateHeight(e,t=0,n=!1,s){return s&&s.from<=t&&s.more&&this.setMeasuredHeight(s),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Di extends OA{constructor(e,t,n){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=n}mainBlock(e,t){return new hn(t,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(e,t,n){let s=n[0];return n.length==1&&(s instanceof Di||s instanceof Xt&&s.flags&4)&&Math.abs(this.length-s.length)<10?(s instanceof Xt?s=new Di(s.length,this.height,this.spaceAbove):s.height=this.height,this.outdated||(s.outdated=!1),s):ei.of(n)}updateHeight(e,t=0,n=!1,s){return s&&s.from<=t&&s.more?this.setMeasuredHeight(s):(n||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Xt extends ei{constructor(e){super(e,0)}heightMetrics(e,t){let n=e.doc.lineAt(t).number,s=e.doc.lineAt(t+this.length).number,l=s-n+1,o,c=0;if(e.lineWrapping){let h=Math.min(this.height,e.lineHeight*l);o=h/l,this.length>l+1&&(c=(this.height-h)/(this.length-l-1))}else o=this.height/l;return{firstLine:n,lastLine:s,perLine:o,perChar:c}}blockAt(e,t,n,s){let{firstLine:l,lastLine:o,perLine:c,perChar:h}=this.heightMetrics(t,s);if(t.lineWrapping){let d=s+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length)),p=t.doc.lineAt(d),m=c+p.length*h,y=Math.max(n,e-m/2);return new hn(p.from,p.length,y,m,0)}else{let d=Math.max(0,Math.min(o-l,Math.floor((e-n)/c))),{from:p,length:m}=t.doc.line(l+d);return new hn(p,m,n+c*d,c,0)}}lineAt(e,t,n,s,l){if(t==Fe.ByHeight)return this.blockAt(e,n,s,l);if(t==Fe.ByPosNoHeight){let{from:b,to:v}=n.doc.lineAt(e);return new hn(b,v-b,0,0,0)}let{firstLine:o,perLine:c,perChar:h}=this.heightMetrics(n,l),d=n.doc.lineAt(e),p=c+d.length*h,m=d.number-o,y=s+c*m+h*(d.from-l-m);return new hn(d.from,d.length,Math.max(s,Math.min(y,s+this.height-p)),p,0)}forEachLine(e,t,n,s,l,o){e=Math.max(e,l),t=Math.min(t,l+this.length);let{firstLine:c,perLine:h,perChar:d}=this.heightMetrics(n,l);for(let p=e,m=s;p<=t;){let y=n.doc.lineAt(p);if(p==e){let v=y.number-c;m+=h*v+d*(e-l-v)}let b=h+d*y.length;o(new hn(y.from,y.length,m,b,0)),m+=b,p=y.to+1}}replace(e,t,n){let s=this.length-t;if(s>0){let l=n[n.length-1];l instanceof Xt?n[n.length-1]=new Xt(l.length+s):n.push(null,new Xt(s-1))}if(e>0){let l=n[0];l instanceof Xt?n[0]=new Xt(e+l.length):n.unshift(new Xt(e-1),null)}return ei.of(n)}decomposeLeft(e,t){t.push(new Xt(e-1),null)}decomposeRight(e,t){t.push(null,new Xt(this.length-e-1))}updateHeight(e,t=0,n=!1,s){let l=t+this.length;if(s&&s.from<=t+this.length&&s.more){let o=[],c=Math.max(t,s.from),h=-1;for(s.from>t&&o.push(new Xt(s.from-t-1).updateHeight(e,t));c<=l&&s.more;){let p=e.doc.lineAt(c).length;o.length&&o.push(null);let m=s.heights[s.index++],y=0;m<0&&(y=-m,m=s.heights[s.index++]),h==-1?h=m:Math.abs(m-h)>=bf&&(h=-2);let b=new Di(p,m,y);b.outdated=!1,o.push(b),c+=p+1}c<=l&&o.push(null,new Xt(l-c).updateHeight(e,c));let d=ei.of(o);return(h<0||Math.abs(d.height-this.height)>=bf||Math.abs(h-this.heightMetrics(e,t).perLine)>=bf)&&(Pa=!0),Hf(this,d)}else(n||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Zz extends ei{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return this.flags&1}blockAt(e,t,n,s){let l=n+this.left.height;return e<l?this.left.blockAt(e,t,n,s):this.right.blockAt(e,t,l,s+this.left.length+this.break)}lineAt(e,t,n,s,l){let o=s+this.left.height,c=l+this.left.length+this.break,h=t==Fe.ByHeight?e<o:e<c,d=h?this.left.lineAt(e,t,n,s,l):this.right.lineAt(e,t,n,o,c);if(this.break||(h?d.to<c:d.from>c))return d;let p=t==Fe.ByPosNoHeight?Fe.ByPosNoHeight:Fe.ByPos;return h?d.join(this.right.lineAt(c,p,n,o,c)):this.left.lineAt(c,p,n,s,l).join(d)}forEachLine(e,t,n,s,l,o){let c=s+this.left.height,h=l+this.left.length+this.break;if(this.break)e<h&&this.left.forEachLine(e,t,n,s,l,o),t>=h&&this.right.forEachLine(e,t,n,c,h,o);else{let d=this.lineAt(h,Fe.ByPos,n,s,l);e<d.from&&this.left.forEachLine(e,d.from-1,n,s,l,o),d.to>=e&&d.from<=t&&o(d),t>d.to&&this.right.forEachLine(d.to+1,t,n,c,h,o)}}replace(e,t,n){let s=this.left.length+this.break;if(t<s)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-s,t-s,n));let l=[];e>0&&this.decomposeLeft(e,l);let o=l.length;for(let c of n)l.push(c);if(e>0&&sx(l,o-1),t<this.length){let c=l.length;this.decomposeRight(t,l),sx(l,c)}return ei.of(l)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,s=n+this.break;if(e>=s)return this.right.decomposeRight(e-s,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<s&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?ei.of(this.break?[e,null,t]:[e,t]):(this.left=Hf(this.left,e),this.right=Hf(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,n=!1,s){let{left:l,right:o}=this,c=t+l.length+this.break,h=null;return s&&s.from<=t+l.length&&s.more?h=l=l.updateHeight(e,t,n,s):l.updateHeight(e,t,n),s&&s.from<=c+o.length&&s.more?h=o=o.updateHeight(e,c,n,s):o.updateHeight(e,c,n),h?this.balanced(l,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function sx(i,e){let t,n;i[e]==null&&(t=i[e-1])instanceof Xt&&(n=i[e+1])instanceof Xt&&i.splice(e-1,3,new Xt(t.length+1+n.length))}const Lz=5;class By{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let n=Math.min(t,this.lineEnd),s=this.nodes[this.nodes.length-1];s instanceof Di?s.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new Di(n-this.pos,-1,0)),this.writtenTo=n,t>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let s=n.widget?n.widget.estimatedHeight:0,l=n.widget?n.widget.lineBreaks:0;s<0&&(s=this.oracle.lineHeight);let o=t-e;n.block?this.addBlock(new OA(o,s,n)):(o||l||s>=Lz)&&this.addLineDeco(s,l,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Di(this.pos-e,-1,0)),this.writtenTo=this.pos}blankContent(e,t){let n=new Xt(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Di)return e;let t=new Di(0,-1,0);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,n){let s=this.ensureLine();s.length+=n,s.collapsed+=n,s.widgetHeight=Math.max(s.widgetHeight,e),s.breaks+=t,this.writtenTo=this.pos=this.pos+n}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof Di)&&!this.isCovered?this.nodes.push(new Di(0,-1,0)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let n=e;for(let s of this.nodes)s instanceof Di&&s.updateHeight(this.oracle,n),n+=s?s.length:1;return this.nodes}static build(e,t,n,s){let l=new By(n,e);return Te.spans(t,n,s,l,0),l.finish(n)}}function zz(i,e,t){let n=new jz;return Te.compare(i,e,t,n,0),n.changes}class jz{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,s){(e<t||n&&n.heightRelevant||s&&s.heightRelevant)&&ma(e,t,this.changes,5)}}function Uz(i,e){let t=i.getBoundingClientRect(),n=i.ownerDocument,s=n.defaultView||window,l=Math.max(0,t.left),o=Math.min(s.innerWidth,t.right),c=Math.max(0,t.top),h=Math.min(s.innerHeight,t.bottom);for(let d=i.parentNode;d&&d!=n.body;)if(d.nodeType==1){let p=d,m=window.getComputedStyle(p);if((p.scrollHeight>p.clientHeight||p.scrollWidth>p.clientWidth)&&m.overflow!="visible"){let y=p.getBoundingClientRect();l=Math.max(l,y.left),o=Math.min(o,y.right),c=Math.max(c,y.top),h=Math.min(d==i.parentNode?s.innerHeight:h,y.bottom)}d=m.position=="absolute"||m.position=="fixed"?p.offsetParent:p.parentNode}else if(d.nodeType==11)d=d.host;else break;return{left:l-t.left,right:Math.max(l,o)-t.left,top:c-(t.top+e),bottom:Math.max(c,h)-(t.top+e)}}function Nz(i){let e=i.getBoundingClientRect(),t=i.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function Bz(i,e){let t=i.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class Im{constructor(e,t,n,s){this.from=e,this.to=t,this.size=n,this.displaySize=s}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let s=e[n],l=t[n];if(s.from!=l.from||s.to!=l.to||s.size!=l.size)return!1}return!0}draw(e,t){return se.replace({widget:new Xz(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class Xz extends bn{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class rx{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=lx,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Ke.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(zy).some(n=>typeof n!="function"&&n.class=="cm-lineWrapping");this.heightOracle=new Mz(t),this.stateDeco=ax(e),this.heightMap=ei.empty().applyChanges(this.stateDeco,Le.empty,this.heightOracle.setDoc(e.doc),[new Fi(0,0,0,e.doc.length)]);for(let n=0;n<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());n++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=se.set(this.lineGaps.map(n=>n.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let n=0;n<=1;n++){let s=n?t.head:t.anchor;if(!e.some(({from:l,to:o})=>s>=l&&s<=o)){let{from:l,to:o}=this.lineBlockAt(s);e.push(new Ih(l,o))}}return this.viewports=e.sort((n,s)=>n.from-s.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?lx:new Xy(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Fo(e,this.scaler))})}update(e,t=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=ax(this.state);let s=e.changedRanges,l=Fi.extendWithRanges(s,zz(n,this.stateDeco,e?e.changes:_t.empty(this.state.doc.length))),o=this.heightMap.height,c=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);nx(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),l),(this.heightMap.height!=o||Pa)&&(e.flags|=2),c?(this.scrollAnchorPos=e.changes.mapPos(c.from,-1),this.scrollAnchorHeight=c.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=o);let h=l.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<h.from||t.range.head>h.to)||!this.viewportIsAppropriate(h))&&(h=this.getViewport(0,t));let d=h.from!=this.viewport.from||h.to!=this.viewport.to;this.viewport=h,e.flags|=this.updateForViewport(),(d||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&(e.selectionSet||e.focusChanged)&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(WQ)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,n=window.getComputedStyle(t),s=this.heightOracle,l=n.whiteSpace;this.defaultTextDirection=n.direction=="rtl"?Ke.RTL:Ke.LTR;let o=this.heightOracle.mustRefreshForWrapping(l)||this.mustMeasureContent,c=t.getBoundingClientRect(),h=o||this.mustMeasureContent||this.contentDOMHeight!=c.height;this.contentDOMHeight=c.height,this.mustMeasureContent=!1;let d=0,p=0;if(c.width&&c.height){let{scaleX:j,scaleY:B}=RQ(t,c);(j>.005&&Math.abs(this.scaleX-j)>.005||B>.005&&Math.abs(this.scaleY-B)>.005)&&(this.scaleX=j,this.scaleY=B,d|=16,o=h=!0)}let m=(parseInt(n.paddingTop)||0)*this.scaleY,y=(parseInt(n.paddingBottom)||0)*this.scaleY;(this.paddingTop!=m||this.paddingBottom!=y)&&(this.paddingTop=m,this.paddingBottom=y,d|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(s.lineWrapping&&(h=!0),this.editorWidth=e.scrollDOM.clientWidth,d|=16);let b=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=b&&(this.scrollAnchorHeight=-1,this.scrollTop=b),this.scrolledToBottom=PQ(e.scrollDOM);let v=(this.printing?Bz:Uz)(t,this.paddingTop),w=v.top-this.pixelViewport.top,x=v.bottom-this.pixelViewport.bottom;this.pixelViewport=v;let _=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(_!=this.inView&&(this.inView=_,_&&(h=!0)),!this.inView&&!this.scrollTarget&&!Nz(e.dom))return 0;let E=c.width;if((this.contentDOMWidth!=E||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=c.width,this.editorHeight=e.scrollDOM.clientHeight,d|=16),h){let j=e.docView.measureVisibleLineHeights(this.viewport);if(s.mustRefreshForHeights(j)&&(o=!0),o||s.lineWrapping&&Math.abs(E-this.contentDOMWidth)>s.charWidth){let{lineHeight:B,charWidth:X,textHeight:z}=e.docView.measureTextSize();o=B>0&&s.refresh(l,B,X,z,Math.max(5,E/X),j),o&&(e.docView.minWidth=0,d|=16)}w>0&&x>0?p=Math.max(w,x):w<0&&x<0&&(p=Math.min(w,x)),nx();for(let B of this.viewports){let X=B.from==this.viewport.from?j:e.docView.measureVisibleLineHeights(B);this.heightMap=(o?ei.empty().applyChanges(this.stateDeco,Le.empty,this.heightOracle,[new Fi(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(s,0,o,new Pz(B.from,X))}Pa&&(d|=2)}let C=!this.viewportIsAppropriate(this.viewport,p)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return C&&(d&2&&(d|=this.updateScaler()),this.viewport=this.getViewport(p,this.scrollTarget),d|=this.updateForViewport()),(d&2||C)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),d|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),d}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),s=this.heightMap,l=this.heightOracle,{visibleTop:o,visibleBottom:c}=this,h=new Ih(s.lineAt(o-n*1e3,Fe.ByHeight,l,0,0).from,s.lineAt(c+(1-n)*1e3,Fe.ByHeight,l,0,0).to);if(t){let{head:d}=t.range;if(d<h.from||d>h.to){let p=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),m=s.lineAt(d,Fe.ByPos,l,0,0),y;t.y=="center"?y=(m.top+m.bottom)/2-p/2:t.y=="start"||t.y=="nearest"&&d<h.from?y=m.top:y=m.bottom-p,h=new Ih(s.lineAt(y-1e3/2,Fe.ByHeight,l,0,0).from,s.lineAt(y+p+1e3/2,Fe.ByHeight,l,0,0).to)}}return h}mapViewport(e,t){let n=t.mapPos(e.from,-1),s=t.mapPos(e.to,1);return new Ih(this.heightMap.lineAt(n,Fe.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(s,Fe.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},n=0){if(!this.inView)return!0;let{top:s}=this.heightMap.lineAt(e,Fe.ByPos,this.heightOracle,0,0),{bottom:l}=this.heightMap.lineAt(t,Fe.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:c}=this;return(e==0||s<=o-Math.max(10,Math.min(-n,250)))&&(t==this.state.doc.length||l>=c+Math.max(10,Math.min(n,250)))&&s>o-2*1e3&&l<c+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];for(let s of e)t.touchesRange(s.from,s.to)||n.push(new Im(t.mapPos(s.from),t.mapPos(s.to),s.size,s.displaySize));return n}ensureLineGaps(e,t){let n=this.heightOracle.lineWrapping,s=n?1e4:2e3,l=s>>1,o=s<<1;if(this.defaultTextDirection!=Ke.LTR&&!n)return[];let c=[],h=(p,m,y,b)=>{if(m-p<l)return;let v=this.state.selection.main,w=[v.from];v.empty||w.push(v.to);for(let _ of w)if(_>p&&_<m){h(p,_-10,y,b),h(_+10,m,y,b);return}let x=Yz(e,_=>_.from>=y.from&&_.to<=y.to&&Math.abs(_.from-p)<l&&Math.abs(_.to-m)<l&&!w.some(E=>_.from<E&&_.to>E));if(!x){if(m<y.to&&t&&n&&t.visibleRanges.some(C=>C.from<=m&&C.to>=m)){let C=t.moveToLineBoundary(q.cursor(m),!1,!0).head;C>p&&(m=C)}let _=this.gapSize(y,p,m,b),E=n||_<2e6?_:2e6;x=new Im(p,m,_,E)}c.push(x)},d=p=>{if(p.length<o||p.type!=Vt.Text)return;let m=qz(p.from,p.to,this.stateDeco);if(m.total<o)return;let y=this.scrollTarget?this.scrollTarget.range.head:null,b,v;if(n){let w=s/this.heightOracle.lineLength*this.heightOracle.lineHeight,x,_;if(y!=null){let E=Wh(m,y),C=((this.visibleBottom-this.visibleTop)/2+w)/p.height;x=E-C,_=E+C}else x=(this.visibleTop-p.top-w)/p.height,_=(this.visibleBottom-p.top+w)/p.height;b=Gh(m,x),v=Gh(m,_)}else{let w=m.total*this.heightOracle.charWidth,x=s*this.heightOracle.charWidth,_=0;if(w>2e6)for(let X of e)X.from>=p.from&&X.from<p.to&&X.size!=X.displaySize&&X.from*this.heightOracle.charWidth+_<this.pixelViewport.left&&(_=X.size-X.displaySize);let E=this.pixelViewport.left+_,C=this.pixelViewport.right+_,j,B;if(y!=null){let X=Wh(m,y),z=((C-E)/2+x)/w;j=X-z,B=X+z}else j=(E-x)/w,B=(C+x)/w;b=Gh(m,j),v=Gh(m,B)}b>p.from&&h(p.from,b,p,m),v<p.to&&h(v,p.to,p,m)};for(let p of this.viewportLines)Array.isArray(p.type)?p.type.forEach(d):d(p);return c}gapSize(e,t,n,s){let l=Wh(s,n)-Wh(s,t);return this.heightOracle.lineWrapping?e.height*l:s.total*this.heightOracle.charWidth*l}updateLineGaps(e){Im.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=se.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let n=[];Te.spans(t,this.viewport.from,this.viewport.to,{span(l,o){n.push({from:l,to:o})},point(){}},20);let s=0;if(n.length!=this.visibleRanges.length)s=12;else for(let l=0;l<n.length&&!(s&8);l++){let o=this.visibleRanges[l],c=n[l];(o.from!=c.from||o.to!=c.to)&&(s|=4,e&&e.mapPos(o.from,-1)==c.from&&e.mapPos(o.to,1)==c.to||(s|=8))}return this.visibleRanges=n,s}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Fo(this.heightMap.lineAt(e,Fe.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||Fo(this.heightMap.lineAt(this.scaler.fromDOM(e),Fe.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Fo(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Ih{constructor(e,t){this.from=e,this.to=t}}function qz(i,e,t){let n=[],s=i,l=0;return Te.spans(t,i,e,{span(){},point(o,c){o>s&&(n.push({from:s,to:o}),l+=o-s),s=c}},20),s<e&&(n.push({from:s,to:e}),l+=e-s),{total:l,ranges:n}}function Gh({total:i,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let n=Math.floor(i*t);for(let s=0;;s++){let{from:l,to:o}=e[s],c=o-l;if(n<=c)return l+n;n-=c}}function Wh(i,e){let t=0;for(let{from:n,to:s}of i.ranges){if(e<=s){t+=e-n;break}t+=s-n}return t/i.total}function Yz(i,e){for(let t of i)if(e(t))return t}const lx={toDOM(i){return i},fromDOM(i){return i},scale:1,eq(i){return i==this}};function ax(i){let e=i.facet(Md).filter(n=>typeof n!="function"),t=i.facet(jy).filter(n=>typeof n!="function");return t.length&&e.push(Te.join(t)),e}class Xy{constructor(e,t,n){let s=0,l=0,o=0;this.viewports=n.map(({from:c,to:h})=>{let d=t.lineAt(c,Fe.ByPos,e,0,0).top,p=t.lineAt(h,Fe.ByPos,e,0,0).bottom;return s+=p-d,{from:c,to:h,top:d,bottom:p,domTop:0,domBottom:0}}),this.scale=(7e6-s)/(t.height-s);for(let c of this.viewports)c.domTop=o+(c.top-l)*this.scale,o=c.domBottom=c.domTop+(c.bottom-c.top),l=c.bottom}toDOM(e){for(let t=0,n=0,s=0;;t++){let l=t<this.viewports.length?this.viewports[t]:null;if(!l||e<l.top)return s+(e-n)*this.scale;if(e<=l.bottom)return l.domTop+(e-l.top);n=l.bottom,s=l.domBottom}}fromDOM(e){for(let t=0,n=0,s=0;;t++){let l=t<this.viewports.length?this.viewports[t]:null;if(!l||e<l.domTop)return n+(e-s)/this.scale;if(e<=l.domBottom)return l.top+(e-l.domTop);n=l.bottom,s=l.domBottom}}eq(e){return e instanceof Xy?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,n)=>t.from==e.viewports[n].from&&t.to==e.viewports[n].to):!1}}function Fo(i,e){if(e.scale==1)return i;let t=e.toDOM(i.top),n=e.toDOM(i.bottom);return new hn(i.from,i.length,t,n-t,Array.isArray(i._content)?i._content.map(s=>Fo(s,e)):i._content)}const Hh=K.define({combine:i=>i.join(" ")}),C0=K.define({combine:i=>i.indexOf(!0)>-1}),$0=nr.newName(),yA=nr.newName(),bA=nr.newName(),vA={"&light":"."+yA,"&dark":"."+bA};function E0(i,e,t){return new nr(e,{finish(n){return/&/.test(n)?n.replace(/&\w*/,s=>{if(s=="&")return i;if(!t||!t[s])throw new RangeError(`Unsupported selector: ${s}`);return t[s]}):i+" "+n}})}const Vz=E0("."+$0,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},vA),Iz={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Gm=F.ie&&F.ie_version<=11;class Gz{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new _L,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let n of t)this.queue.push(n);(F.ie&&F.ie_version<=11||F.ios&&e.composing)&&t.some(n=>n.type=="childList"&&n.removedNodes.length||n.type=="characterData"&&n.oldValue.length>n.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&F.android&&e.constructor.EDIT_CONTEXT!==!1&&!(F.chrome&&F.chrome_version<126)&&(this.editContext=new Hz(e),e.state.facet(us)&&(e.contentDOM.editContext=this.editContext.editContext)),Gm&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,n)=>t!=e[n]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,s=this.selectionRange;if(n.state.facet(us)?n.root.activeElement!=this.dom:!ac(this.dom,s))return;let l=s.anchorNode&&n.docView.tile.nearest(s.anchorNode);if(l&&l.isWidget()&&l.widget.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(F.ie&&F.ie_version<=11||F.android&&F.chrome)&&!n.state.selection.main.empty&&s.focusNode&&oc(s.focusNode,s.focusOffset,s.anchorNode,s.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Ea(e.root);if(!t)return!1;let n=F.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&Wz(this.view,t)||t;if(!n||this.selectionRange.eq(n))return!1;let s=ac(this.dom,n);return s&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&QL(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),s&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(n.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);for(let n of this.scrollTargets=t)n.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Iz),Gm&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Gm&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var n;if(!this.delayedAndroidKey){let s=()=>{let l=this.delayedAndroidKey;l&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=l.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&l.force&&Oa(this.dom,l.key,l.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(s)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((n=this.delayedAndroidKey)===null||n===void 0)&&n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,n=-1,s=!1;for(let l of e){let o=this.readMutation(l);o&&(o.typeOver&&(s=!0),t==-1?{from:t,to:n}=o:(t=Math.min(o.from,t),n=Math.max(o.to,n)))}return{from:t,to:n,typeOver:s}}readChange(){let{from:e,to:t,typeOver:n}=this.processRecords(),s=this.selectionChanged&&ac(this.dom,this.selectionRange);if(e<0&&!s)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let l=new dz(this.view,e,t,n);return this.view.docView.domChanged={newSel:l.newSel?l.newSel.main:null},l}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let n=this.view.state,s=aA(this.view,t);return this.view.state==n&&(t.domChanged||t.newSel&&!Wf(this.view.state.selection,t.newSel.main))&&this.view.update([]),s}readMutation(e){let t=this.view.docView.tile.nearest(e.target);if(!t||t.isWidget())return null;if(t.markDirty(e.type=="attributes"),e.type=="childList"){let n=ox(t,e.previousSibling||e.target.previousSibling,-1),s=ox(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:s?t.posBefore(s):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(us)!=e.state.facet(us)&&(e.view.contentDOM.editContext=e.state.facet(us)?this.editContext.editContext:null))}destroy(){var e,t,n;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(n=this.resizeScroll)===null||n===void 0||n.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function ox(i,e,t){for(;e;){let n=St.get(e);if(n&&n.parent==i)return n;let s=e.parentNode;e=s!=i.dom?s:t>0?e.nextSibling:e.previousSibling}return null}function cx(i,e){let t=e.startContainer,n=e.startOffset,s=e.endContainer,l=e.endOffset,o=i.docView.domAtPos(i.state.selection.main.anchor,1);return oc(o.node,o.offset,s,l)&&([t,n,s,l]=[s,l,t,n]),{anchorNode:t,anchorOffset:n,focusNode:s,focusOffset:l}}function Wz(i,e){if(e.getComposedRanges){let s=e.getComposedRanges(i.root)[0];if(s)return cx(i,s)}let t=null;function n(s){s.preventDefault(),s.stopImmediatePropagation(),t=s.getTargetRanges()[0]}return i.contentDOM.addEventListener("beforeinput",n,!0),i.dom.ownerDocument.execCommand("indent"),i.contentDOM.removeEventListener("beforeinput",n,!0),t?cx(i,t):null}class Hz{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=n=>{let s=e.state.selection.main,{anchor:l,head:o}=s,c=this.toEditorPos(n.updateRangeStart),h=this.toEditorPos(n.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:n.updateRangeStart,editorBase:c,drifted:!1});let d=h-c>n.text.length;c==this.from&&l<this.from?c=l:h==this.to&&l>this.to&&(h=l);let p=oA(e.state.sliceDoc(c,h),n.text,(d?s.from:s.to)-c,d?"end":null);if(!p){let y=q.single(this.toEditorPos(n.selectionStart),this.toEditorPos(n.selectionEnd));Wf(y,s)||e.dispatch({selection:y,userEvent:"select"});return}let m={from:p.from+c,to:p.toA+c,insert:Le.of(n.text.slice(p.from,p.toB).split(`
`))};if((F.mac||F.android)&&m.from==o-1&&/^\. ?$/.test(n.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(m={from:c,to:h,insert:Le.of([n.text.replace("."," ")])}),this.pendingContextChange=m,!e.state.readOnly){let y=this.to-this.from+(m.to-m.from+m.insert.length);Ny(e,m,q.single(this.toEditorPos(n.selectionStart,y),this.toEditorPos(n.selectionEnd,y)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),m.from<m.to&&!m.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(t.text.slice(Math.max(0,n.updateRangeStart-1),Math.min(t.text.length,n.updateRangeStart+1)))&&this.handlers.compositionend(n)},this.handlers.characterboundsupdate=n=>{let s=[],l=null;for(let o=this.toEditorPos(n.rangeStart),c=this.toEditorPos(n.rangeEnd);o<c;o++){let h=e.coordsForChar(o);l=h&&new DOMRect(h.left,h.top,h.right-h.left,h.bottom-h.top)||l||new DOMRect,s.push(l)}t.updateCharacterBounds(n.rangeStart,s)},this.handlers.textformatupdate=n=>{let s=[];for(let l of n.getTextFormats()){let o=l.underlineStyle,c=l.underlineThickness;if(!/none/i.test(o)&&!/none/i.test(c)){let h=this.toEditorPos(l.rangeStart),d=this.toEditorPos(l.rangeEnd);if(h<d){let p=`text-decoration: underline ${/^[a-z]/.test(o)?o+" ":o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${/thin/i.test(c)?1:2}px`;s.push(se.mark({attributes:{style:p}}).range(h,d))}}}e.dispatch({effects:KQ.of(se.set(s))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:n}=this.composing;this.composing=null,n&&this.reset(e.state)}};for(let n in this.handlers)t.addEventListener(n,this.handlers[n]);this.measureReq={read:n=>{this.editContext.updateControlBounds(n.contentDOM.getBoundingClientRect());let s=Ea(n.root);s&&s.rangeCount&&this.editContext.updateSelectionBounds(s.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,n=!1,s=this.pendingContextChange;return e.changes.iterChanges((l,o,c,h,d)=>{if(n)return;let p=d.length-(o-l);if(s&&o>=s.to)if(s.from==l&&s.to==o&&s.insert.eq(d)){s=this.pendingContextChange=null,t+=p,this.to+=p;return}else s=null,this.revertPending(e.state);if(l+=t,o+=t,o<=this.from)this.from+=p,this.to+=p;else if(l<this.to){if(l<this.from||o>this.to||this.to-this.from+d.length>3e4){n=!0;return}this.editContext.updateText(this.toContextPos(l),this.toContextPos(o),d.toString()),this.to+=p}t+=p}),s&&!n&&this.revertPending(e.state),!n}update(e){let t=this.pendingContextChange,n=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(n.from,n.to)&&e.transactions.some(s=>!s.isUserEvent("input.type")&&s.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,n=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),s=this.toContextPos(t.head);(this.editContext.selectionStart!=n||this.editContext.selectionEnd!=s)&&this.editContext.updateSelection(n,s)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let n=this.composing;return n&&n.drifted?n.editorBase+(e-n.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class H{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:n}=e;this.dispatchTransactions=e.dispatchTransactions||n&&(s=>s.forEach(l=>n(l,this)))||(s=>this.update(s)),this.dispatch=this.dispatch.bind(this),this._root=e.root||TL(e.parent)||document,this.viewState=new rx(e.state||Ze.create(e)),e.scrollTo&&e.scrollTo.is(qh)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(ra).map(s=>new Bm(s));for(let s of this.plugins)s.update(this);this.observer=new Gz(this),this.inputState=new Oz(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Yk(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>{this.viewState.mustMeasureContent=!0,this.requestMeasure()})}dispatch(...e){let t=e.length==1&&e[0]instanceof vt?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,n=!1,s,l=this.state;for(let y of e){if(y.startState!=l)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");l=y.state}if(this.destroyed){this.viewState.state=l;return}let o=this.hasFocus,c=0,h=null;e.some(y=>y.annotation(pA))?(this.inputState.notifiedFocused=o,c=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,h=gA(l,o),h||(c=1));let d=this.observer.delayedAndroidKey,p=null;if(d?(this.observer.clearDelayedAndroidKey(),p=this.observer.readChange(),(p&&!this.state.doc.eq(l.doc)||!this.state.selection.eq(l.selection))&&(p=null)):this.observer.clear(),l.facet(Ze.phrases)!=this.state.facet(Ze.phrases))return this.setState(l);s=Vf.create(this,l,e),s.flags|=c;let m=this.viewState.scrollTarget;try{this.updateState=2;for(let y of e){if(m&&(m=m.map(y.changes)),y.scrollIntoView){let{main:b}=y.state.selection;m=new ya(b.empty?b:q.cursor(b.head,b.head>b.anchor?-1:1))}for(let b of y.effects)b.is(qh)&&(m=b.value.clip(this.state))}this.viewState.update(s,m),this.bidiCache=Kf.update(this.bidiCache,s.changes),s.empty||(this.updatePlugins(s),this.inputState.update(s)),t=this.docView.update(s),this.state.facet(Ko)!=this.styleModules&&this.mountStyles(),n=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(y=>y.isUserEvent("select.pointer")))}finally{this.updateState=0}if(s.startState.facet(Hh)!=s.state.facet(Hh)&&(this.viewState.mustMeasureContent=!0),(t||n||m||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!s.empty)for(let y of this.state.facet(x0))try{y(s)}catch(b){pi(this.state,b,"update listener")}(h||p)&&Promise.resolve().then(()=>{h&&this.state==h.startState&&this.dispatch(h),p&&!aA(this,p)&&d.force&&Oa(this.contentDOM,d.key,d.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let n of this.plugins)n.destroy(this);this.viewState=new rx(e),this.plugins=e.facet(ra).map(n=>new Bm(n)),this.pluginMap.clear();for(let n of this.plugins)n.update(this);this.docView.destroy(),this.docView=new Yk(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(ra),n=e.state.facet(ra);if(t!=n){let s=[];for(let l of n){let o=t.indexOf(l);if(o<0)s.push(new Bm(l));else{let c=this.plugins[o];c.mustUpdate=e,s.push(c)}}for(let l of this.plugins)l.mustUpdate!=e&&l.destroy(this);this.plugins=s,this.pluginMap.clear()}else for(let s of this.plugins)s.mustUpdate=e;for(let s=0;s<this.plugins.length;s++)this.plugins[s].update(this);t!=n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(n){pi(this.state,n,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,n=this.scrollDOM,s=n.scrollTop*this.scaleY,{scrollAnchorPos:l,scrollAnchorHeight:o}=this.viewState;Math.abs(s-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let c=0;;c++){if(o<0)if(PQ(n))l=-1,o=this.viewState.heightMap.height;else{let b=this.viewState.scrollAnchorAt(s);l=b.from,o=b.top}this.updateState=1;let h=this.viewState.measure(this);if(!h&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(c>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let d=[];h&4||([this.measureRequests,d]=[d,this.measureRequests]);let p=d.map(b=>{try{return b.read(this)}catch(v){return pi(this.state,v),ux}}),m=Vf.create(this,this.state,[]),y=!1;m.flags|=h,t?t.flags|=h:t=m,this.updateState=2,m.empty||(this.updatePlugins(m),this.inputState.update(m),this.updateAttrs(),y=this.docView.update(m),y&&this.docViewUpdate());for(let b=0;b<d.length;b++)if(p[b]!=ux)try{let v=d[b];v.write&&v.write(p[b],this)}catch(v){pi(this.state,v)}if(y&&this.docView.updateSelection(!0),!m.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let v=(l<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(l).top)-o;if(v>1||v<-1){s=s+v,n.scrollTop=s/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let c of this.state.facet(x0))c(t)}get themeClasses(){return $0+" "+(this.state.facet(C0)?bA:yA)+" "+this.state.facet(Hh)}updateAttrs(){let e=hx(this,JQ,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(us)?"true":"false",class:"cm-content",style:`${F.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),hx(this,zy,t);let n=this.observer.ignore(()=>{let s=jk(this.contentDOM,this.contentAttrs,t),l=jk(this.dom,this.editorAttrs,e);return s||l});return this.editorAttrs=e,this.contentAttrs=t,n}showAnnouncements(e){let t=!0;for(let n of e)for(let s of n.effects)if(s.is(H.announce)){t&&(this.announceDOM.textContent=""),t=!1;let l=this.announceDOM.appendChild(document.createElement("div"));l.textContent=s.value}}mountStyles(){this.styleModules=this.state.facet(Ko);let e=this.state.facet(H.cspNonce);nr.mount(this.root,this.styleModules.concat(Vz).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(n=>n.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return Vm(this,e,Vk(this,e,t,n))}moveByGroup(e,t){return Vm(this,e,Vk(this,e,t,n=>oz(this,e.head,n)))}visualLineSide(e,t){let n=this.bidiSpans(e),s=this.textDirectionAt(e.from),l=n[t?n.length-1:0];return q.cursor(l.side(t,s)+e.from,l.forward(!t,s)?1:-1)}moveToLineBoundary(e,t,n=!0){return az(this,e,t,n)}moveVertically(e,t,n){return Vm(this,e,cz(this,e,t,n))}domAtPos(e,t=1){return this.docView.domAtPos(e,t)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){this.readMeasured();let n=Q0(this,e,t);return n&&n.pos}posAndSideAtCoords(e,t=!0){return this.readMeasured(),Q0(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;let s=this.state.doc.lineAt(e),l=this.bidiSpans(s),o=l[hs.find(l,e-s.from,-1,t)];return Yf(n,o.dir==Ke.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(GQ)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Kz)return UQ(e.length);let t=this.textDirectionAt(e.from),n;for(let l of this.bidiCache)if(l.from==e.from&&l.dir==t&&(l.fresh||jQ(l.isolates,n=Bk(this,e))))return l.order;n||(n=Bk(this,e));let s=PL(e.text,t,n);return this.bidiCache.push(new Kf(e.from,e.to,t,n,!0,s)),s}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||F.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{MQ(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return qh.of(new ya(typeof e=="number"?q.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,n=this.viewState.scrollAnchorAt(e);return qh.of(new ya(q.cursor(n.from),"start","start",n.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return rt.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return rt.define(()=>({}),{eventObservers:e})}static theme(e,t){let n=nr.newName(),s=[Hh.of(n),Ko.of(E0(`.${n}`,e))];return t&&t.dark&&s.push(C0.of(!0)),s}static baseTheme(e){return cr.lowest(Ko.of(E0("."+$0,e,vA)))}static findFromDOM(e){var t;let n=e.querySelector(".cm-content"),s=n&&St.get(n)||St.get(e);return((t=s?.root)===null||t===void 0?void 0:t.view)||null}}H.styleModule=Ko;H.inputHandler=VQ;H.clipboardInputFilter=Zy;H.clipboardOutputFilter=Ly;H.scrollHandler=HQ;H.focusChangeEffect=IQ;H.perLineTextDirection=GQ;H.exceptionSink=YQ;H.updateListener=x0;H.editable=us;H.mouseSelectionStyle=qQ;H.dragMovesSelection=XQ;H.clickAddsSelectionRange=BQ;H.decorations=Md;H.blockWrappers=FQ;H.outerDecorations=jy;H.atomicRanges=su;H.bidiIsolatedRanges=eA;H.scrollMargins=tA;H.darkTheme=C0;H.cspNonce=K.define({combine:i=>i.length?i[0]:""});H.contentAttributes=zy;H.editorAttributes=JQ;H.lineWrapping=H.contentAttributes.of({class:"cm-lineWrapping"});H.announce=Oe.define();const Kz=4096,ux={};class Kf{constructor(e,t,n,s,l,o){this.from=e,this.to=t,this.dir=n,this.isolates=s,this.fresh=l,this.order=o}static update(e,t){if(t.empty&&!e.some(l=>l.fresh))return e;let n=[],s=e.length?e[e.length-1].dir:Ke.LTR;for(let l=Math.max(0,e.length-10);l<e.length;l++){let o=e[l];o.dir==s&&!t.touchesRange(o.from,o.to)&&n.push(new Kf(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return n}}function hx(i,e,t){for(let n=i.state.facet(e),s=n.length-1;s>=0;s--){let l=n[s],o=typeof l=="function"?l(i):l;o&&My(o,t)}return t}const Jz=F.mac?"mac":F.windows?"win":F.linux?"linux":"key";function Fz(i,e){const t=i.split(/-(?!$)/);let n=t[t.length-1];n=="Space"&&(n=" ");let s,l,o,c;for(let h=0;h<t.length-1;++h){const d=t[h];if(/^(cmd|meta|m)$/i.test(d))c=!0;else if(/^a(lt)?$/i.test(d))s=!0;else if(/^(c|ctrl|control)$/i.test(d))l=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))e=="mac"?c=!0:l=!0;else throw new Error("Unrecognized modifier name: "+d)}return s&&(n="Alt-"+n),l&&(n="Ctrl-"+n),c&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function Kh(i,e,t){return e.altKey&&(i="Alt-"+i),e.ctrlKey&&(i="Ctrl-"+i),e.metaKey&&(i="Meta-"+i),t!==!1&&e.shiftKey&&(i="Shift-"+i),i}const e3=cr.default(H.domEventHandlers({keydown(i,e){return wA(SA(e.state),i,e,"editor")}})),Ld=K.define({enables:e3}),fx=new WeakMap;function SA(i){let e=i.facet(Ld),t=fx.get(e);return t||fx.set(e,t=n3(e.reduce((n,s)=>n.concat(s),[]))),t}function t3(i,e,t){return wA(SA(i.state),e,i,t)}let Ws=null;const i3=4e3;function n3(i,e=Jz){let t=Object.create(null),n=Object.create(null),s=(o,c)=>{let h=n[o];if(h==null)n[o]=c;else if(h!=c)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},l=(o,c,h,d,p)=>{var m,y;let b=t[o]||(t[o]=Object.create(null)),v=c.split(/ (?!$)/).map(_=>Fz(_,e));for(let _=1;_<v.length;_++){let E=v.slice(0,_).join(" ");s(E,!0),b[E]||(b[E]={preventDefault:!0,stopPropagation:!1,run:[C=>{let j=Ws={view:C,prefix:E,scope:o};return setTimeout(()=>{Ws==j&&(Ws=null)},i3),!0}]})}let w=v.join(" ");s(w,!1);let x=b[w]||(b[w]={preventDefault:!1,stopPropagation:!1,run:((y=(m=b._any)===null||m===void 0?void 0:m.run)===null||y===void 0?void 0:y.slice())||[]});h&&x.run.push(h),d&&(x.preventDefault=!0),p&&(x.stopPropagation=!0)};for(let o of i){let c=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let d of c){let p=t[d]||(t[d]=Object.create(null));p._any||(p._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:m}=o;for(let y in p)p[y].run.push(b=>m(b,R0))}let h=o[e]||o.key;if(h)for(let d of c)l(d,h,o.run,o.preventDefault,o.stopPropagation),o.shift&&l(d,"Shift-"+h,o.shift,o.preventDefault,o.stopPropagation)}return t}let R0=null;function wA(i,e,t,n){R0=e;let s=OL(e),l=ui(s,0),o=Rn(l)==s.length&&s!=" ",c="",h=!1,d=!1,p=!1;Ws&&Ws.view==t&&Ws.scope==n&&(c=Ws.prefix+" ",uA.indexOf(e.keyCode)<0&&(d=!0,Ws=null));let m=new Set,y=x=>{if(x){for(let _ of x.run)if(!m.has(_)&&(m.add(_),_(t)))return x.stopPropagation&&(p=!0),!0;x.preventDefault&&(x.stopPropagation&&(p=!0),d=!0)}return!1},b=i[n],v,w;return b&&(y(b[c+Kh(s,e,!o)])?h=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(F.windows&&e.ctrlKey&&e.altKey)&&!(F.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(v=sr[e.keyCode])&&v!=s?(y(b[c+Kh(v,e,!0)])||e.shiftKey&&(w=Pc[e.keyCode])!=s&&w!=v&&y(b[c+Kh(w,e,!1)]))&&(h=!0):o&&e.shiftKey&&y(b[c+Kh(s,e,!0)])&&(h=!0),!h&&y(b._any)&&(h=!0)),d&&(h=!0),h&&p&&e.stopPropagation(),R0=null,h}class ru{constructor(e,t,n,s,l){this.className=e,this.left=t,this.top=n,this.width=s,this.height=l}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,n){if(n.empty){let s=e.coordsAtPos(n.head,n.assoc||1);if(!s)return[];let l=kA(e);return[new ru(t,s.left-l.left,s.top-l.top,null,s.bottom-s.top)]}else return s3(e,t,n)}}function kA(i){let e=i.scrollDOM.getBoundingClientRect();return{left:(i.textDirection==Ke.LTR?e.left:e.right-i.scrollDOM.clientWidth*i.scaleX)-i.scrollDOM.scrollLeft*i.scaleX,top:e.top-i.scrollDOM.scrollTop*i.scaleY}}function dx(i,e,t,n){let s=i.coordsAtPos(e,t*2);if(!s)return n;let l=i.dom.getBoundingClientRect(),o=(s.top+s.bottom)/2,c=i.posAtCoords({x:l.left+1,y:o}),h=i.posAtCoords({x:l.right-1,y:o});return c==null||h==null?n:{from:Math.max(n.from,Math.min(c,h)),to:Math.min(n.to,Math.max(c,h))}}function s3(i,e,t){if(t.to<=i.viewport.from||t.from>=i.viewport.to)return[];let n=Math.max(t.from,i.viewport.from),s=Math.min(t.to,i.viewport.to),l=i.textDirection==Ke.LTR,o=i.contentDOM,c=o.getBoundingClientRect(),h=kA(i),d=o.querySelector(".cm-line"),p=d&&window.getComputedStyle(d),m=c.left+(p?parseInt(p.paddingLeft)+Math.min(0,parseInt(p.textIndent)):0),y=c.right-(p?parseInt(p.paddingRight):0),b=T0(i,n,1),v=T0(i,s,-1),w=b.type==Vt.Text?b:null,x=v.type==Vt.Text?v:null;if(w&&(i.lineWrapping||b.widgetLineBreaks)&&(w=dx(i,n,1,w)),x&&(i.lineWrapping||v.widgetLineBreaks)&&(x=dx(i,s,-1,x)),w&&x&&w.from==x.from&&w.to==x.to)return E(C(t.from,t.to,w));{let B=w?C(t.from,null,w):j(b,!1),X=x?C(null,t.to,x):j(v,!0),z=[];return(w||b).to<(x||v).from-(w&&x?1:0)||b.widgetLineBreaks>1&&B.bottom+i.defaultLineHeight/2<X.top?z.push(_(m,B.bottom,y,X.top)):B.bottom<X.top&&i.elementAtHeight((B.bottom+X.top)/2).type==Vt.Text&&(B.bottom=X.top=(B.bottom+X.top)/2),E(B).concat(z).concat(E(X))}function _(B,X,z,ee){return new ru(e,B-h.left,X-h.top,Math.max(0,z-B),ee-X)}function E({top:B,bottom:X,horizontal:z}){let ee=[];for(let re=0;re<z.length;re+=2)ee.push(_(z[re],B,z[re+1],X));return ee}function C(B,X,z){let ee=1e9,re=-1e9,$e=[];function he(fe,ye,Z,I,le){let me=i.coordsAtPos(fe,fe==z.to?-2:2),_e=i.coordsAtPos(Z,Z==z.from?2:-2);!me||!_e||(ee=Math.min(me.top,_e.top,ee),re=Math.max(me.bottom,_e.bottom,re),le==Ke.LTR?$e.push(l&&ye?m:me.left,l&&I?y:_e.right):$e.push(!l&&I?m:_e.left,!l&&ye?y:me.right))}let te=B??z.from,oe=X??z.to;for(let fe of i.visibleRanges)if(fe.to>te&&fe.from<oe)for(let ye=Math.max(fe.from,te),Z=Math.min(fe.to,oe);;){let I=i.state.doc.lineAt(ye);for(let le of i.bidiSpans(I)){let me=le.from+I.from,_e=le.to+I.from;if(me>=Z)break;_e>ye&&he(Math.max(me,ye),B==null&&me<=te,Math.min(_e,Z),X==null&&_e>=oe,le.dir)}if(ye=I.to+1,ye>=Z)break}return $e.length==0&&he(te,B==null,oe,X==null,i.textDirection),{top:ee,bottom:re,horizontal:$e}}function j(B,X){let z=c.top+(X?B.top:B.bottom);return{top:z,bottom:z,horizontal:[]}}}function r3(i,e){return i.constructor==e.constructor&&i.eq(e)}class l3{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(vf)!=e.state.facet(vf)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,n=e.facet(vf);for(;t<n.length&&n[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,n)=>!r3(t,this.drawn[n]))){let t=this.dom.firstChild,n=0;for(let s of e)s.update&&t&&s.constructor&&this.drawn[n].constructor&&s.update(t,this.drawn[n])?(t=t.nextSibling,n++):this.dom.insertBefore(s.draw(),t);for(;t;){let s=t.nextSibling;t.remove(),t=s}this.drawn=e,F.safari&&F.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const vf=K.define();function xA(i){return[rt.define(e=>new l3(e,i)),vf.of(i)]}const Lc=K.define({combine(i){return Xn(i,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function a3(i={}){return[Lc.of(i),o3,c3,u3,WQ.of(!0)]}function _A(i){return i.startState.facet(Lc)!=i.state.facet(Lc)}const o3=xA({above:!0,markers(i){let{state:e}=i,t=e.facet(Lc),n=[];for(let s of e.selection.ranges){let l=s==e.selection.main;if(s.empty||t.drawRangeCursor){let o=l?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",c=s.empty?s:q.cursor(s.head,s.head>s.anchor?-1:1);for(let h of ru.forRange(i,o,c))n.push(h)}}return n},update(i,e){i.transactions.some(n=>n.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=_A(i);return t&&px(i.state,e),i.docChanged||i.selectionSet||t},mount(i,e){px(e.state,i)},class:"cm-cursorLayer"});function px(i,e){e.style.animationDuration=i.facet(Lc).cursorBlinkRate+"ms"}const c3=xA({above:!1,markers(i){return i.state.selection.ranges.map(e=>e.empty?[]:ru.forRange(i,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(i,e){return i.docChanged||i.selectionSet||i.viewportChanged||_A(i)},class:"cm-selectionLayer"}),u3=cr.highest(H.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),TA=Oe.define({map(i,e){return i==null?null:e.mapPos(i)}}),ec=Dt.define({create(){return null},update(i,e){return i!=null&&(i=e.changes.mapPos(i)),e.effects.reduce((t,n)=>n.is(TA)?n.value:t,i)}}),h3=rt.fromClass(class{constructor(i){this.view=i,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(i){var e;let t=i.state.field(ec);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(i.startState.field(ec)!=t||i.docChanged||i.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:i}=this,e=i.state.field(ec),t=e!=null&&i.coordsAtPos(e);if(!t)return null;let n=i.scrollDOM.getBoundingClientRect();return{left:t.left-n.left+i.scrollDOM.scrollLeft*i.scaleX,top:t.top-n.top+i.scrollDOM.scrollTop*i.scaleY,height:t.bottom-t.top}}drawCursor(i){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;i?(this.cursor.style.left=i.left/e+"px",this.cursor.style.top=i.top/t+"px",this.cursor.style.height=i.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(i){this.view.state.field(ec)!=i&&this.view.dispatch({effects:TA.of(i)})}},{eventObservers:{dragover(i){this.setDropPos(this.view.posAtCoords({x:i.clientX,y:i.clientY}))},dragleave(i){(i.target==this.view.contentDOM||!this.view.contentDOM.contains(i.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function f3(){return[ec,h3]}function gx(i,e,t,n,s){e.lastIndex=0;for(let l=i.iterRange(t,n),o=t,c;!l.next().done;o+=l.value.length)if(!l.lineBreak)for(;c=e.exec(l.value);)s(o+c.index,c)}function d3(i,e){let t=i.visibleRanges;if(t.length==1&&t[0].from==i.viewport.from&&t[0].to==i.viewport.to)return t;let n=[];for(let{from:s,to:l}of t)s=Math.max(i.state.doc.lineAt(s).from,s-e),l=Math.min(i.state.doc.lineAt(l).to,l+e),n.length&&n[n.length-1].to>=s?n[n.length-1].to=l:n.push({from:s,to:l});return n}class p3{constructor(e){const{regexp:t,decoration:n,decorate:s,boundary:l,maxLength:o=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,s)this.addMatch=(c,h,d,p)=>s(p,d,d+c[0].length,c,h);else if(typeof n=="function")this.addMatch=(c,h,d,p)=>{let m=n(c,h,d);m&&p(d,d+c[0].length,m)};else if(n)this.addMatch=(c,h,d,p)=>p(d,d+c[0].length,n);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=l,this.maxLength=o}createDeco(e){let t=new ds,n=t.add.bind(t);for(let{from:s,to:l}of d3(e,this.maxLength))gx(e.state.doc,this.regexp,s,l,(o,c)=>this.addMatch(c,e,o,n));return t.finish()}updateDeco(e,t){let n=1e9,s=-1;return e.docChanged&&e.changes.iterChanges((l,o,c,h)=>{h>=e.view.viewport.from&&c<=e.view.viewport.to&&(n=Math.min(c,n),s=Math.max(h,s))}),e.viewportMoved||s-n>1e3?this.createDeco(e.view):s>-1?this.updateRange(e.view,t.map(e.changes),n,s):t}updateRange(e,t,n,s){for(let l of e.visibleRanges){let o=Math.max(l.from,n),c=Math.min(l.to,s);if(c>=o){let h=e.state.doc.lineAt(o),d=h.to<c?e.state.doc.lineAt(c):h,p=Math.max(l.from,h.from),m=Math.min(l.to,d.to);if(this.boundary){for(;o>h.from;o--)if(this.boundary.test(h.text[o-1-h.from])){p=o;break}for(;c<d.to;c++)if(this.boundary.test(d.text[c-d.from])){m=c;break}}let y=[],b,v=(w,x,_)=>y.push(_.range(w,x));if(h==d)for(this.regexp.lastIndex=p-h.from;(b=this.regexp.exec(h.text))&&b.index<m-h.from;)this.addMatch(b,e,b.index+h.from,v);else gx(e.state.doc,this.regexp,p,m,(w,x)=>this.addMatch(x,e,w,v));t=t.update({filterFrom:p,filterTo:m,filter:(w,x)=>w<p||x>m,add:y})}}return t}}const M0=/x/.unicode!=null?"gu":"g",g3=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,M0),m3={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Wm=null;function O3(){var i;if(Wm==null&&typeof document<"u"&&document.body){let e=document.body.style;Wm=((i=e.tabSize)!==null&&i!==void 0?i:e.MozTabSize)!=null}return Wm||!1}const Sf=K.define({combine(i){let e=Xn(i,{render:null,specialChars:g3,addSpecialChars:null});return(e.replaceTabs=!O3())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,M0)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,M0)),e}});function y3(i={}){return[Sf.of(i),b3()]}let mx=null;function b3(){return mx||(mx=rt.fromClass(class{constructor(i){this.view=i,this.decorations=se.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(i.state.facet(Sf)),this.decorations=this.decorator.createDeco(i)}makeDecorator(i){return new p3({regexp:i.specialChars,decoration:(e,t,n)=>{let{doc:s}=t.state,l=ui(e[0],0);if(l==9){let o=s.lineAt(n),c=t.state.tabSize,h=Xa(o.text,c,n-o.from);return se.replace({widget:new k3((c-h%c)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[l]||(this.decorationCache[l]=se.replace({widget:new w3(i,l)}))},boundary:i.replaceTabs?void 0:/[^]/})}update(i){let e=i.state.facet(Sf);i.startState.facet(Sf)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(i.view)):this.decorations=this.decorator.updateDeco(i,this.decorations)}},{decorations:i=>i.decorations}))}const v3="";function S3(i){return i>=32?v3:i==10?"":String.fromCharCode(9216+i)}class w3 extends bn{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=S3(this.code),n=e.state.phrase("Control character")+" "+(m3[this.code]||"0x"+this.code.toString(16)),s=this.options.render&&this.options.render(this.code,n,t);if(s)return s;let l=document.createElement("span");return l.textContent=t,l.title=n,l.setAttribute("aria-label",n),l.className="cm-specialChar",l}ignoreEvent(){return!1}}class k3 extends bn{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function x3(){return T3}const _3=se.line({class:"cm-activeLine"}),T3=rt.fromClass(class{constructor(i){this.decorations=this.getDeco(i)}update(i){(i.docChanged||i.selectionSet)&&(this.decorations=this.getDeco(i.view))}getDeco(i){let e=-1,t=[];for(let n of i.state.selection.ranges){let s=i.lineBlockAt(n.head);s.from>e&&(t.push(_3.range(s.from)),e=s.from)}return se.set(t)}},{decorations:i=>i.decorations}),P0=2e3;function Q3(i,e,t){let n=Math.min(e.line,t.line),s=Math.max(e.line,t.line),l=[];if(e.off>P0||t.off>P0||e.col<0||t.col<0){let o=Math.min(e.off,t.off),c=Math.max(e.off,t.off);for(let h=n;h<=s;h++){let d=i.doc.line(h);d.length<=c&&l.push(q.range(d.from+o,d.to+c))}}else{let o=Math.min(e.col,t.col),c=Math.max(e.col,t.col);for(let h=n;h<=s;h++){let d=i.doc.line(h),p=d0(d.text,o,i.tabSize,!0);if(p<0)l.push(q.cursor(d.to));else{let m=d0(d.text,c,i.tabSize);l.push(q.range(d.from+p,d.from+m))}}}return l}function A3(i,e){let t=i.coordsAtPos(i.viewport.from);return t?Math.round(Math.abs((t.left-e)/i.defaultCharacterWidth)):-1}function Ox(i,e){let t=i.posAtCoords({x:e.clientX,y:e.clientY},!1),n=i.state.doc.lineAt(t),s=t-n.from,l=s>P0?-1:s==n.length?A3(i,e.clientX):Xa(n.text,i.state.tabSize,t-n.from);return{line:n.number,col:l,off:s}}function C3(i,e){let t=Ox(i,e),n=i.state.selection;return t?{update(s){if(s.docChanged){let l=s.changes.mapPos(s.startState.doc.line(t.line).from),o=s.state.doc.lineAt(l);t={line:o.number,col:t.col,off:Math.min(t.off,o.length)},n=n.map(s.changes)}},get(s,l,o){let c=Ox(i,s);if(!c)return n;let h=Q3(i.state,t,c);return h.length?o?q.create(h.concat(n.ranges)):q.create(h):n}}:null}function $3(i){let e=(t=>t.altKey&&t.button==0);return H.mouseSelectionStyle.of((t,n)=>e(n)?C3(t,n):null)}const E3={Alt:[18,i=>!!i.altKey],Control:[17,i=>!!i.ctrlKey],Shift:[16,i=>!!i.shiftKey],Meta:[91,i=>!!i.metaKey]},R3={style:"cursor: crosshair"};function M3(i={}){let[e,t]=E3[i.key||"Alt"],n=rt.fromClass(class{constructor(s){this.view=s,this.isDown=!1}set(s){this.isDown!=s&&(this.isDown=s,this.view.update([]))}},{eventObservers:{keydown(s){this.set(s.keyCode==e||t(s))},keyup(s){(s.keyCode==e||!t(s))&&this.set(!1)},mousemove(s){this.set(t(s))}}});return[n,H.contentAttributes.of(s=>{var l;return!((l=s.plugin(n))===null||l===void 0)&&l.isDown?R3:null})]}const Jh="-10000px";class QA{constructor(e,t,n,s){this.facet=t,this.createTooltipView=n,this.removeTooltipView=s,this.input=e.state.facet(t),this.tooltips=this.input.filter(o=>o);let l=null;this.tooltipViews=this.tooltips.map(o=>l=n(o,l))}update(e,t){var n;let s=e.state.facet(this.facet),l=s.filter(h=>h);if(s===this.input){for(let h of this.tooltipViews)h.update&&h.update(e);return!1}let o=[],c=t?[]:null;for(let h=0;h<l.length;h++){let d=l[h],p=-1;if(d){for(let m=0;m<this.tooltips.length;m++){let y=this.tooltips[m];y&&y.create==d.create&&(p=m)}if(p<0)o[h]=this.createTooltipView(d,h?o[h-1]:null),c&&(c[h]=!!d.above);else{let m=o[h]=this.tooltipViews[p];c&&(c[h]=t[p]),m.update&&m.update(e)}}}for(let h of this.tooltipViews)o.indexOf(h)<0&&(this.removeTooltipView(h),(n=h.destroy)===null||n===void 0||n.call(h));return t&&(c.forEach((h,d)=>t[d]=h),t.length=c.length),this.input=s,this.tooltips=l,this.tooltipViews=o,!0}}function P3(i){let e=i.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const Hm=K.define({combine:i=>{var e,t,n;return{position:F.ios?"absolute":((e=i.find(s=>s.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=i.find(s=>s.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((n=i.find(s=>s.tooltipSpace))===null||n===void 0?void 0:n.tooltipSpace)||P3}}}),yx=new WeakMap,qy=rt.fromClass(class{constructor(i){this.view=i,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=i.state.facet(Hm);this.position=e.position,this.parent=e.parent,this.classes=i.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new QA(i,Yy,(t,n)=>this.createTooltip(t,n),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),i.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let i of this.manager.tooltipViews)this.intersectionObserver.observe(i.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(i){i.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(i,this.above);e&&this.observeIntersection();let t=e||i.geometryChanged,n=i.state.facet(Hm);if(n.position!=this.position&&!this.madeAbsolute){this.position=n.position;for(let s of this.manager.tooltipViews)s.dom.style.position=this.position;t=!0}if(n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer();for(let s of this.manager.tooltipViews)this.container.appendChild(s.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(i,e){let t=i.create(this.view),n=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),i.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let s=document.createElement("div");s.className="cm-tooltip-arrow",t.dom.appendChild(s)}return t.dom.style.position=this.position,t.dom.style.top=Jh,t.dom.style.left="0px",this.container.insertBefore(t.dom,n),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var i,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let n of this.manager.tooltipViews)n.dom.remove(),(i=n.destroy)===null||i===void 0||i.call(n);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let i=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:l}=this.manager.tooltipViews[0];if(F.safari){let o=l.getBoundingClientRect();t=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}else t=!!l.offsetParent&&l.offsetParent!=this.container.ownerDocument.body}if(t||this.position=="absolute")if(this.parent){let l=this.parent.getBoundingClientRect();l.width&&l.height&&(i=l.width/this.parent.offsetWidth,e=l.height/this.parent.offsetHeight)}else({scaleX:i,scaleY:e}=this.view.viewState);let n=this.view.scrollDOM.getBoundingClientRect(),s=Uy(this.view);return{visible:{left:n.left+s.left,top:n.top+s.top,right:n.right-s.right,bottom:n.bottom-s.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((l,o)=>{let c=this.manager.tooltipViews[o];return c.getCoords?c.getCoords(l.pos):this.view.coordsAtPos(l.pos)}),size:this.manager.tooltipViews.map(({dom:l})=>l.getBoundingClientRect()),space:this.view.state.facet(Hm).tooltipSpace(this.view),scaleX:i,scaleY:e,makeAbsolute:t}}writeMeasure(i){var e;if(i.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let c of this.manager.tooltipViews)c.dom.style.position="absolute"}let{visible:t,space:n,scaleX:s,scaleY:l}=i,o=[];for(let c=0;c<this.manager.tooltips.length;c++){let h=this.manager.tooltips[c],d=this.manager.tooltipViews[c],{dom:p}=d,m=i.pos[c],y=i.size[c];if(!m||h.clip!==!1&&(m.bottom<=Math.max(t.top,n.top)||m.top>=Math.min(t.bottom,n.bottom)||m.right<Math.max(t.left,n.left)-.1||m.left>Math.min(t.right,n.right)+.1)){p.style.top=Jh;continue}let b=h.arrow?d.dom.querySelector(".cm-tooltip-arrow"):null,v=b?7:0,w=y.right-y.left,x=(e=yx.get(d))!==null&&e!==void 0?e:y.bottom-y.top,_=d.offset||Z3,E=this.view.textDirection==Ke.LTR,C=y.width>n.right-n.left?E?n.left:n.right-y.width:E?Math.max(n.left,Math.min(m.left-(b?14:0)+_.x,n.right-w)):Math.min(Math.max(n.left,m.left-w+(b?14:0)-_.x),n.right-w),j=this.above[c];!h.strictSide&&(j?m.top-x-v-_.y<n.top:m.bottom+x+v+_.y>n.bottom)&&j==n.bottom-m.bottom>m.top-n.top&&(j=this.above[c]=!j);let B=(j?m.top-n.top:n.bottom-m.bottom)-v;if(B<x&&d.resize!==!1){if(B<this.view.defaultLineHeight){p.style.top=Jh;continue}yx.set(d,x),p.style.height=(x=B)/l+"px"}else p.style.height&&(p.style.height="");let X=j?m.top-x-v-_.y:m.bottom+v+_.y,z=C+w;if(d.overlap!==!0)for(let ee of o)ee.left<z&&ee.right>C&&ee.top<X+x&&ee.bottom>X&&(X=j?ee.top-x-2-v:ee.bottom+v+2);if(this.position=="absolute"?(p.style.top=(X-i.parent.top)/l+"px",bx(p,(C-i.parent.left)/s)):(p.style.top=X/l+"px",bx(p,C/s)),b){let ee=m.left+(E?_.x:-_.x)-(C+14-7);b.style.left=ee/s+"px"}d.overlap!==!0&&o.push({left:C,top:X,right:z,bottom:X+x}),p.classList.toggle("cm-tooltip-above",j),p.classList.toggle("cm-tooltip-below",!j),d.positioned&&d.positioned(i.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let i of this.manager.tooltipViews)i.dom.style.top=Jh}},{eventObservers:{scroll(){this.maybeMeasure()}}});function bx(i,e){let t=parseInt(i.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(i.style.left=e+"px")}const D3=H.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Z3={x:0,y:0},Yy=K.define({enables:[qy,D3]}),Jf=K.define({combine:i=>i.reduce((e,t)=>e.concat(t),[])});class zd{static create(e){return new zd(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new QA(e,Jf,(t,n)=>this.createHostedView(t,n),t=>t.dom.remove())}createHostedView(e,t){let n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(n.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&n.mount&&n.mount(this.view),n}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let n of this.manager.tooltipViews){let s=n[e];if(s!==void 0){if(t===void 0)t=s;else if(t!==s)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const L3=Yy.compute([Jf],i=>{let e=i.facet(Jf);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var n;return(n=t.end)!==null&&n!==void 0?n:t.pos})),create:zd.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class z3{constructor(e,t,n,s,l){this.view=e,this.source=t,this.field=n,this.setHover=s,this.hoverTime=l,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,n=e.docView.tile.nearest(t.target);if(!n)return;let s,l=1;if(n.isWidget())s=n.posAtStart;else{if(s=e.posAtCoords(t),s==null)return;let c=e.coordsAtPos(s);if(!c||t.y<c.top||t.y>c.bottom||t.x<c.left-e.defaultCharacterWidth||t.x>c.right+e.defaultCharacterWidth)return;let h=e.bidiSpans(e.state.doc.lineAt(s)).find(p=>p.from<=s&&p.to>=s),d=h&&h.dir==Ke.RTL?-1:1;l=t.x<c.left?-d:d}let o=this.source(e,s,l);if(o?.then){let c=this.pending={pos:s};o.then(h=>{this.pending==c&&(this.pending=null,h&&!(Array.isArray(h)&&!h.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(h)?h:[h])}))},h=>pi(e.state,h,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(qy),t=e?e.manager.tooltips.findIndex(n=>n.create==zd.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:s,tooltip:l}=this;if(s.length&&l&&!j3(l.dom,e)||this.pending){let{pos:o}=s[0]||this.pending,c=(n=(t=s[0])===null||t===void 0?void 0:t.end)!==null&&n!==void 0?n:o;(o==c?this.view.posAtCoords(this.lastMove)!=o:!U3(this.view,o,c,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:n}=this;n&&n.dom.contains(e.relatedTarget)?this.watchTooltipLeave(n.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=n=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),clearTimeout(this.restartTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Fh=4;function j3(i,e){let{left:t,right:n,top:s,bottom:l}=i.getBoundingClientRect(),o;if(o=i.querySelector(".cm-tooltip-arrow")){let c=o.getBoundingClientRect();s=Math.min(c.top,s),l=Math.max(c.bottom,l)}return e.clientX>=t-Fh&&e.clientX<=n+Fh&&e.clientY>=s-Fh&&e.clientY<=l+Fh}function U3(i,e,t,n,s,l){let o=i.scrollDOM.getBoundingClientRect(),c=i.documentTop+i.documentPadding.top+i.contentHeight;if(o.left>n||o.right<n||o.top>s||Math.min(o.bottom,c)<s)return!1;let h=i.posAtCoords({x:n,y:s},!1);return h>=e&&h<=t}function N3(i,e={}){let t=Oe.define(),n=Dt.define({create(){return[]},update(s,l){if(s.length&&(e.hideOnChange&&(l.docChanged||l.selection)?s=[]:e.hideOn&&(s=s.filter(o=>!e.hideOn(l,o))),l.docChanged)){let o=[];for(let c of s){let h=l.changes.mapPos(c.pos,-1,Yt.TrackDel);if(h!=null){let d=Object.assign(Object.create(null),c);d.pos=h,d.end!=null&&(d.end=l.changes.mapPos(d.end)),o.push(d)}}s=o}for(let o of l.effects)o.is(t)&&(s=o.value),o.is(B3)&&(s=[]);return s},provide:s=>Jf.from(s)});return{active:n,extension:[n,rt.define(s=>new z3(s,i,n,t,e.hoverTime||300)),L3]}}function AA(i,e){let t=i.plugin(qy);if(!t)return null;let n=t.manager.tooltips.indexOf(e);return n<0?null:t.manager.tooltipViews[n]}const B3=Oe.define(),vx=K.define({combine(i){let e,t;for(let n of i)e=e||n.topContainer,t=t||n.bottomContainer;return{topContainer:e,bottomContainer:t}}});function Vy(i,e){let t=i.plugin(CA),n=t?t.specs.indexOf(e):-1;return n>-1?t.panels[n]:null}const CA=rt.fromClass(class{constructor(i){this.input=i.state.facet(zc),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(i));let e=i.state.facet(vx);this.top=new ef(i,!0,e.topContainer),this.bottom=new ef(i,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(i){let e=i.state.facet(vx);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new ef(i.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new ef(i.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=i.state.facet(zc);if(t!=this.input){let n=t.filter(h=>h),s=[],l=[],o=[],c=[];for(let h of n){let d=this.specs.indexOf(h),p;d<0?(p=h(i.view),c.push(p)):(p=this.panels[d],p.update&&p.update(i)),s.push(p),(p.top?l:o).push(p)}this.specs=n,this.panels=s,this.top.sync(l),this.bottom.sync(o);for(let h of c)h.dom.classList.add("cm-panel"),h.mount&&h.mount()}else for(let n of this.panels)n.update&&n.update(i)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:i=>H.scrollMargins.of(e=>{let t=e.plugin(i);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class ef{constructor(e,t,n){this.view=e,this.top=t,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=Sx(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=Sx(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function Sx(i){let e=i.nextSibling;return i.remove(),e}const zc=K.define({enables:CA});function X3(i,e){let t,n=new Promise(o=>t=o),s=o=>q3(o,e,t);i.state.field(Km,!1)?i.dispatch({effects:$A.of(s)}):i.dispatch({effects:Oe.appendConfig.of(Km.init(()=>[s]))});let l=EA.of(s);return{close:l,result:n.then(o=>((i.win.queueMicrotask||(h=>i.win.setTimeout(h,10)))(()=>{i.state.field(Km).indexOf(s)>-1&&i.dispatch({effects:l})}),o))}}const Km=Dt.define({create(){return[]},update(i,e){for(let t of e.effects)t.is($A)?i=[t.value].concat(i):t.is(EA)&&(i=i.filter(n=>n!=t.value));return i},provide:i=>zc.computeN([i],e=>e.field(i))}),$A=Oe.define(),EA=Oe.define();function q3(i,e,t){let n=e.content?e.content(i,()=>o(null)):null;if(!n){if(n=Ve("form"),e.input){let c=Ve("input",e.input);/^(text|password|number|email|tel|url)$/.test(c.type)&&c.classList.add("cm-textfield"),c.name||(c.name="input"),n.appendChild(Ve("label",(e.label||"")+": ",c))}else n.appendChild(document.createTextNode(e.label||""));n.appendChild(document.createTextNode(" ")),n.appendChild(Ve("button",{class:"cm-button",type:"submit"},e.submitLabel||"OK"))}let s=n.nodeName=="FORM"?[n]:n.querySelectorAll("form");for(let c=0;c<s.length;c++){let h=s[c];h.addEventListener("keydown",d=>{d.keyCode==27?(d.preventDefault(),o(null)):d.keyCode==13&&(d.preventDefault(),o(h))}),h.addEventListener("submit",d=>{d.preventDefault(),o(h)})}let l=Ve("div",n,Ve("button",{onclick:()=>o(null),"aria-label":i.state.phrase("close"),class:"cm-dialog-close",type:"button"},[""]));e.class&&(l.className=e.class),l.classList.add("cm-dialog");function o(c){l.contains(l.ownerDocument.activeElement)&&i.focus(),t(c)}return{dom:l,top:e.top,mount:()=>{if(e.focus){let c;typeof e.focus=="string"?c=n.querySelector(e.focus):c=n.querySelector("input")||n.querySelector("button"),c&&"select"in c?c.select():c&&"focus"in c&&c.focus()}}}}class gs extends ir{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}gs.prototype.elementClass="";gs.prototype.toDOM=void 0;gs.prototype.mapMode=Yt.TrackBefore;gs.prototype.startSide=gs.prototype.endSide=-1;gs.prototype.point=!0;const wf=K.define(),Y3=K.define(),V3={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Te.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},uc=K.define();function I3(i){return[RA(),uc.of({...V3,...i})]}const wx=K.define({combine:i=>i.some(e=>e)});function RA(i){return[G3]}const G3=rt.fromClass(class{constructor(i){this.view=i,this.domAfter=null,this.prevViewport=i.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=i.state.facet(uc).map(e=>new xx(i,e)),this.fixed=!i.state.facet(wx);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),i.scrollDOM.insertBefore(this.dom,i.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(i){if(this.updateGutters(i)){let e=this.prevViewport,t=i.view.viewport,n=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(n<(t.to-t.from)*.8)}if(i.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(wx)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=i.view.viewport}syncGutters(i){let e=this.dom.nextSibling;i&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let t=Te.iter(this.view.state.facet(wf),this.view.viewport.from),n=[],s=this.gutters.map(l=>new W3(l,this.view.viewport,-this.view.documentPadding.top));for(let l of this.view.viewportLineBlocks)if(n.length&&(n=[]),Array.isArray(l.type)){let o=!0;for(let c of l.type)if(c.type==Vt.Text&&o){D0(t,n,c.from);for(let h of s)h.line(this.view,c,n);o=!1}else if(c.widget)for(let h of s)h.widget(this.view,c)}else if(l.type==Vt.Text){D0(t,n,l.from);for(let o of s)o.line(this.view,l,n)}else if(l.widget)for(let o of s)o.widget(this.view,l);for(let l of s)l.finish();i&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(i){let e=i.startState.facet(uc),t=i.state.facet(uc),n=i.docChanged||i.heightChanged||i.viewportChanged||!Te.eq(i.startState.facet(wf),i.state.facet(wf),i.view.viewport.from,i.view.viewport.to);if(e==t)for(let s of this.gutters)s.update(i)&&(n=!0);else{n=!0;let s=[];for(let l of t){let o=e.indexOf(l);o<0?s.push(new xx(this.view,l)):(this.gutters[o].update(i),s.push(this.gutters[o]))}for(let l of this.gutters)l.dom.remove(),s.indexOf(l)<0&&l.destroy();for(let l of s)l.config.side=="after"?this.getDOMAfter().appendChild(l.dom):this.dom.appendChild(l.dom);this.gutters=s}return n}destroy(){for(let i of this.gutters)i.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:i=>H.scrollMargins.of(e=>{let t=e.plugin(i);if(!t||t.gutters.length==0||!t.fixed)return null;let n=t.dom.offsetWidth*e.scaleX,s=t.domAfter?t.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==Ke.LTR?{left:n,right:s}:{right:n,left:s}})});function kx(i){return Array.isArray(i)?i:[i]}function D0(i,e,t){for(;i.value&&i.from<=t;)i.from==t&&e.push(i.value),i.next()}class W3{constructor(e,t,n){this.gutter=e,this.height=n,this.i=0,this.cursor=Te.iter(e.markers,t.from)}addElement(e,t,n){let{gutter:s}=this,l=(t.top-this.height)/e.scaleY,o=t.height/e.scaleY;if(this.i==s.elements.length){let c=new MA(e,o,l,n);s.elements.push(c),s.dom.appendChild(c.dom)}else s.elements[this.i].update(e,o,l,n);this.height=t.bottom,this.i++}line(e,t,n){let s=[];D0(this.cursor,s,t.from),n.length&&(s=s.concat(n));let l=this.gutter.config.lineMarker(e,t,s);l&&s.unshift(l);let o=this.gutter;s.length==0&&!o.config.renderEmptyElements||this.addElement(e,t,s)}widget(e,t){let n=this.gutter.config.widgetMarker(e,t.widget,t),s=n?[n]:null;for(let l of e.state.facet(Y3)){let o=l(e,t.widget,t);o&&(s||(s=[])).push(o)}s&&this.addElement(e,t,s)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class xx{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in t.domEventHandlers)this.dom.addEventListener(n,s=>{let l=s.target,o;if(l!=this.dom&&this.dom.contains(l)){for(;l.parentNode!=this.dom;)l=l.parentNode;let h=l.getBoundingClientRect();o=(h.top+h.bottom)/2}else o=s.clientY;let c=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[n](e,c,s)&&s.preventDefault()});this.markers=kx(t.markers(e)),t.initialSpacer&&(this.spacer=new MA(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=kx(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let s=this.config.updateSpacer(this.spacer.markers[0],e);s!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[s])}let n=e.view.viewport;return!Te.eq(this.markers,t,n.from,n.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class MA{constructor(e,t,n,s){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,n,s)}update(e,t,n,s){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),H3(this.markers,s)||this.setMarkers(e,s)}setMarkers(e,t){let n="cm-gutterElement",s=this.dom.firstChild;for(let l=0,o=0;;){let c=o,h=l<t.length?t[l++]:null,d=!1;if(h){let p=h.elementClass;p&&(n+=" "+p);for(let m=o;m<this.markers.length;m++)if(this.markers[m].compare(h)){c=m,d=!0;break}}else c=this.markers.length;for(;o<c;){let p=this.markers[o++];if(p.toDOM){p.destroy(s);let m=s.nextSibling;s.remove(),s=m}}if(!h)break;h.toDOM&&(d?s=s.nextSibling:this.dom.insertBefore(h.toDOM(e),s)),d&&o++}this.dom.className=n,this.markers=t}destroy(){this.setMarkers(null,[])}}function H3(i,e){if(i.length!=e.length)return!1;for(let t=0;t<i.length;t++)if(!i[t].compare(e[t]))return!1;return!0}const K3=K.define(),J3=K.define(),la=K.define({combine(i){return Xn(i,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let n=Object.assign({},e);for(let s in t){let l=n[s],o=t[s];n[s]=l?(c,h,d)=>l(c,h,d)||o(c,h,d):o}return n}})}});class Jm extends gs{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Fm(i,e){return i.state.facet(la).formatNumber(e,i.state)}const F3=uc.compute([la],i=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(K3)},lineMarker(e,t,n){return n.some(s=>s.toDOM)?null:new Jm(Fm(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,n)=>{for(let s of e.state.facet(J3)){let l=s(e,t,n);if(l)return l}return null},lineMarkerChange:e=>e.startState.facet(la)!=e.state.facet(la),initialSpacer(e){return new Jm(Fm(e,_x(e.state.doc.lines)))},updateSpacer(e,t){let n=Fm(t.view,_x(t.view.state.doc.lines));return n==e.number?e:new Jm(n)},domEventHandlers:i.facet(la).domEventHandlers,side:"before"}));function ej(i={}){return[la.of(i),RA(),F3]}function _x(i){let e=9;for(;e<i;)e=e*10+9;return e}const tj=new class extends gs{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},ij=wf.compute(["selection"],i=>{let e=[],t=-1;for(let n of i.selection.ranges){let s=i.doc.lineAt(n.head).from;s>t&&(t=s,e.push(tj.range(s)))}return Te.of(e)});function nj(){return ij}const PA=1024;let sj=0;class eO{constructor(e,t){this.from=e,this.to=t}}class Qe{constructor(e={}){this.id=sj++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=yi.match(e)),t=>{let n=e(t);return n===void 0?null:[this,n]}}}Qe.closedBy=new Qe({deserialize:i=>i.split(" ")});Qe.openedBy=new Qe({deserialize:i=>i.split(" ")});Qe.group=new Qe({deserialize:i=>i.split(" ")});Qe.isolate=new Qe({deserialize:i=>{if(i&&i!="rtl"&&i!="ltr"&&i!="auto")throw new RangeError("Invalid value for isolate: "+i);return i||"auto"}});Qe.contextHash=new Qe({perNode:!0});Qe.lookAhead=new Qe({perNode:!0});Qe.mounted=new Qe({perNode:!0});class hc{constructor(e,t,n,s=!1){this.tree=e,this.overlay=t,this.parser=n,this.bracketed=s}static get(e){return e&&e.props&&e.props[Qe.mounted.id]}}const rj=Object.create(null);class yi{constructor(e,t,n,s=0){this.name=e,this.props=t,this.id=n,this.flags=s}static define(e){let t=e.props&&e.props.length?Object.create(null):rj,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),s=new yi(e.name||"",t,e.id,n);if(e.props){for(let l of e.props)if(Array.isArray(l)||(l=l(s)),l){if(l[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[l[0].id]=l[1]}}return s}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Qe.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let s of n.split(" "))t[s]=e[n];return n=>{for(let s=n.prop(Qe.group),l=-1;l<(s?s.length:0);l++){let o=t[l<0?n.name:s[l]];if(o)return o}}}}yi.none=new yi("",Object.create(null),0,8);class Iy{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let n of this.types){let s=null;for(let l of e){let o=l(n);if(o){s||(s=Object.assign({},n.props));let c=o[1],h=o[0];h.combine&&h.id in s&&(c=h.combine(s[h.id],c)),s[h.id]=c}}t.push(s?new yi(n.name,s,n.id,n.flags):n)}return new Iy(t)}}const tf=new WeakMap,Tx=new WeakMap;var st;(function(i){i[i.ExcludeBuffers=1]="ExcludeBuffers",i[i.IncludeAnonymous=2]="IncludeAnonymous",i[i.IgnoreMounts=4]="IgnoreMounts",i[i.IgnoreOverlays=8]="IgnoreOverlays",i[i.EnterBracketed=16]="EnterBracketed"})(st||(st={}));class pt{constructor(e,t,n,s,l){if(this.type=e,this.children=t,this.positions=n,this.length=s,this.props=null,l&&l.length){this.props=Object.create(null);for(let[o,c]of l)this.props[typeof o=="number"?o:o.id]=c}}toString(){let e=hc.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let n of this.children){let s=n.toString();s&&(t&&(t+=","),t+=s)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new L0(this.topNode,e)}cursorAt(e,t=0,n=0){let s=tf.get(this)||this.topNode,l=new L0(s);return l.moveTo(e,t),tf.set(this,l._tree),l}get topNode(){return new Oi(this,0,0,null)}resolve(e,t=0){let n=jc(tf.get(this)||this.topNode,e,t,!1);return tf.set(this,n),n}resolveInner(e,t=0){let n=jc(Tx.get(this)||this.topNode,e,t,!0);return Tx.set(this,n),n}resolveStack(e,t=0){return oj(this,e,t)}iterate(e){let{enter:t,leave:n,from:s=0,to:l=this.length}=e,o=e.mode||0,c=(o&st.IncludeAnonymous)>0;for(let h=this.cursor(o|st.IncludeAnonymous);;){let d=!1;if(h.from<=l&&h.to>=s&&(!c&&h.type.isAnonymous||t(h)!==!1)){if(h.firstChild())continue;d=!0}for(;d&&n&&(c||!h.type.isAnonymous)&&n(h),!h.nextSibling();){if(!h.parent())return;d=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Hy(yi.none,this.children,this.positions,0,this.children.length,0,this.length,(t,n,s)=>new pt(this.type,t,n,s,this.propValues),e.makeTree||((t,n,s)=>new pt(yi.none,t,n,s)))}static build(e){return cj(e)}}pt.empty=new pt(yi.none,[],[],0);class Gy{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Gy(this.buffer,this.index)}}class lr{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return yi.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],s=this.set.types[t],l=s.name;if(/\W/.test(l)&&!s.isError&&(l=JSON.stringify(l)),e+=4,n==e)return l;let o=[];for(;e<n;)o.push(this.childString(e)),e=this.buffer[e+3];return l+"("+o.join(",")+")"}findChild(e,t,n,s,l){let{buffer:o}=this,c=-1;for(let h=e;h!=t&&!(DA(l,s,o[h+1],o[h+2])&&(c=h,n>0));h=o[h+3]);return c}slice(e,t,n){let s=this.buffer,l=new Uint16Array(t-e),o=0;for(let c=e,h=0;c<t;){l[h++]=s[c++],l[h++]=s[c++]-n;let d=l[h++]=s[c++]-n;l[h++]=s[c++]-e,o=Math.max(o,d)}return new lr(l,o,this.set)}}function DA(i,e,t,n){switch(i){case-2:return t<e;case-1:return n>=e&&t<e;case 0:return t<e&&n>e;case 1:return t<=e&&n>e;case 2:return n>e;case 4:return!0}}function jc(i,e,t,n){for(var s;i.from==i.to||(t<1?i.from>=e:i.from>e)||(t>-1?i.to<=e:i.to<e);){let o=!n&&i instanceof Oi&&i.index<0?null:i.parent;if(!o)return i;i=o}let l=n?0:st.IgnoreOverlays;if(n)for(let o=i,c=o.parent;c;o=c,c=o.parent)o instanceof Oi&&o.index<0&&((s=c.enter(e,t,l))===null||s===void 0?void 0:s.from)!=o.from&&(i=c);for(;;){let o=i.enter(e,t,l);if(!o)return i;i=o}}class ZA{cursor(e=0){return new L0(this,e)}getChild(e,t=null,n=null){let s=Qx(this,e,t,n);return s.length?s[0]:null}getChildren(e,t=null,n=null){return Qx(this,e,t,n)}resolve(e,t=0){return jc(this,e,t,!1)}resolveInner(e,t=0){return jc(this,e,t,!0)}matchContext(e){return Z0(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),n=this;for(;t;){let s=t.lastChild;if(!s||s.to!=t.to)break;s.type.isError&&s.from==s.to?(n=t,t=s.prevSibling):t=s}return n}get node(){return this}get next(){return this.parent}}class Oi extends ZA{constructor(e,t,n,s){super(),this._tree=e,this.from=t,this.index=n,this._parent=s}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,n,s,l=0){for(let o=this;;){for(let{children:c,positions:h}=o._tree,d=t>0?c.length:-1;e!=d;e+=t){let p=c[e],m=h[e]+o.from,y;if(!(!(l&st.EnterBracketed&&p instanceof pt&&(y=hc.get(p))&&!y.overlay&&y.bracketed&&n>=m&&n<=m+p.length)&&!DA(s,n,m,m+p.length))){if(p instanceof lr){if(l&st.ExcludeBuffers)continue;let b=p.findChild(0,p.buffer.length,t,n-m,s);if(b>-1)return new Pn(new lj(o,p,e,m),null,b)}else if(l&st.IncludeAnonymous||!p.type.isAnonymous||Wy(p)){let b;if(!(l&st.IgnoreMounts)&&(b=hc.get(p))&&!b.overlay)return new Oi(b.tree,m,e,o);let v=new Oi(p,m,e,o);return l&st.IncludeAnonymous||!v.type.isAnonymous?v:v.nextChild(t<0?p.children.length-1:0,t,n,s,l)}}}if(l&st.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,t,n=0){let s;if(!(n&st.IgnoreOverlays)&&(s=hc.get(this._tree))&&s.overlay){let l=e-this.from,o=n&st.EnterBracketed&&s.bracketed;for(let{from:c,to:h}of s.overlay)if((t>0||o?c<=l:c<l)&&(t<0||o?h>=l:h>l))return new Oi(s.tree,s.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function Qx(i,e,t,n){let s=i.cursor(),l=[];if(!s.firstChild())return l;if(t!=null){for(let o=!1;!o;)if(o=s.type.is(t),!s.nextSibling())return l}for(;;){if(n!=null&&s.type.is(n))return l;if(s.type.is(e)&&l.push(s.node),!s.nextSibling())return n==null?l:[]}}function Z0(i,e,t=e.length-1){for(let n=i;t>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[t]&&e[t]!=n.name)return!1;t--}}return!0}class lj{constructor(e,t,n,s){this.parent=e,this.buffer=t,this.index=n,this.start=s}}class Pn extends ZA{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,n){super(),this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,t,n){let{buffer:s}=this.context,l=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.context.start,n);return l<0?null:new Pn(this.context,this,l)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,t,n=0){if(n&st.ExcludeBuffers)return null;let{buffer:s}=this.context,l=s.findChild(this.index+4,s.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return l<0?null:new Pn(this.context,this,l)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Pn(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Pn(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,s=this.index+4,l=n.buffer[this.index+3];if(l>s){let o=n.buffer[this.index+1];e.push(n.slice(s,l,o)),t.push(0)}return new pt(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function LA(i){if(!i.length)return null;let e=0,t=i[0];for(let l=1;l<i.length;l++){let o=i[l];(o.from>t.from||o.to<t.to)&&(t=o,e=l)}let n=t instanceof Oi&&t.index<0?null:t.parent,s=i.slice();return n?s[e]=n:s.splice(e,1),new aj(s,t)}class aj{constructor(e,t){this.heads=e,this.node=t}get next(){return LA(this.heads)}}function oj(i,e,t){let n=i.resolveInner(e,t),s=null;for(let l=n instanceof Oi?n:n.context.parent;l;l=l.parent)if(l.index<0){let o=l.parent;(s||(s=[n])).push(o.resolve(e,t)),l=o}else{let o=hc.get(l.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let c=new Oi(o.tree,o.overlay[0].from+l.from,-1,l);(s||(s=[n])).push(jc(c,e,t,!1))}}return s?LA(s):n}class L0{get name(){return this.type.name}constructor(e,t=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=t&~st.EnterBracketed,e instanceof Oi)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let n=e._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:n,buffer:s}=this.buffer;return this.type=t||s.set.types[s.buffer[e]],this.from=n+s.buffer[e+1],this.to=n+s.buffer[e+2],!0}yield(e){return e?e instanceof Oi?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));let{buffer:s}=this.buffer,l=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.buffer.start,n);return l<0?!1:(this.stack.push(this.index),this.yieldBuf(l))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=this.mode){return this.buffer?n&st.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&st.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&st.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let s=n<0?0:this.stack[n]+4;if(this.index!=s)return this.yieldBuf(t.findChild(s,this.index,-1,0,4))}else{let s=t.buffer[this.index+3];if(s<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(s)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:s}=this;if(s){if(e>0){if(this.index<s.buffer.buffer.length)return!1}else for(let l=0;l<this.index;l++)if(s.buffer.buffer[l+3]<this.index)return!1;({index:t,parent:n}=s)}else({index:t,_parent:n}=this._tree);for(;n;{index:t,_parent:n}=n)if(t>-1)for(let l=t+e,o=e<0?-1:n._tree.children.length;l!=o;l+=e){let c=n._tree.children[l];if(this.mode&st.IncludeAnonymous||c instanceof lr||!c.type.isAnonymous||Wy(c))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let s=this.index,l=this.stack.length;l>=0;){for(let o=e;o;o=o._parent)if(o.index==s){if(s==this.index)return o;t=o,n=l+1;break e}s=this.stack[--l]}for(let s=n;s<this.stack.length;s++)t=new Pn(this.buffer,t,this.stack[s]);return this.bufferNode=new Pn(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let n=0;;){let s=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(s=!0)}for(;;){if(s&&t&&t(this),s=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,s=!0}}}matchContext(e){if(!this.buffer)return Z0(this.node.parent,e);let{buffer:t}=this.buffer,{types:n}=t.set;for(let s=e.length-1,l=this.stack.length-1;s>=0;l--){if(l<0)return Z0(this._tree,e,s);let o=n[t.buffer[this.stack[l]]];if(!o.isAnonymous){if(e[s]&&e[s]!=o.name)return!1;s--}}return!0}}function Wy(i){return i.children.some(e=>e instanceof lr||!e.type.isAnonymous||Wy(e))}function cj(i){var e;let{buffer:t,nodeSet:n,maxBufferLength:s=PA,reused:l=[],minRepeatType:o=n.types.length}=i,c=Array.isArray(t)?new Gy(t,t.length):t,h=n.types,d=0,p=0;function m(B,X,z,ee,re,$e){let{id:he,start:te,end:oe,size:fe}=c,ye=p,Z=d;if(fe<0)if(c.next(),fe==-1){let Q=l[he];z.push(Q),ee.push(te-B);return}else if(fe==-3){d=he;return}else if(fe==-4){p=he;return}else throw new RangeError(`Unrecognized record size: ${fe}`);let I=h[he],le,me,_e=te-B;if(oe-te<=s&&(me=x(c.pos-X,re))){let Q=new Uint16Array(me.size-me.skip),N=c.pos-me.size,G=Q.length;for(;c.pos>N;)G=_(me.start,Q,G);le=new lr(Q,oe-me.start,n),_e=me.start-B}else{let Q=c.pos-fe;c.next();let N=[],G=[],J=he>=o?he:-1,pe=0,ve=oe;for(;c.pos>Q;)J>=0&&c.id==J&&c.size>=0?(c.end<=ve-s&&(v(N,G,te,pe,c.end,ve,J,ye,Z),pe=N.length,ve=c.end),c.next()):$e>2500?y(te,Q,N,G):m(te,Q,N,G,J,$e+1);if(J>=0&&pe>0&&pe<N.length&&v(N,G,te,pe,te,ve,J,ye,Z),N.reverse(),G.reverse(),J>-1&&pe>0){let De=b(I,Z);le=Hy(I,N,G,0,N.length,0,oe-te,De,De)}else le=w(I,N,G,oe-te,ye-oe,Z)}z.push(le),ee.push(_e)}function y(B,X,z,ee){let re=[],$e=0,he=-1;for(;c.pos>X;){let{id:te,start:oe,end:fe,size:ye}=c;if(ye>4)c.next();else{if(he>-1&&oe<he)break;he<0&&(he=fe-s),re.push(te,oe,fe),$e++,c.next()}}if($e){let te=new Uint16Array($e*4),oe=re[re.length-2];for(let fe=re.length-3,ye=0;fe>=0;fe-=3)te[ye++]=re[fe],te[ye++]=re[fe+1]-oe,te[ye++]=re[fe+2]-oe,te[ye++]=ye;z.push(new lr(te,re[2]-oe,n)),ee.push(oe-B)}}function b(B,X){return(z,ee,re)=>{let $e=0,he=z.length-1,te,oe;if(he>=0&&(te=z[he])instanceof pt){if(!he&&te.type==B&&te.length==re)return te;(oe=te.prop(Qe.lookAhead))&&($e=ee[he]+te.length+oe)}return w(B,z,ee,re,$e,X)}}function v(B,X,z,ee,re,$e,he,te,oe){let fe=[],ye=[];for(;B.length>ee;)fe.push(B.pop()),ye.push(X.pop()+z-re);B.push(w(n.types[he],fe,ye,$e-re,te-$e,oe)),X.push(re-z)}function w(B,X,z,ee,re,$e,he){if($e){let te=[Qe.contextHash,$e];he=he?[te].concat(he):[te]}if(re>25){let te=[Qe.lookAhead,re];he=he?[te].concat(he):[te]}return new pt(B,X,z,ee,he)}function x(B,X){let z=c.fork(),ee=0,re=0,$e=0,he=z.end-s,te={size:0,start:0,skip:0};e:for(let oe=z.pos-B;z.pos>oe;){let fe=z.size;if(z.id==X&&fe>=0){te.size=ee,te.start=re,te.skip=$e,$e+=4,ee+=4,z.next();continue}let ye=z.pos-fe;if(fe<0||ye<oe||z.start<he)break;let Z=z.id>=o?4:0,I=z.start;for(z.next();z.pos>ye;){if(z.size<0)if(z.size==-3||z.size==-4)Z+=4;else break e;else z.id>=o&&(Z+=4);z.next()}re=I,ee+=fe,$e+=Z}return(X<0||ee==B)&&(te.size=ee,te.start=re,te.skip=$e),te.size>4?te:void 0}function _(B,X,z){let{id:ee,start:re,end:$e,size:he}=c;if(c.next(),he>=0&&ee<o){let te=z;if(he>4){let oe=c.pos-(he-4);for(;c.pos>oe;)z=_(B,X,z)}X[--z]=te,X[--z]=$e-B,X[--z]=re-B,X[--z]=ee}else he==-3?d=ee:he==-4&&(p=ee);return z}let E=[],C=[];for(;c.pos>0;)m(i.start||0,i.bufferStart||0,E,C,-1,0);let j=(e=i.length)!==null&&e!==void 0?e:E.length?C[0]+E[0].length:0;return new pt(h[i.topID],E.reverse(),C.reverse(),j)}const Ax=new WeakMap;function kf(i,e){if(!i.isAnonymous||e instanceof lr||e.type!=i)return 1;let t=Ax.get(e);if(t==null){t=1;for(let n of e.children){if(n.type!=i||!(n instanceof pt)){t=1;break}t+=kf(i,n)}Ax.set(e,t)}return t}function Hy(i,e,t,n,s,l,o,c,h){let d=0;for(let v=n;v<s;v++)d+=kf(i,e[v]);let p=Math.ceil(d*1.5/8),m=[],y=[];function b(v,w,x,_,E){for(let C=x;C<_;){let j=C,B=w[C],X=kf(i,v[C]);for(C++;C<_;C++){let z=kf(i,v[C]);if(X+z>=p)break;X+=z}if(C==j+1){if(X>p){let z=v[j];b(z.children,z.positions,0,z.children.length,w[j]+E);continue}m.push(v[j])}else{let z=w[C-1]+v[C-1].length-B;m.push(Hy(i,v,w,j,C,B,z,null,h))}y.push(B+E-l)}}return b(e,t,n,s,0),(c||h)(m,y,o)}class uj{constructor(){this.map=new WeakMap}setBuffer(e,t,n){let s=this.map.get(e);s||this.map.set(e,s=new Map),s.set(t,n)}getBuffer(e,t){let n=this.map.get(e);return n&&n.get(t)}set(e,t){e instanceof Pn?this.setBuffer(e.context.buffer,e.index,t):e instanceof Oi&&this.map.set(e.tree,t)}get(e){return e instanceof Pn?this.getBuffer(e.context.buffer,e.index):e instanceof Oi?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Vr{constructor(e,t,n,s,l=!1,o=!1){this.from=e,this.to=t,this.tree=n,this.offset=s,this.open=(l?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],n=!1){let s=[new Vr(0,e.length,e,0,!1,n)];for(let l of t)l.to>e.length&&s.push(l);return s}static applyChanges(e,t,n=128){if(!t.length)return e;let s=[],l=1,o=e.length?e[0]:null;for(let c=0,h=0,d=0;;c++){let p=c<t.length?t[c]:null,m=p?p.fromA:1e9;if(m-h>=n)for(;o&&o.from<m;){let y=o;if(h>=y.from||m<=y.to||d){let b=Math.max(y.from,h)-d,v=Math.min(y.to,m)-d;y=b>=v?null:new Vr(b,v,y.tree,y.offset+d,c>0,!!p)}if(y&&s.push(y),o.to>m)break;o=l<e.length?e[l++]:null}if(!p)break;h=p.toA,d=p.toA-p.toB}return s}}class zA{startParse(e,t,n){return typeof e=="string"&&(e=new hj(e)),n=n?n.length?n.map(s=>new eO(s.from,s.to)):[new eO(0,0)]:[new eO(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let s=this.startParse(e,t,n);for(;;){let l=s.advance();if(l)return l}}}class hj{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new Qe({perNode:!0});let fj=0;class Hi{constructor(e,t,n,s){this.name=e,this.set=t,this.base=n,this.modified=s,this.id=fj++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let n=typeof e=="string"?e:"?";if(e instanceof Hi&&(t=e),t?.base)throw new Error("Can not derive from a modified tag");let s=new Hi(n,[],null,[]);if(s.set.push(s),t)for(let l of t.set)s.set.push(l);return s}static defineModifier(e){let t=new Ff(e);return n=>n.modified.indexOf(t)>-1?n:Ff.get(n.base||n,n.modified.concat(t).sort((s,l)=>s.id-l.id))}}let dj=0;class Ff{constructor(e){this.name=e,this.instances=[],this.id=dj++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find(c=>c.base==e&&pj(t,c.modified));if(n)return n;let s=[],l=new Hi(e.name,s,e,t);for(let c of t)c.instances.push(l);let o=gj(t);for(let c of e.set)if(!c.modified.length)for(let h of o)s.push(Ff.get(c,h));return l}}function pj(i,e){return i.length==e.length&&i.every((t,n)=>t==e[n])}function gj(i){let e=[[]];for(let t=0;t<i.length;t++)for(let n=0,s=e.length;n<s;n++)e.push(e[n].concat(i[t]));return e.sort((t,n)=>n.length-t.length)}function jA(i){let e=Object.create(null);for(let t in i){let n=i[t];Array.isArray(n)||(n=[n]);for(let s of t.split(" "))if(s){let l=[],o=2,c=s;for(let m=0;;){if(c=="..."&&m>0&&m+3==s.length){o=1;break}let y=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(c);if(!y)throw new RangeError("Invalid path: "+s);if(l.push(y[0]=="*"?"":y[0][0]=='"'?JSON.parse(y[0]):y[0]),m+=y[0].length,m==s.length)break;let b=s[m++];if(m==s.length&&b=="!"){o=0;break}if(b!="/")throw new RangeError("Invalid path: "+s);c=s.slice(m)}let h=l.length-1,d=l[h];if(!d)throw new RangeError("Invalid path: "+s);let p=new Uc(n,o,h>0?l.slice(0,h):null);e[d]=p.sort(e[d])}}return UA.add(e)}const UA=new Qe({combine(i,e){let t,n,s;for(;i||e;){if(!i||e&&i.depth>=e.depth?(s=e,e=e.next):(s=i,i=i.next),t&&t.mode==s.mode&&!s.context&&!t.context)continue;let l=new Uc(s.tags,s.mode,s.context);t?t.next=l:n=l,t=l}return n}});class Uc{constructor(e,t,n,s){this.tags=e,this.mode=t,this.context=n,this.next=s}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Uc.empty=new Uc([],2,null);function NA(i,e){let t=Object.create(null);for(let l of i)if(!Array.isArray(l.tag))t[l.tag.id]=l.class;else for(let o of l.tag)t[o.id]=l.class;let{scope:n,all:s=null}=e||{};return{style:l=>{let o=s;for(let c of l)for(let h of c.set){let d=t[h.id];if(d){o=o?o+" "+d:d;break}}return o},scope:n}}function mj(i,e){let t=null;for(let n of i){let s=n.style(e);s&&(t=t?t+" "+s:s)}return t}function Oj(i,e,t,n=0,s=i.length){let l=new yj(n,Array.isArray(e)?e:[e],t);l.highlightRange(i.cursor(),n,s,"",l.highlighters),l.flush(s)}class yj{constructor(e,t,n){this.at=e,this.highlighters=t,this.span=n,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,n,s,l){let{type:o,from:c,to:h}=e;if(c>=n||h<=t)return;o.isTop&&(l=this.highlighters.filter(b=>!b.scope||b.scope(o)));let d=s,p=bj(e)||Uc.empty,m=mj(l,p.tags);if(m&&(d&&(d+=" "),d+=m,p.mode==1&&(s+=(s?" ":"")+m)),this.startSpan(Math.max(t,c),d),p.opaque)return;let y=e.tree&&e.tree.prop(Qe.mounted);if(y&&y.overlay){let b=e.node.enter(y.overlay[0].from+c,1),v=this.highlighters.filter(x=>!x.scope||x.scope(y.tree.type)),w=e.firstChild();for(let x=0,_=c;;x++){let E=x<y.overlay.length?y.overlay[x]:null,C=E?E.from+c:h,j=Math.max(t,_),B=Math.min(n,C);if(j<B&&w)for(;e.from<B&&(this.highlightRange(e,j,B,s,l),this.startSpan(Math.min(B,e.to),d),!(e.to>=C||!e.nextSibling())););if(!E||C>n)break;_=E.to+c,_>t&&(this.highlightRange(b.cursor(),Math.max(t,E.from+c),Math.min(n,_),"",v),this.startSpan(Math.min(n,_),d))}w&&e.parent()}else if(e.firstChild()){y&&(s="");do if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,s,l),this.startSpan(Math.min(n,e.to),d)}while(e.nextSibling());e.parent()}}}function bj(i){let e=i.type.prop(UA);for(;e&&e.context&&!i.matchContext(e.context);)e=e.next;return e||null}const W=Hi.define,nf=W(),Ys=W(),Cx=W(Ys),$x=W(Ys),Vs=W(),sf=W(Vs),tO=W(Vs),$n=W(),Rr=W($n),An=W(),Cn=W(),z0=W(),Vo=W(z0),rf=W(),D={comment:nf,lineComment:W(nf),blockComment:W(nf),docComment:W(nf),name:Ys,variableName:W(Ys),typeName:Cx,tagName:W(Cx),propertyName:$x,attributeName:W($x),className:W(Ys),labelName:W(Ys),namespace:W(Ys),macroName:W(Ys),literal:Vs,string:sf,docString:W(sf),character:W(sf),attributeValue:W(sf),number:tO,integer:W(tO),float:W(tO),bool:W(Vs),regexp:W(Vs),escape:W(Vs),color:W(Vs),url:W(Vs),keyword:An,self:W(An),null:W(An),atom:W(An),unit:W(An),modifier:W(An),operatorKeyword:W(An),controlKeyword:W(An),definitionKeyword:W(An),moduleKeyword:W(An),operator:Cn,derefOperator:W(Cn),arithmeticOperator:W(Cn),logicOperator:W(Cn),bitwiseOperator:W(Cn),compareOperator:W(Cn),updateOperator:W(Cn),definitionOperator:W(Cn),typeOperator:W(Cn),controlOperator:W(Cn),punctuation:z0,separator:W(z0),bracket:Vo,angleBracket:W(Vo),squareBracket:W(Vo),paren:W(Vo),brace:W(Vo),content:$n,heading:Rr,heading1:W(Rr),heading2:W(Rr),heading3:W(Rr),heading4:W(Rr),heading5:W(Rr),heading6:W(Rr),contentSeparator:W($n),list:W($n),quote:W($n),emphasis:W($n),strong:W($n),link:W($n),monospace:W($n),strikethrough:W($n),inserted:W(),deleted:W(),changed:W(),invalid:W(),meta:rf,documentMeta:W(rf),annotation:W(rf),processingInstruction:W(rf),definition:Hi.defineModifier("definition"),constant:Hi.defineModifier("constant"),function:Hi.defineModifier("function"),standard:Hi.defineModifier("standard"),local:Hi.defineModifier("local"),special:Hi.defineModifier("special")};for(let i in D){let e=D[i];e instanceof Hi&&(e.name=i)}NA([{tag:D.link,class:"tok-link"},{tag:D.heading,class:"tok-heading"},{tag:D.emphasis,class:"tok-emphasis"},{tag:D.strong,class:"tok-strong"},{tag:D.keyword,class:"tok-keyword"},{tag:D.atom,class:"tok-atom"},{tag:D.bool,class:"tok-bool"},{tag:D.url,class:"tok-url"},{tag:D.labelName,class:"tok-labelName"},{tag:D.inserted,class:"tok-inserted"},{tag:D.deleted,class:"tok-deleted"},{tag:D.literal,class:"tok-literal"},{tag:D.string,class:"tok-string"},{tag:D.number,class:"tok-number"},{tag:[D.regexp,D.escape,D.special(D.string)],class:"tok-string2"},{tag:D.variableName,class:"tok-variableName"},{tag:D.local(D.variableName),class:"tok-variableName tok-local"},{tag:D.definition(D.variableName),class:"tok-variableName tok-definition"},{tag:D.special(D.variableName),class:"tok-variableName2"},{tag:D.definition(D.propertyName),class:"tok-propertyName tok-definition"},{tag:D.typeName,class:"tok-typeName"},{tag:D.namespace,class:"tok-namespace"},{tag:D.className,class:"tok-className"},{tag:D.macroName,class:"tok-macroName"},{tag:D.propertyName,class:"tok-propertyName"},{tag:D.operator,class:"tok-operator"},{tag:D.comment,class:"tok-comment"},{tag:D.meta,class:"tok-meta"},{tag:D.invalid,class:"tok-invalid"},{tag:D.punctuation,class:"tok-punctuation"}]);var iO;const aa=new Qe;function BA(i){return K.define({combine:i?e=>e.concat(i):void 0})}const Ky=new Qe;class pn{constructor(e,t,n=[],s=""){this.data=e,this.name=s,Ze.prototype.hasOwnProperty("tree")||Object.defineProperty(Ze.prototype,"tree",{get(){return At(this)}}),this.parser=t,this.extension=[ar.of(this),Ze.languageData.of((l,o,c)=>{let h=Ex(l,o,c),d=h.type.prop(aa);if(!d)return[];let p=l.facet(d),m=h.type.prop(Ky);if(m){let y=h.resolve(o-h.from,c);for(let b of m)if(b.test(y,l)){let v=l.facet(b.facet);return b.type=="replace"?v:v.concat(p)}}return p})].concat(n)}isActiveAt(e,t,n=-1){return Ex(e,t,n).type.prop(aa)==this.data}findRegions(e){let t=e.facet(ar);if(t?.data==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[],s=(l,o)=>{if(l.prop(aa)==this.data){n.push({from:o,to:o+l.length});return}let c=l.prop(Qe.mounted);if(c){if(c.tree.prop(aa)==this.data){if(c.overlay)for(let h of c.overlay)n.push({from:h.from+o,to:h.to+o});else n.push({from:o,to:o+l.length});return}else if(c.overlay){let h=n.length;if(s(c.tree,c.overlay[0].from+o),n.length>h)return}}for(let h=0;h<l.children.length;h++){let d=l.children[h];d instanceof pt&&s(d,l.positions[h]+o)}};return s(At(e),0),n}get allowsNesting(){return!0}}pn.setState=Oe.define();function Ex(i,e,t){let n=i.facet(ar),s=At(i).topNode;if(!n||n.allowsNesting)for(let l=s;l;l=l.enter(e,t,st.ExcludeBuffers|st.EnterBracketed))l.type.isTop&&(s=l);return s}class ed extends pn{constructor(e,t,n){super(e,t,[],n),this.parser=t}static define(e){let t=BA(e.languageData);return new ed(t,e.parser.configure({props:[aa.add(n=>n.isTop?t:void 0)]}),e.name)}configure(e,t){return new ed(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function At(i){let e=i.field(pn.state,!1);return e?e.tree:pt.empty}class vj{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}let Io=null;class td{constructor(e,t,n=[],s,l,o,c,h){this.parser=e,this.state=t,this.fragments=n,this.tree=s,this.treeLen=l,this.viewport=o,this.skipped=c,this.scheduleOn=h,this.parse=null,this.tempSkipped=[]}static create(e,t,n){return new td(e,t,[],pt.empty,0,n,[],null)}startParse(){return this.parser.startParse(new vj(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=pt.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var n;if(typeof e=="number"){let s=Date.now()+e;e=()=>Date.now()>s}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let s=this.parse.advance();if(s)if(this.fragments=this.withoutTempSkipped(Vr.addTree(s,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(n=this.parse.stoppedAt)!==null&&n!==void 0?n:this.state.doc.length,this.tree=s,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Vr.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Io;Io=this;try{return e()}finally{Io=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=Rx(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:s,treeLen:l,viewport:o,skipped:c}=this;if(this.takeTree(),!e.empty){let h=[];if(e.iterChangedRanges((d,p,m,y)=>h.push({fromA:d,toA:p,fromB:m,toB:y})),n=Vr.applyChanges(n,h),s=pt.empty,l=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){c=[];for(let d of this.skipped){let p=e.mapPos(d.from,1),m=e.mapPos(d.to,-1);p<m&&c.push({from:p,to:m})}}}return new td(this.parser,t,n,s,l,o,c,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:s,to:l}=this.skipped[n];s<e.to&&l>e.from&&(this.fragments=Rx(this.fragments,s,l),this.skipped.splice(n--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends zA{createParse(t,n,s){let l=s[0].from,o=s[s.length-1].to;return{parsedPos:l,advance(){let h=Io;if(h){for(let d of s)h.tempSkipped.push(d);e&&(h.scheduleOn=h.scheduleOn?Promise.all([h.scheduleOn,e]):e)}return this.parsedPos=o,new pt(yi.none,[],[],o-l)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Io}}function Rx(i,e,t){return Vr.applyChanges(i,[{fromA:e,toA:t,fromB:e,toB:t}])}class Da{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,n)||t.takeTree(),new Da(t)}static init(e){let t=Math.min(3e3,e.doc.length),n=td.create(e.facet(ar).parser,e,{from:0,to:t});return n.work(20,t)||n.takeTree(),new Da(n)}}pn.state=Dt.define({create:Da.init,update(i,e){for(let t of e.effects)if(t.is(pn.setState))return t.value;return e.startState.facet(ar)!=e.state.facet(ar)?Da.init(e.state):i.apply(e)}});let XA=i=>{let e=setTimeout(()=>i(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(XA=i=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(i,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const nO=typeof navigator<"u"&&(!((iO=navigator.scheduling)===null||iO===void 0)&&iO.isInputPending)?()=>navigator.scheduling.isInputPending():null,Sj=rt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(pn.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(pn.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=XA(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:s}}=this.view,l=n.field(pn.state);if(l.tree==l.context.tree&&l.context.isDone(s+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!nO?Math.max(25,e.timeRemaining()-5):1e9),c=l.context.treeLen<s&&n.doc.length>s+1e3,h=l.context.work(()=>nO&&nO()||Date.now()>o,s+(c?0:1e5));this.chunkBudget-=Date.now()-t,(h||this.chunkBudget<=0)&&(l.context.takeTree(),this.view.dispatch({effects:pn.setState.of(new Da(l.context))})),this.chunkBudget>0&&!(h&&!c)&&this.scheduleWork(),this.checkAsyncSchedule(l.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>pi(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),ar=K.define({combine(i){return i.length?i[0]:null},enables:i=>[pn.state,Sj,H.contentAttributes.compute([i],e=>{let t=e.facet(i);return t&&t.name?{"data-language":t.name}:{}})]});class wj{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const kj=K.define(),jd=K.define({combine:i=>{if(!i.length)return"  ";let e=i[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(i[0]));return e}});function id(i){let e=i.facet(jd);return e.charCodeAt(0)==9?i.tabSize*e.length:e.length}function Nc(i,e){let t="",n=i.tabSize,s=i.facet(jd)[0];if(s=="	"){for(;e>=n;)t+="	",e-=n;s=" "}for(let l=0;l<e;l++)t+=s;return t}function Jy(i,e){i instanceof Ze&&(i=new Ud(i));for(let n of i.state.facet(kj)){let s=n(i,e);if(s!==void 0)return s}let t=At(i.state);return t.length>=e?xj(i,t,e):null}class Ud{constructor(e,t={}){this.state=e,this.options=t,this.unit=id(e)}lineAt(e,t=1){let n=this.state.doc.lineAt(e),{simulateBreak:s,simulateDoubleBreak:l}=this.options;return s!=null&&s>=n.from&&s<=n.to?l&&s==e?{text:"",from:e}:(t<0?s<e:s<=e)?{text:n.text.slice(s-n.from),from:s}:{text:n.text.slice(0,s-n.from),from:n.from}:n}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:s}=this.lineAt(e,t);return n.slice(e-s,Math.min(n.length,e+100-s))}column(e,t=1){let{text:n,from:s}=this.lineAt(e,t),l=this.countColumn(n,e-s),o=this.options.overrideIndentation?this.options.overrideIndentation(s):-1;return o>-1&&(l+=o-this.countColumn(n,n.search(/\S|$/))),l}countColumn(e,t=e.length){return Xa(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:n,from:s}=this.lineAt(e,t),l=this.options.overrideIndentation;if(l){let o=l(s);if(o>-1)return o}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const qA=new Qe;function xj(i,e,t){let n=e.resolveStack(t),s=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(s!=n.node){let l=[];for(let o=s;o&&!(o.from<n.node.from||o.to>n.node.to||o.from==n.node.from&&o.type==n.node.type);o=o.parent)l.push(o);for(let o=l.length-1;o>=0;o--)n={node:l[o],next:n}}return YA(n,i,t)}function YA(i,e,t){for(let n=i;n;n=n.next){let s=Tj(n.node);if(s)return s(Fy.create(e,t,n))}return 0}function _j(i){return i.pos==i.options.simulateBreak&&i.options.simulateDoubleBreak}function Tj(i){let e=i.type.prop(qA);if(e)return e;let t=i.firstChild,n;if(t&&(n=t.type.prop(Qe.closedBy))){let s=i.lastChild,l=s&&n.indexOf(s.name)>-1;return o=>VA(o,!0,1,void 0,l&&!_j(o)?s.from:void 0)}return i.parent==null?Qj:null}function Qj(){return 0}class Fy extends Ud{constructor(e,t,n){super(e.state,e.options),this.base=e,this.pos=t,this.context=n}get node(){return this.context.node}static create(e,t,n){return new Fy(e,t,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let n=e.resolve(t.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(Aj(n,e))break;t=this.state.doc.lineAt(n.from)}return this.lineIndent(t.from)}continue(){return YA(this.context.next,this.base,this.pos)}}function Aj(i,e){for(let t=e;t;t=t.parent)if(i==t)return!0;return!1}function Cj(i){let e=i.node,t=e.childAfter(e.from),n=e.lastChild;if(!t)return null;let s=i.options.simulateBreak,l=i.state.doc.lineAt(t.from),o=s==null||s<=l.from?l.to:Math.min(l.to,s);for(let c=t.to;;){let h=e.childAfter(c);if(!h||h==n)return null;if(!h.type.isSkipped){if(h.from>=o)return null;let d=/^ */.exec(l.text.slice(t.to-l.from))[0].length;return{from:t.from,to:t.to+d}}c=h.to}}function $j({closing:i,align:e=!0,units:t=1}){return n=>VA(n,e,t,i)}function VA(i,e,t,n,s){let l=i.textAfter,o=l.match(/^\s*/)[0].length,c=n&&l.slice(o,o+n.length)==n||s==i.pos+o,h=e?Cj(i):null;return h?c?i.column(h.from):i.column(h.to):i.baseIndent+(c?0:i.unit*t)}const Ej=i=>i.baseIndent;function sO({except:i,units:e=1}={}){return t=>{let n=i&&i.test(t.textAfter);return t.baseIndent+(n?0:e*t.unit)}}const Rj=200;function Mj(){return Ze.transactionFilter.of(i=>{if(!i.docChanged||!i.isUserEvent("input.type")&&!i.isUserEvent("input.complete"))return i;let e=i.startState.languageDataAt("indentOnInput",i.startState.selection.main.head);if(!e.length)return i;let t=i.newDoc,{head:n}=i.newSelection.main,s=t.lineAt(n);if(n>s.from+Rj)return i;let l=t.sliceString(s.from,n);if(!e.some(d=>d.test(l)))return i;let{state:o}=i,c=-1,h=[];for(let{head:d}of o.selection.ranges){let p=o.doc.lineAt(d);if(p.from==c)continue;c=p.from;let m=Jy(o,p.from);if(m==null)continue;let y=/^\s*/.exec(p.text)[0],b=Nc(o,m);y!=b&&h.push({from:p.from,to:p.from+y.length,insert:b})}return h.length?[i,{changes:h,sequential:!0}]:i})}const Pj=K.define(),IA=new Qe;function Dj(i){let e=i.firstChild,t=i.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?i.to:t.from}:null}function Zj(i,e,t){let n=At(i);if(n.length<t)return null;let s=n.resolveStack(t,1),l=null;for(let o=s;o;o=o.next){let c=o.node;if(c.to<=t||c.from>t)continue;if(l&&c.from<e)break;let h=c.type.prop(IA);if(h&&(c.to<n.length-50||n.length==i.doc.length||!Lj(c))){let d=h(c,i);d&&d.from<=t&&d.from>=e&&d.to>t&&(l=d)}}return l}function Lj(i){let e=i.lastChild;return e&&e.to==i.to&&e.type.isError}function nd(i,e,t){for(let n of i.facet(Pj)){let s=n(i,e,t);if(s)return s}return Zj(i,e,t)}function GA(i,e){let t=e.mapPos(i.from,1),n=e.mapPos(i.to,-1);return t>=n?void 0:{from:t,to:n}}const Nd=Oe.define({map:GA}),lu=Oe.define({map:GA});function WA(i){let e=[];for(let{head:t}of i.state.selection.ranges)e.some(n=>n.from<=t&&n.to>=t)||e.push(i.lineBlockAt(t));return e}const il=Dt.define({create(){return se.none},update(i,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((t,n)=>i=Mx(i,t,n)),i=i.map(e.changes);for(let t of e.effects)if(t.is(Nd)&&!zj(i,t.value.from,t.value.to)){let{preparePlaceholder:n}=e.state.facet(JA),s=n?se.replace({widget:new Yj(n(e.state,t.value))}):Px;i=i.update({add:[s.range(t.value.from,t.value.to)]})}else t.is(lu)&&(i=i.update({filter:(n,s)=>t.value.from!=n||t.value.to!=s,filterFrom:t.value.from,filterTo:t.value.to}));return e.selection&&(i=Mx(i,e.selection.main.head)),i},provide:i=>H.decorations.from(i),toJSON(i,e){let t=[];return i.between(0,e.doc.length,(n,s)=>{t.push(n,s)}),t},fromJSON(i){if(!Array.isArray(i)||i.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<i.length;){let n=i[t++],s=i[t++];if(typeof n!="number"||typeof s!="number")throw new RangeError("Invalid JSON for fold state");e.push(Px.range(n,s))}return se.set(e,!0)}});function Mx(i,e,t=e){let n=!1;return i.between(e,t,(s,l)=>{s<t&&l>e&&(n=!0)}),n?i.update({filterFrom:e,filterTo:t,filter:(s,l)=>s>=t||l<=e}):i}function sd(i,e,t){var n;let s=null;return(n=i.field(il,!1))===null||n===void 0||n.between(e,t,(l,o)=>{(!s||s.from>l)&&(s={from:l,to:o})}),s}function zj(i,e,t){let n=!1;return i.between(e,e,(s,l)=>{s==e&&l==t&&(n=!0)}),n}function HA(i,e){return i.field(il,!1)?e:e.concat(Oe.appendConfig.of(FA()))}const jj=i=>{for(let e of WA(i)){let t=nd(i.state,e.from,e.to);if(t)return i.dispatch({effects:HA(i.state,[Nd.of(t),KA(i,t)])}),!0}return!1},Uj=i=>{if(!i.state.field(il,!1))return!1;let e=[];for(let t of WA(i)){let n=sd(i.state,t.from,t.to);n&&e.push(lu.of(n),KA(i,n,!1))}return e.length&&i.dispatch({effects:e}),e.length>0};function KA(i,e,t=!0){let n=i.state.doc.lineAt(e.from).number,s=i.state.doc.lineAt(e.to).number;return H.announce.of(`${i.state.phrase(t?"Folded lines":"Unfolded lines")} ${n} ${i.state.phrase("to")} ${s}.`)}const Nj=i=>{let{state:e}=i,t=[];for(let n=0;n<e.doc.length;){let s=i.lineBlockAt(n),l=nd(e,s.from,s.to);l&&t.push(Nd.of(l)),n=(l?i.lineBlockAt(l.to):s).to+1}return t.length&&i.dispatch({effects:HA(i.state,t)}),!!t.length},Bj=i=>{let e=i.state.field(il,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,i.state.doc.length,(n,s)=>{t.push(lu.of({from:n,to:s}))}),i.dispatch({effects:t}),!0},Xj=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:jj},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Uj},{key:"Ctrl-Alt-[",run:Nj},{key:"Ctrl-Alt-]",run:Bj}],qj={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},JA=K.define({combine(i){return Xn(i,qj)}});function FA(i){return[il,Gj]}function eC(i,e){let{state:t}=i,n=t.facet(JA),s=o=>{let c=i.lineBlockAt(i.posAtDOM(o.target)),h=sd(i.state,c.from,c.to);h&&i.dispatch({effects:lu.of(h)}),o.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(i,s,e);let l=document.createElement("span");return l.textContent=n.placeholderText,l.setAttribute("aria-label",t.phrase("folded code")),l.title=t.phrase("unfold"),l.className="cm-foldPlaceholder",l.onclick=s,l}const Px=se.replace({widget:new class extends bn{toDOM(i){return eC(i,null)}}});class Yj extends bn{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return eC(e,this.value)}}const Vj={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class rO extends gs{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function Ij(i={}){let e={...Vj,...i},t=new rO(e,!0),n=new rO(e,!1),s=rt.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(ar)!=o.state.facet(ar)||o.startState.field(il,!1)!=o.state.field(il,!1)||At(o.startState)!=At(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let c=new ds;for(let h of o.viewportLineBlocks){let d=sd(o.state,h.from,h.to)?n:nd(o.state,h.from,h.to)?t:null;d&&c.add(h.from,h.from,d)}return c.finish()}}),{domEventHandlers:l}=e;return[s,I3({class:"cm-foldGutter",markers(o){var c;return((c=o.plugin(s))===null||c===void 0?void 0:c.markers)||Te.empty},initialSpacer(){return new rO(e,!1)},domEventHandlers:{...l,click:(o,c,h)=>{if(l.click&&l.click(o,c,h))return!0;let d=sd(o.state,c.from,c.to);if(d)return o.dispatch({effects:lu.of(d)}),!0;let p=nd(o.state,c.from,c.to);return p?(o.dispatch({effects:Nd.of(p)}),!0):!1}}}),FA()]}const Gj=H.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Bd{constructor(e,t){this.specs=e;let n;function s(c){let h=nr.newName();return(n||(n=Object.create(null)))["."+h]=c,h}const l=typeof t.all=="string"?t.all:t.all?s(t.all):void 0,o=t.scope;this.scope=o instanceof pn?c=>c.prop(aa)==o.data:o?c=>c==o:void 0,this.style=NA(e.map(c=>({tag:c.tag,class:c.class||s(Object.assign({},c,{tag:null}))})),{all:l}).style,this.module=n?new nr(n):null,this.themeType=t.themeType}static define(e,t){return new Bd(e,t||{})}}const j0=K.define(),tC=K.define({combine(i){return i.length?[i[0]]:null}});function lO(i){let e=i.facet(j0);return e.length?e:i.facet(tC)}function Wj(i,e){let t=[Kj],n;return i instanceof Bd&&(i.module&&t.push(H.styleModule.of(i.module)),n=i.themeType),e?.fallback?t.push(tC.of(i)):n?t.push(j0.computeN([H.darkTheme],s=>s.facet(H.darkTheme)==(n=="dark")?[i]:[])):t.push(j0.of(i)),t}class Hj{constructor(e){this.markCache=Object.create(null),this.tree=At(e.state),this.decorations=this.buildDeco(e,lO(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=At(e.state),n=lO(e.state),s=n!=lO(e.startState),{viewport:l}=e.view,o=e.changes.mapPos(this.decoratedTo,1);t.length<l.to&&!s&&t.type==this.tree.type&&o>=l.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(t!=this.tree||e.viewportChanged||s)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n),this.decoratedTo=l.to)}buildDeco(e,t){if(!t||!this.tree.length)return se.none;let n=new ds;for(let{from:s,to:l}of e.visibleRanges)Oj(this.tree,t,(o,c,h)=>{n.add(o,c,this.markCache[h]||(this.markCache[h]=se.mark({class:h})))},s,l);return n.finish()}}const Kj=cr.high(rt.fromClass(Hj,{decorations:i=>i.decorations})),Jj=Bd.define([{tag:D.meta,color:"#404740"},{tag:D.link,textDecoration:"underline"},{tag:D.heading,textDecoration:"underline",fontWeight:"bold"},{tag:D.emphasis,fontStyle:"italic"},{tag:D.strong,fontWeight:"bold"},{tag:D.strikethrough,textDecoration:"line-through"},{tag:D.keyword,color:"#708"},{tag:[D.atom,D.bool,D.url,D.contentSeparator,D.labelName],color:"#219"},{tag:[D.literal,D.inserted],color:"#164"},{tag:[D.string,D.deleted],color:"#a11"},{tag:[D.regexp,D.escape,D.special(D.string)],color:"#e40"},{tag:D.definition(D.variableName),color:"#00f"},{tag:D.local(D.variableName),color:"#30a"},{tag:[D.typeName,D.namespace],color:"#085"},{tag:D.className,color:"#167"},{tag:[D.special(D.variableName),D.macroName],color:"#256"},{tag:D.definition(D.propertyName),color:"#00c"},{tag:D.comment,color:"#940"},{tag:D.invalid,color:"#f00"}]),Fj=H.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),iC=1e4,nC="()[]{}",sC=K.define({combine(i){return Xn(i,{afterCursor:!0,brackets:nC,maxScanDistance:iC,renderMatch:iU})}}),eU=se.mark({class:"cm-matchingBracket"}),tU=se.mark({class:"cm-nonmatchingBracket"});function iU(i){let e=[],t=i.matched?eU:tU;return e.push(t.range(i.start.from,i.start.to)),i.end&&e.push(t.range(i.end.from,i.end.to)),e}const nU=Dt.define({create(){return se.none},update(i,e){if(!e.docChanged&&!e.selection)return i;let t=[],n=e.state.facet(sC);for(let s of e.state.selection.ranges){if(!s.empty)continue;let l=Dn(e.state,s.head,-1,n)||s.head>0&&Dn(e.state,s.head-1,1,n)||n.afterCursor&&(Dn(e.state,s.head,1,n)||s.head<e.state.doc.length&&Dn(e.state,s.head+1,-1,n));l&&(t=t.concat(n.renderMatch(l,e.state)))}return se.set(t,!0)},provide:i=>H.decorations.from(i)}),sU=[nU,Fj];function rU(i={}){return[sC.of(i),sU]}const lU=new Qe;function U0(i,e,t){let n=i.prop(e<0?Qe.openedBy:Qe.closedBy);if(n)return n;if(i.name.length==1){let s=t.indexOf(i.name);if(s>-1&&s%2==(e<0?1:0))return[t[s+e]]}return null}function N0(i){let e=i.type.prop(lU);return e?e(i.node):i}function Dn(i,e,t,n={}){let s=n.maxScanDistance||iC,l=n.brackets||nC,o=At(i),c=o.resolveInner(e,t);for(let h=c;h;h=h.parent){let d=U0(h.type,t,l);if(d&&h.from<h.to){let p=N0(h);if(p&&(t>0?e>=p.from&&e<p.to:e>p.from&&e<=p.to))return aU(i,e,t,h,p,d,l)}}return oU(i,e,t,o,c.type,s,l)}function aU(i,e,t,n,s,l,o){let c=n.parent,h={from:s.from,to:s.to},d=0,p=c?.cursor();if(p&&(t<0?p.childBefore(n.from):p.childAfter(n.to)))do if(t<0?p.to<=n.from:p.from>=n.to){if(d==0&&l.indexOf(p.type.name)>-1&&p.from<p.to){let m=N0(p);return{start:h,end:m?{from:m.from,to:m.to}:void 0,matched:!0}}else if(U0(p.type,t,o))d++;else if(U0(p.type,-t,o)){if(d==0){let m=N0(p);return{start:h,end:m&&m.from<m.to?{from:m.from,to:m.to}:void 0,matched:!1}}d--}}while(t<0?p.prevSibling():p.nextSibling());return{start:h,matched:!1}}function oU(i,e,t,n,s,l,o){let c=t<0?i.sliceDoc(e-1,e):i.sliceDoc(e,e+1),h=o.indexOf(c);if(h<0||h%2==0!=t>0)return null;let d={from:t<0?e-1:e,to:t>0?e+1:e},p=i.doc.iterRange(e,t>0?i.doc.length:0),m=0;for(let y=0;!p.next().done&&y<=l;){let b=p.value;t<0&&(y+=b.length);let v=e+y*t;for(let w=t>0?0:b.length-1,x=t>0?b.length:-1;w!=x;w+=t){let _=o.indexOf(b[w]);if(!(_<0||n.resolveInner(v+w,1).type!=s))if(_%2==0==t>0)m++;else{if(m==1)return{start:d,end:{from:v+w,to:v+w+1},matched:_>>1==h>>1};m--}}t>0&&(y+=b.length)}return p.done?{start:d,matched:!1}:null}const cU=Object.create(null),Dx=[yi.none],Zx=[],Lx=Object.create(null),uU=Object.create(null);for(let[i,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])uU[i]=hU(cU,e);function aO(i,e){Zx.indexOf(i)>-1||(Zx.push(i),console.warn(e))}function hU(i,e){let t=[];for(let c of e.split(" ")){let h=[];for(let d of c.split(".")){let p=i[d]||D[d];p?typeof p=="function"?h.length?h=h.map(p):aO(d,`Modifier ${d} used at start of tag`):h.length?aO(d,`Tag ${d} used as modifier`):h=Array.isArray(p)?p:[p]:aO(d,`Unknown highlighting tag ${d}`)}for(let d of h)t.push(d)}if(!t.length)return 0;let n=e.replace(/ /g,"_"),s=n+" "+t.map(c=>c.id),l=Lx[s];if(l)return l.id;let o=Lx[s]=yi.define({id:Dx.length,name:n,props:[jA({[n]:t})]});return Dx.push(o),o.id}Ke.RTL,Ke.LTR;const fU=i=>{let{state:e}=i,t=e.doc.lineAt(e.selection.main.from),n=tb(i.state,t.from);return n.line?dU(i):n.block?gU(i):!1};function eb(i,e){return({state:t,dispatch:n})=>{if(t.readOnly)return!1;let s=i(e,t);return s?(n(t.update(s)),!0):!1}}const dU=eb(yU,0),pU=eb(rC,0),gU=eb((i,e)=>rC(i,e,OU(e)),0);function tb(i,e){let t=i.languageDataAt("commentTokens",e,1);return t.length?t[0]:{}}const Go=50;function mU(i,{open:e,close:t},n,s){let l=i.sliceDoc(n-Go,n),o=i.sliceDoc(s,s+Go),c=/\s*$/.exec(l)[0].length,h=/^\s*/.exec(o)[0].length,d=l.length-c;if(l.slice(d-e.length,d)==e&&o.slice(h,h+t.length)==t)return{open:{pos:n-c,margin:c&&1},close:{pos:s+h,margin:h&&1}};let p,m;s-n<=2*Go?p=m=i.sliceDoc(n,s):(p=i.sliceDoc(n,n+Go),m=i.sliceDoc(s-Go,s));let y=/^\s*/.exec(p)[0].length,b=/\s*$/.exec(m)[0].length,v=m.length-b-t.length;return p.slice(y,y+e.length)==e&&m.slice(v,v+t.length)==t?{open:{pos:n+y+e.length,margin:/\s/.test(p.charAt(y+e.length))?1:0},close:{pos:s-b-t.length,margin:/\s/.test(m.charAt(v-1))?1:0}}:null}function OU(i){let e=[];for(let t of i.selection.ranges){let n=i.doc.lineAt(t.from),s=t.to<=n.to?n:i.doc.lineAt(t.to);s.from>n.from&&s.from==t.to&&(s=t.to==n.to+1?n:i.doc.lineAt(t.to-1));let l=e.length-1;l>=0&&e[l].to>n.from?e[l].to=s.to:e.push({from:n.from+/^\s*/.exec(n.text)[0].length,to:s.to})}return e}function rC(i,e,t=e.selection.ranges){let n=t.map(l=>tb(e,l.from).block);if(!n.every(l=>l))return null;let s=t.map((l,o)=>mU(e,n[o],l.from,l.to));if(i!=2&&!s.every(l=>l))return{changes:e.changes(t.map((l,o)=>s[o]?[]:[{from:l.from,insert:n[o].open+" "},{from:l.to,insert:" "+n[o].close}]))};if(i!=1&&s.some(l=>l)){let l=[];for(let o=0,c;o<s.length;o++)if(c=s[o]){let h=n[o],{open:d,close:p}=c;l.push({from:d.pos-h.open.length,to:d.pos+d.margin},{from:p.pos-p.margin,to:p.pos+h.close.length})}return{changes:l}}return null}function yU(i,e,t=e.selection.ranges){let n=[],s=-1;for(let{from:l,to:o}of t){let c=n.length,h=1e9,d=tb(e,l).line;if(d){for(let p=l;p<=o;){let m=e.doc.lineAt(p);if(m.from>s&&(l==o||o>m.from)){s=m.from;let y=/^\s*/.exec(m.text)[0].length,b=y==m.length,v=m.text.slice(y,y+d.length)==d?y:-1;y<m.text.length&&y<h&&(h=y),n.push({line:m,comment:v,token:d,indent:y,empty:b,single:!1})}p=m.to+1}if(h<1e9)for(let p=c;p<n.length;p++)n[p].indent<n[p].line.text.length&&(n[p].indent=h);n.length==c+1&&(n[c].single=!0)}}if(i!=2&&n.some(l=>l.comment<0&&(!l.empty||l.single))){let l=[];for(let{line:c,token:h,indent:d,empty:p,single:m}of n)(m||!p)&&l.push({from:c.from+d,insert:h+" "});let o=e.changes(l);return{changes:o,selection:e.selection.map(o,1)}}else if(i!=1&&n.some(l=>l.comment>=0)){let l=[];for(let{line:o,comment:c,token:h}of n)if(c>=0){let d=o.from+c,p=d+h.length;o.text[p-o.from]==" "&&p++,l.push({from:d,to:p})}return{changes:l}}return null}const B0=yn.define(),bU=yn.define(),vU=K.define(),lC=K.define({combine(i){return Xn(i,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(n,s)=>e(n,s)||t(n,s)})}}),aC=Dt.define({create(){return Zn.empty},update(i,e){let t=e.state.facet(lC),n=e.annotation(B0);if(n){let h=gi.fromTransaction(e,n.selection),d=n.side,p=d==0?i.undone:i.done;return h?p=rd(p,p.length,t.minDepth,h):p=uC(p,e.startState.selection),new Zn(d==0?n.rest:p,d==0?p:n.rest)}let s=e.annotation(bU);if((s=="full"||s=="before")&&(i=i.isolate()),e.annotation(vt.addToHistory)===!1)return e.changes.empty?i:i.addMapping(e.changes.desc);let l=gi.fromTransaction(e),o=e.annotation(vt.time),c=e.annotation(vt.userEvent);return l?i=i.addChanges(l,o,c,t,e):e.selection&&(i=i.addSelection(e.startState.selection,o,c,t.newGroupDelay)),(s=="full"||s=="after")&&(i=i.isolate()),i},toJSON(i){return{done:i.done.map(e=>e.toJSON()),undone:i.undone.map(e=>e.toJSON())}},fromJSON(i){return new Zn(i.done.map(gi.fromJSON),i.undone.map(gi.fromJSON))}});function SU(i={}){return[aC,lC.of(i),H.domEventHandlers({beforeinput(e,t){let n=e.inputType=="historyUndo"?oC:e.inputType=="historyRedo"?X0:null;return n?(e.preventDefault(),n(t)):!1}})]}function Xd(i,e){return function({state:t,dispatch:n}){if(!e&&t.readOnly)return!1;let s=t.field(aC,!1);if(!s)return!1;let l=s.pop(i,t,e);return l?(n(l),!0):!1}}const oC=Xd(0,!1),X0=Xd(1,!1),wU=Xd(0,!0),kU=Xd(1,!0);class gi{constructor(e,t,n,s,l){this.changes=e,this.effects=t,this.mapped=n,this.startSelection=s,this.selectionsAfter=l}setSelAfter(e){return new gi(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,n;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(n=this.startSelection)===null||n===void 0?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map(s=>s.toJSON())}}static fromJSON(e){return new gi(e.changes&&_t.fromJSON(e.changes),[],e.mapped&&Ln.fromJSON(e.mapped),e.startSelection&&q.fromJSON(e.startSelection),e.selectionsAfter.map(q.fromJSON))}static fromTransaction(e,t){let n=en;for(let s of e.startState.facet(vU)){let l=s(e);l.length&&(n=n.concat(l))}return!n.length&&e.changes.empty?null:new gi(e.changes.invert(e.startState.doc),n,void 0,t||e.startState.selection,en)}static selection(e){return new gi(void 0,en,void 0,void 0,e)}}function rd(i,e,t,n){let s=e+1>t+20?e-t-1:0,l=i.slice(s,e);return l.push(n),l}function xU(i,e){let t=[],n=!1;return i.iterChangedRanges((s,l)=>t.push(s,l)),e.iterChangedRanges((s,l,o,c)=>{for(let h=0;h<t.length;){let d=t[h++],p=t[h++];c>=d&&o<=p&&(n=!0)}}),n}function _U(i,e){return i.ranges.length==e.ranges.length&&i.ranges.filter((t,n)=>t.empty!=e.ranges[n].empty).length===0}function cC(i,e){return i.length?e.length?i.concat(e):i:e}const en=[],TU=200;function uC(i,e){if(i.length){let t=i[i.length-1],n=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-TU));return n.length&&n[n.length-1].eq(e)?i:(n.push(e),rd(i,i.length-1,1e9,t.setSelAfter(n)))}else return[gi.selection([e])]}function QU(i){let e=i[i.length-1],t=i.slice();return t[i.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function oO(i,e){if(!i.length)return i;let t=i.length,n=en;for(;t;){let s=AU(i[t-1],e,n);if(s.changes&&!s.changes.empty||s.effects.length){let l=i.slice(0,t);return l[t-1]=s,l}else e=s.mapped,t--,n=s.selectionsAfter}return n.length?[gi.selection(n)]:en}function AU(i,e,t){let n=cC(i.selectionsAfter.length?i.selectionsAfter.map(c=>c.map(e)):en,t);if(!i.changes)return gi.selection(n);let s=i.changes.map(e),l=e.mapDesc(i.changes,!0),o=i.mapped?i.mapped.composeDesc(l):l;return new gi(s,Oe.mapEffects(i.effects,e),o,i.startSelection.map(l),n)}const CU=/^(input\.type|delete)($|\.)/;class Zn{constructor(e,t,n=0,s=void 0){this.done=e,this.undone=t,this.prevTime=n,this.prevUserEvent=s}isolate(){return this.prevTime?new Zn(this.done,this.undone):this}addChanges(e,t,n,s,l){let o=this.done,c=o[o.length-1];return c&&c.changes&&!c.changes.empty&&e.changes&&(!n||CU.test(n))&&(!c.selectionsAfter.length&&t-this.prevTime<s.newGroupDelay&&s.joinToEvent(l,xU(c.changes,e.changes))||n=="input.type.compose")?o=rd(o,o.length-1,s.minDepth,new gi(e.changes.compose(c.changes),cC(Oe.mapEffects(e.effects,c.changes),c.effects),c.mapped,c.startSelection,en)):o=rd(o,o.length,s.minDepth,e),new Zn(o,en,t,n)}addSelection(e,t,n,s){let l=this.done.length?this.done[this.done.length-1].selectionsAfter:en;return l.length>0&&t-this.prevTime<s&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&_U(l[l.length-1],e)?this:new Zn(uC(this.done,e),this.undone,t,n)}addMapping(e){return new Zn(oO(this.done,e),oO(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,n){let s=e==0?this.done:this.undone;if(s.length==0)return null;let l=s[s.length-1],o=l.selectionsAfter[0]||t.selection;if(n&&l.selectionsAfter.length)return t.update({selection:l.selectionsAfter[l.selectionsAfter.length-1],annotations:B0.of({side:e,rest:QU(s),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(l.changes){let c=s.length==1?en:s.slice(0,s.length-1);return l.mapped&&(c=oO(c,l.mapped)),t.update({changes:l.changes,selection:l.startSelection,effects:l.effects,annotations:B0.of({side:e,rest:c,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Zn.empty=new Zn(en,en);const $U=[{key:"Mod-z",run:oC,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:X0,preventDefault:!0},{linux:"Ctrl-Shift-z",run:X0,preventDefault:!0},{key:"Mod-u",run:wU,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:kU,preventDefault:!0}];function qa(i,e){return q.create(i.ranges.map(e),i.mainIndex)}function vn(i,e){return i.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Sn({state:i,dispatch:e},t){let n=qa(i.selection,t);return n.eq(i.selection,!0)?!1:(e(vn(i,n)),!0)}function qd(i,e){return q.cursor(e?i.to:i.from)}function hC(i,e){return Sn(i,t=>t.empty?i.moveByChar(t,e):qd(t,e))}function Ht(i){return i.textDirectionAt(i.state.selection.main.head)==Ke.LTR}const fC=i=>hC(i,!Ht(i)),dC=i=>hC(i,Ht(i));function pC(i,e){return Sn(i,t=>t.empty?i.moveByGroup(t,e):qd(t,e))}const EU=i=>pC(i,!Ht(i)),RU=i=>pC(i,Ht(i));function MU(i,e,t){if(e.type.prop(t))return!0;let n=e.to-e.from;return n&&(n>2||/[^\s,.;:]/.test(i.sliceDoc(e.from,e.to)))||e.firstChild}function Yd(i,e,t){let n=At(i).resolveInner(e.head),s=t?Qe.closedBy:Qe.openedBy;for(let h=e.head;;){let d=t?n.childAfter(h):n.childBefore(h);if(!d)break;MU(i,d,s)?n=d:h=t?d.to:d.from}let l=n.type.prop(s),o,c;return l&&(o=t?Dn(i,n.from,1):Dn(i,n.to,-1))&&o.matched?c=t?o.end.to:o.end.from:c=t?n.to:n.from,q.cursor(c,t?-1:1)}const PU=i=>Sn(i,e=>Yd(i.state,e,!Ht(i))),DU=i=>Sn(i,e=>Yd(i.state,e,Ht(i)));function gC(i,e){return Sn(i,t=>{if(!t.empty)return qd(t,e);let n=i.moveVertically(t,e);return n.head!=t.head?n:i.moveToLineBoundary(t,e)})}const mC=i=>gC(i,!1),OC=i=>gC(i,!0);function yC(i){let e=i.scrollDOM.clientHeight<i.scrollDOM.scrollHeight-2,t=0,n=0,s;if(e){for(let l of i.state.facet(H.scrollMargins)){let o=l(i);o?.top&&(t=Math.max(o?.top,t)),o?.bottom&&(n=Math.max(o?.bottom,n))}s=i.scrollDOM.clientHeight-t-n}else s=(i.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:n,selfScroll:e,height:Math.max(i.defaultLineHeight,s-5)}}function bC(i,e){let t=yC(i),{state:n}=i,s=qa(n.selection,o=>o.empty?i.moveVertically(o,e,t.height):qd(o,e));if(s.eq(n.selection))return!1;let l;if(t.selfScroll){let o=i.coordsAtPos(n.selection.main.head),c=i.scrollDOM.getBoundingClientRect(),h=c.top+t.marginTop,d=c.bottom-t.marginBottom;o&&o.top>h&&o.bottom<d&&(l=H.scrollIntoView(s.main.head,{y:"start",yMargin:o.top-h}))}return i.dispatch(vn(n,s),{effects:l}),!0}const zx=i=>bC(i,!1),q0=i=>bC(i,!0);function ur(i,e,t){let n=i.lineBlockAt(e.head),s=i.moveToLineBoundary(e,t);if(s.head==e.head&&s.head!=(t?n.to:n.from)&&(s=i.moveToLineBoundary(e,t,!1)),!t&&s.head==n.from&&n.length){let l=/^\s*/.exec(i.state.sliceDoc(n.from,Math.min(n.from+100,n.to)))[0].length;l&&e.head!=n.from+l&&(s=q.cursor(n.from+l))}return s}const ZU=i=>Sn(i,e=>ur(i,e,!0)),LU=i=>Sn(i,e=>ur(i,e,!1)),zU=i=>Sn(i,e=>ur(i,e,!Ht(i))),jU=i=>Sn(i,e=>ur(i,e,Ht(i))),UU=i=>Sn(i,e=>q.cursor(i.lineBlockAt(e.head).from,1)),NU=i=>Sn(i,e=>q.cursor(i.lineBlockAt(e.head).to,-1));function BU(i,e,t){let n=!1,s=qa(i.selection,l=>{let o=Dn(i,l.head,-1)||Dn(i,l.head,1)||l.head>0&&Dn(i,l.head-1,1)||l.head<i.doc.length&&Dn(i,l.head+1,-1);if(!o||!o.end)return l;n=!0;let c=o.start.from==l.head?o.end.to:o.end.from;return q.cursor(c)});return n?(e(vn(i,s)),!0):!1}const XU=({state:i,dispatch:e})=>BU(i,e);function sn(i,e){let t=qa(i.state.selection,n=>{let s=e(n);return q.range(n.anchor,s.head,s.goalColumn,s.bidiLevel||void 0)});return t.eq(i.state.selection)?!1:(i.dispatch(vn(i.state,t)),!0)}function vC(i,e){return sn(i,t=>i.moveByChar(t,e))}const SC=i=>vC(i,!Ht(i)),wC=i=>vC(i,Ht(i));function kC(i,e){return sn(i,t=>i.moveByGroup(t,e))}const qU=i=>kC(i,!Ht(i)),YU=i=>kC(i,Ht(i)),VU=i=>sn(i,e=>Yd(i.state,e,!Ht(i))),IU=i=>sn(i,e=>Yd(i.state,e,Ht(i)));function xC(i,e){return sn(i,t=>i.moveVertically(t,e))}const _C=i=>xC(i,!1),TC=i=>xC(i,!0);function QC(i,e){return sn(i,t=>i.moveVertically(t,e,yC(i).height))}const jx=i=>QC(i,!1),Ux=i=>QC(i,!0),GU=i=>sn(i,e=>ur(i,e,!0)),WU=i=>sn(i,e=>ur(i,e,!1)),HU=i=>sn(i,e=>ur(i,e,!Ht(i))),KU=i=>sn(i,e=>ur(i,e,Ht(i))),JU=i=>sn(i,e=>q.cursor(i.lineBlockAt(e.head).from)),FU=i=>sn(i,e=>q.cursor(i.lineBlockAt(e.head).to)),Nx=({state:i,dispatch:e})=>(e(vn(i,{anchor:0})),!0),Bx=({state:i,dispatch:e})=>(e(vn(i,{anchor:i.doc.length})),!0),Xx=({state:i,dispatch:e})=>(e(vn(i,{anchor:i.selection.main.anchor,head:0})),!0),qx=({state:i,dispatch:e})=>(e(vn(i,{anchor:i.selection.main.anchor,head:i.doc.length})),!0),eN=({state:i,dispatch:e})=>(e(i.update({selection:{anchor:0,head:i.doc.length},userEvent:"select"})),!0),tN=({state:i,dispatch:e})=>{let t=Vd(i).map(({from:n,to:s})=>q.range(n,Math.min(s+1,i.doc.length)));return e(i.update({selection:q.create(t),userEvent:"select"})),!0},iN=({state:i,dispatch:e})=>{let t=qa(i.selection,n=>{let s=At(i),l=s.resolveStack(n.from,1);if(n.empty){let o=s.resolveStack(n.from,-1);o.node.from>=l.node.from&&o.node.to<=l.node.to&&(l=o)}for(let o=l;o;o=o.next){let{node:c}=o;if((c.from<n.from&&c.to>=n.to||c.to>n.to&&c.from<=n.from)&&o.next)return q.range(c.to,c.from)}return n});return t.eq(i.selection)?!1:(e(vn(i,t)),!0)};function AC(i,e){let{state:t}=i,n=t.selection,s=t.selection.ranges.slice();for(let l of t.selection.ranges){let o=t.doc.lineAt(l.head);if(e?o.to<i.state.doc.length:o.from>0)for(let c=l;;){let h=i.moveVertically(c,e);if(h.head<o.from||h.head>o.to){s.some(d=>d.head==h.head)||s.push(h);break}else{if(h.head==c.head)break;c=h}}}return s.length==n.ranges.length?!1:(i.dispatch(vn(t,q.create(s,s.length-1))),!0)}const nN=i=>AC(i,!1),sN=i=>AC(i,!0),rN=({state:i,dispatch:e})=>{let t=i.selection,n=null;return t.ranges.length>1?n=q.create([t.main]):t.main.empty||(n=q.create([q.cursor(t.main.head)])),n?(e(vn(i,n)),!0):!1};function au(i,e){if(i.state.readOnly)return!1;let t="delete.selection",{state:n}=i,s=n.changeByRange(l=>{let{from:o,to:c}=l;if(o==c){let h=e(l);h<o?(t="delete.backward",h=lf(i,h,!1)):h>o&&(t="delete.forward",h=lf(i,h,!0)),o=Math.min(o,h),c=Math.max(c,h)}else o=lf(i,o,!1),c=lf(i,c,!0);return o==c?{range:l}:{changes:{from:o,to:c},range:q.cursor(o,o<l.head?-1:1)}});return s.changes.empty?!1:(i.dispatch(n.update(s,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?H.announce.of(n.phrase("Selection deleted")):void 0})),!0)}function lf(i,e,t){if(i instanceof H)for(let n of i.state.facet(H.atomicRanges).map(s=>s(i)))n.between(e,e,(s,l)=>{s<e&&l>e&&(e=t?l:s)});return e}const CC=(i,e,t)=>au(i,n=>{let s=n.from,{state:l}=i,o=l.doc.lineAt(s),c,h;if(t&&!e&&s>o.from&&s<o.from+200&&!/[^ \t]/.test(c=o.text.slice(0,s-o.from))){if(c[c.length-1]=="	")return s-1;let d=Xa(c,l.tabSize),p=d%id(l)||id(l);for(let m=0;m<p&&c[c.length-1-m]==" ";m++)s--;h=s}else h=Tt(o.text,s-o.from,e,e)+o.from,h==s&&o.number!=(e?l.doc.lines:1)?h+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(h-o.from,s-o.from))&&(h=Tt(o.text,h-o.from,!1,!1)+o.from);return h}),Y0=i=>CC(i,!1,!0),$C=i=>CC(i,!0,!1),EC=(i,e)=>au(i,t=>{let n=t.head,{state:s}=i,l=s.doc.lineAt(n),o=s.charCategorizer(n);for(let c=null;;){if(n==(e?l.to:l.from)){n==t.head&&l.number!=(e?s.doc.lines:1)&&(n+=e?1:-1);break}let h=Tt(l.text,n-l.from,e)+l.from,d=l.text.slice(Math.min(n,h)-l.from,Math.max(n,h)-l.from),p=o(d);if(c!=null&&p!=c)break;(d!=" "||n!=t.head)&&(c=p),n=h}return n}),RC=i=>EC(i,!1),lN=i=>EC(i,!0),aN=i=>au(i,e=>{let t=i.lineBlockAt(e.head).to;return e.head<t?t:Math.min(i.state.doc.length,e.head+1)}),oN=i=>au(i,e=>{let t=i.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),cN=i=>au(i,e=>{let t=i.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(i.state.doc.length,e.head+1)}),uN=({state:i,dispatch:e})=>{if(i.readOnly)return!1;let t=i.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:Le.of(["",""])},range:q.cursor(n.from)}));return e(i.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},hN=({state:i,dispatch:e})=>{if(i.readOnly)return!1;let t=i.changeByRange(n=>{if(!n.empty||n.from==0||n.from==i.doc.length)return{range:n};let s=n.from,l=i.doc.lineAt(s),o=s==l.from?s-1:Tt(l.text,s-l.from,!1)+l.from,c=s==l.to?s+1:Tt(l.text,s-l.from,!0)+l.from;return{changes:{from:o,to:c,insert:i.doc.slice(s,c).append(i.doc.slice(o,s))},range:q.cursor(c)}});return t.changes.empty?!1:(e(i.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Vd(i){let e=[],t=-1;for(let n of i.selection.ranges){let s=i.doc.lineAt(n.from),l=i.doc.lineAt(n.to);if(!n.empty&&n.to==l.from&&(l=i.doc.lineAt(n.to-1)),t>=s.number){let o=e[e.length-1];o.to=l.to,o.ranges.push(n)}else e.push({from:s.from,to:l.to,ranges:[n]});t=l.number+1}return e}function MC(i,e,t){if(i.readOnly)return!1;let n=[],s=[];for(let l of Vd(i)){if(t?l.to==i.doc.length:l.from==0)continue;let o=i.doc.lineAt(t?l.to+1:l.from-1),c=o.length+1;if(t){n.push({from:l.to,to:o.to},{from:l.from,insert:o.text+i.lineBreak});for(let h of l.ranges)s.push(q.range(Math.min(i.doc.length,h.anchor+c),Math.min(i.doc.length,h.head+c)))}else{n.push({from:o.from,to:l.from},{from:l.to,insert:i.lineBreak+o.text});for(let h of l.ranges)s.push(q.range(h.anchor-c,h.head-c))}}return n.length?(e(i.update({changes:n,scrollIntoView:!0,selection:q.create(s,i.selection.mainIndex),userEvent:"move.line"})),!0):!1}const fN=({state:i,dispatch:e})=>MC(i,e,!1),dN=({state:i,dispatch:e})=>MC(i,e,!0);function PC(i,e,t){if(i.readOnly)return!1;let n=[];for(let l of Vd(i))t?n.push({from:l.from,insert:i.doc.slice(l.from,l.to)+i.lineBreak}):n.push({from:l.to,insert:i.lineBreak+i.doc.slice(l.from,l.to)});let s=i.changes(n);return e(i.update({changes:s,selection:i.selection.map(s,t?1:-1),scrollIntoView:!0,userEvent:"input.copyline"})),!0}const pN=({state:i,dispatch:e})=>PC(i,e,!1),gN=({state:i,dispatch:e})=>PC(i,e,!0),mN=i=>{if(i.state.readOnly)return!1;let{state:e}=i,t=e.changes(Vd(e).map(({from:s,to:l})=>(s>0?s--:l<e.doc.length&&l++,{from:s,to:l}))),n=qa(e.selection,s=>{let l;if(i.lineWrapping){let o=i.lineBlockAt(s.head),c=i.coordsAtPos(s.head,s.assoc||1);c&&(l=o.bottom+i.documentTop-c.bottom+i.defaultLineHeight/2)}return i.moveVertically(s,!0,l)}).map(t);return i.dispatch({changes:t,selection:n,scrollIntoView:!0,userEvent:"delete.line"}),!0};function ON(i,e){if(/\(\)|\[\]|\{\}/.test(i.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=At(i).resolveInner(e),n=t.childBefore(e),s=t.childAfter(e),l;return n&&s&&n.to<=e&&s.from>=e&&(l=n.type.prop(Qe.closedBy))&&l.indexOf(s.name)>-1&&i.doc.lineAt(n.to).from==i.doc.lineAt(s.from).from&&!/\S/.test(i.sliceDoc(n.to,s.from))?{from:n.to,to:s.from}:null}const Yx=DC(!1),yN=DC(!0);function DC(i){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(s=>{let{from:l,to:o}=s,c=e.doc.lineAt(l),h=!i&&l==o&&ON(e,l);i&&(l=o=(o<=c.to?c:e.doc.lineAt(o)).to);let d=new Ud(e,{simulateBreak:l,simulateDoubleBreak:!!h}),p=Jy(d,l);for(p==null&&(p=Xa(/^\s*/.exec(e.doc.lineAt(l).text)[0],e.tabSize));o<c.to&&/\s/.test(c.text[o-c.from]);)o++;h?{from:l,to:o}=h:l>c.from&&l<c.from+100&&!/\S/.test(c.text.slice(0,l))&&(l=c.from);let m=["",Nc(e,p)];return h&&m.push(Nc(e,d.lineIndent(c.from,-1))),{changes:{from:l,to:o,insert:Le.of(m)},range:q.cursor(l+1+m[1].length)}});return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function ib(i,e){let t=-1;return i.changeByRange(n=>{let s=[];for(let o=n.from;o<=n.to;){let c=i.doc.lineAt(o);c.number>t&&(n.empty||n.to>c.from)&&(e(c,s,n),t=c.number),o=c.to+1}let l=i.changes(s);return{changes:s,range:q.range(l.mapPos(n.anchor,1),l.mapPos(n.head,1))}})}const bN=({state:i,dispatch:e})=>{if(i.readOnly)return!1;let t=Object.create(null),n=new Ud(i,{overrideIndentation:l=>{let o=t[l];return o??-1}}),s=ib(i,(l,o,c)=>{let h=Jy(n,l.from);if(h==null)return;/\S/.test(l.text)||(h=0);let d=/^\s*/.exec(l.text)[0],p=Nc(i,h);(d!=p||c.from<l.from+d.length)&&(t[l.from]=h,o.push({from:l.from,to:l.from+d.length,insert:p}))});return s.changes.empty||e(i.update(s,{userEvent:"indent"})),!0},vN=({state:i,dispatch:e})=>i.readOnly?!1:(e(i.update(ib(i,(t,n)=>{n.push({from:t.from,insert:i.facet(jd)})}),{userEvent:"input.indent"})),!0),SN=({state:i,dispatch:e})=>i.readOnly?!1:(e(i.update(ib(i,(t,n)=>{let s=/^\s*/.exec(t.text)[0];if(!s)return;let l=Xa(s,i.tabSize),o=0,c=Nc(i,Math.max(0,l-id(i)));for(;o<s.length&&o<c.length&&s.charCodeAt(o)==c.charCodeAt(o);)o++;n.push({from:t.from+o,to:t.from+s.length,insert:c.slice(o)})}),{userEvent:"delete.dedent"})),!0),wN=i=>(i.setTabFocusMode(),!0),kN=[{key:"Ctrl-b",run:fC,shift:SC,preventDefault:!0},{key:"Ctrl-f",run:dC,shift:wC},{key:"Ctrl-p",run:mC,shift:_C},{key:"Ctrl-n",run:OC,shift:TC},{key:"Ctrl-a",run:UU,shift:JU},{key:"Ctrl-e",run:NU,shift:FU},{key:"Ctrl-d",run:$C},{key:"Ctrl-h",run:Y0},{key:"Ctrl-k",run:aN},{key:"Ctrl-Alt-h",run:RC},{key:"Ctrl-o",run:uN},{key:"Ctrl-t",run:hN},{key:"Ctrl-v",run:q0}],xN=[{key:"ArrowLeft",run:fC,shift:SC,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:EU,shift:qU,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:zU,shift:HU,preventDefault:!0},{key:"ArrowRight",run:dC,shift:wC,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:RU,shift:YU,preventDefault:!0},{mac:"Cmd-ArrowRight",run:jU,shift:KU,preventDefault:!0},{key:"ArrowUp",run:mC,shift:_C,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Nx,shift:Xx},{mac:"Ctrl-ArrowUp",run:zx,shift:jx},{key:"ArrowDown",run:OC,shift:TC,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Bx,shift:qx},{mac:"Ctrl-ArrowDown",run:q0,shift:Ux},{key:"PageUp",run:zx,shift:jx},{key:"PageDown",run:q0,shift:Ux},{key:"Home",run:LU,shift:WU,preventDefault:!0},{key:"Mod-Home",run:Nx,shift:Xx},{key:"End",run:ZU,shift:GU,preventDefault:!0},{key:"Mod-End",run:Bx,shift:qx},{key:"Enter",run:Yx,shift:Yx},{key:"Mod-a",run:eN},{key:"Backspace",run:Y0,shift:Y0,preventDefault:!0},{key:"Delete",run:$C,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:RC,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:lN,preventDefault:!0},{mac:"Mod-Backspace",run:oN,preventDefault:!0},{mac:"Mod-Delete",run:cN,preventDefault:!0}].concat(kN.map(i=>({mac:i.key,run:i.run,shift:i.shift}))),_N=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:PU,shift:VU},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:DU,shift:IU},{key:"Alt-ArrowUp",run:fN},{key:"Shift-Alt-ArrowUp",run:pN},{key:"Alt-ArrowDown",run:dN},{key:"Shift-Alt-ArrowDown",run:gN},{key:"Mod-Alt-ArrowUp",run:nN},{key:"Mod-Alt-ArrowDown",run:sN},{key:"Escape",run:rN},{key:"Mod-Enter",run:yN},{key:"Alt-l",mac:"Ctrl-l",run:tN},{key:"Mod-i",run:iN,preventDefault:!0},{key:"Mod-[",run:SN},{key:"Mod-]",run:vN},{key:"Mod-Alt-\\",run:bN},{key:"Shift-Mod-k",run:mN},{key:"Shift-Mod-\\",run:XU},{key:"Mod-/",run:fU},{key:"Alt-A",run:pU},{key:"Ctrl-m",mac:"Shift-Alt-m",run:wN}].concat(xN),Vx=typeof String.prototype.normalize=="function"?i=>i.normalize("NFKD"):i=>i;class Za{constructor(e,t,n=0,s=e.length,l,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,s),this.bufferStart=n,this.normalize=l?c=>l(Vx(c)):Vx,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return ui(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=Ay(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=Rn(e);let s=this.normalize(t);if(s.length)for(let l=0,o=n;;l++){let c=s.charCodeAt(l),h=this.match(c,o,this.bufferPos+this.bufferStart);if(l==s.length-1){if(h)return this.value=h,this;break}o==n&&l<t.length&&t.charCodeAt(l)==c&&o++}}}match(e,t,n){let s=null;for(let l=0;l<this.matches.length;l+=2){let o=this.matches[l],c=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?s={from:this.matches[l+1],to:n}:(this.matches[l]++,c=!0)),c||(this.matches.splice(l,2),l-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?s={from:t,to:n}:this.matches.push(1,t)),s&&this.test&&!this.test(s.from,s.to,this.buffer,this.bufferStart)&&(s=null),s}}typeof Symbol<"u"&&(Za.prototype[Symbol.iterator]=function(){return this});const ZC={from:-1,to:-1,match:/.*/.exec("")},nb="gm"+(/x/.unicode==null?"":"u");class LC{constructor(e,t,n,s=0,l=e.length){if(this.text=e,this.to=l,this.curLine="",this.done=!1,this.value=ZC,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new zC(e,t,n,s,l);this.re=new RegExp(t,nb+(n?.ignoreCase?"i":"")),this.test=n?.test,this.iter=e.iter();let o=e.lineAt(s);this.curLineStart=o.from,this.matchPos=ld(e,s),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let n=this.curLineStart+t.index,s=n+t[0].length;if(this.matchPos=ld(this.text,s+(n==s?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<s||n>this.value.to)&&(!this.test||this.test(n,s,t)))return this.value={from:n,to:s,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const cO=new WeakMap;class ba{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,n){let s=cO.get(e);if(!s||s.from>=n||s.to<=t){let c=new ba(t,e.sliceString(t,n));return cO.set(e,c),c}if(s.from==t&&s.to==n)return s;let{text:l,from:o}=s;return o>t&&(l=e.sliceString(t,o)+l,o=t),s.to<n&&(l+=e.sliceString(s.to,n)),cO.set(e,new ba(o,l)),new ba(t,l.slice(t-o,n-o))}}class zC{constructor(e,t,n,s,l){this.text=e,this.to=l,this.done=!1,this.value=ZC,this.matchPos=ld(e,s),this.re=new RegExp(t,nb+(n?.ignoreCase?"i":"")),this.test=n?.test,this.flat=ba.get(e,s,this.chunkEnd(s+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let n=this.flat.from+t.index,s=n+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(n,s,t)))return this.value={from:n,to:s,match:t},this.matchPos=ld(this.text,s+(n==s?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=ba.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(LC.prototype[Symbol.iterator]=zC.prototype[Symbol.iterator]=function(){return this});function TN(i){try{return new RegExp(i,nb),!0}catch{return!1}}function ld(i,e){if(e>=i.length)return e;let t=i.lineAt(e),n;for(;e<t.to&&(n=t.text.charCodeAt(e-t.from))>=56320&&n<57344;)e++;return e}const QN=i=>{let{state:e}=i,t=String(e.doc.lineAt(i.state.selection.main.head).number),{close:n,result:s}=X3(i,{label:e.phrase("Go to line"),input:{type:"text",name:"line",value:t},focus:!0,submitLabel:e.phrase("go")});return s.then(l=>{let o=l&&/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(l.elements.line.value);if(!o){i.dispatch({effects:n});return}let c=e.doc.lineAt(e.selection.main.head),[,h,d,p,m]=o,y=p?+p.slice(1):0,b=d?+d:c.number;if(d&&m){let x=b/100;h&&(x=x*(h=="-"?-1:1)+c.number/e.doc.lines),b=Math.round(e.doc.lines*x)}else d&&h&&(b=b*(h=="-"?-1:1)+c.number);let v=e.doc.line(Math.max(1,Math.min(e.doc.lines,b))),w=q.cursor(v.from+Math.max(0,Math.min(y,v.length)));i.dispatch({effects:[n,H.scrollIntoView(w.from,{y:"center"})],selection:w})}),!0},AN={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},CN=K.define({combine(i){return Xn(i,AN,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function $N(i){return[DN,PN]}const EN=se.mark({class:"cm-selectionMatch"}),RN=se.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Ix(i,e,t,n){return(t==0||i(e.sliceDoc(t-1,t))!=nt.Word)&&(n==e.doc.length||i(e.sliceDoc(n,n+1))!=nt.Word)}function MN(i,e,t,n){return i(e.sliceDoc(t,t+1))==nt.Word&&i(e.sliceDoc(n-1,n))==nt.Word}const PN=rt.fromClass(class{constructor(i){this.decorations=this.getDeco(i)}update(i){(i.selectionSet||i.docChanged||i.viewportChanged)&&(this.decorations=this.getDeco(i.view))}getDeco(i){let e=i.state.facet(CN),{state:t}=i,n=t.selection;if(n.ranges.length>1)return se.none;let s=n.main,l,o=null;if(s.empty){if(!e.highlightWordAroundCursor)return se.none;let h=t.wordAt(s.head);if(!h)return se.none;o=t.charCategorizer(s.head),l=t.sliceDoc(h.from,h.to)}else{let h=s.to-s.from;if(h<e.minSelectionLength||h>200)return se.none;if(e.wholeWords){if(l=t.sliceDoc(s.from,s.to),o=t.charCategorizer(s.head),!(Ix(o,t,s.from,s.to)&&MN(o,t,s.from,s.to)))return se.none}else if(l=t.sliceDoc(s.from,s.to),!l)return se.none}let c=[];for(let h of i.visibleRanges){let d=new Za(t.doc,l,h.from,h.to);for(;!d.next().done;){let{from:p,to:m}=d.value;if((!o||Ix(o,t,p,m))&&(s.empty&&p<=s.from&&m>=s.to?c.push(RN.range(p,m)):(p>=s.to||m<=s.from)&&c.push(EN.range(p,m)),c.length>e.maxMatches))return se.none}}return se.set(c)}},{decorations:i=>i.decorations}),DN=H.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),ZN=({state:i,dispatch:e})=>{let{selection:t}=i,n=q.create(t.ranges.map(s=>i.wordAt(s.head)||q.cursor(s.head)),t.mainIndex);return n.eq(t)?!1:(e(i.update({selection:n})),!0)};function LN(i,e){let{main:t,ranges:n}=i.selection,s=i.wordAt(t.head),l=s&&s.from==t.from&&s.to==t.to;for(let o=!1,c=new Za(i.doc,e,n[n.length-1].to);;)if(c.next(),c.done){if(o)return null;c=new Za(i.doc,e,0,Math.max(0,n[n.length-1].from-1)),o=!0}else{if(o&&n.some(h=>h.from==c.value.from))continue;if(l){let h=i.wordAt(c.value.from);if(!h||h.from!=c.value.from||h.to!=c.value.to)continue}return c.value}}const zN=({state:i,dispatch:e})=>{let{ranges:t}=i.selection;if(t.some(l=>l.from===l.to))return ZN({state:i,dispatch:e});let n=i.sliceDoc(t[0].from,t[0].to);if(i.selection.ranges.some(l=>i.sliceDoc(l.from,l.to)!=n))return!1;let s=LN(i,n);return s?(e(i.update({selection:i.selection.addRange(q.range(s.from,s.to),!1),effects:H.scrollIntoView(s.to)})),!0):!1},Ya=K.define({combine(i){return Xn(i,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new JN(e),scrollToMatch:e=>H.scrollIntoView(e)})}});class jC{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||TN(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord,this.test=e.test}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,n)=>n=="n"?`
`:n=="r"?"\r":n=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord&&this.test==e.test}create(){return this.regexp?new qN(this):new NN(this)}getCursor(e,t=0,n){let s=e.doc?e:Ze.create({doc:e});return n==null&&(n=s.doc.length),this.regexp?ia(this,s,t,n):ta(this,s,t,n)}}class UC{constructor(e){this.spec=e}}function jN(i,e,t){return(n,s,l,o)=>{if(t&&!t(n,s,l,o))return!1;let c=n>=o&&s<=o+l.length?l.slice(n-o,s-o):e.doc.sliceString(n,s);return i(c,e,n,s)}}function ta(i,e,t,n){let s;return i.wholeWord&&(s=UN(e.doc,e.charCategorizer(e.selection.main.head))),i.test&&(s=jN(i.test,e,s)),new Za(e.doc,i.unquoted,t,n,i.caseSensitive?void 0:l=>l.toLowerCase(),s)}function UN(i,e){return(t,n,s,l)=>((l>t||l+s.length<n)&&(l=Math.max(0,t-2),s=i.sliceString(l,Math.min(i.length,n+2))),(e(ad(s,t-l))!=nt.Word||e(od(s,t-l))!=nt.Word)&&(e(od(s,n-l))!=nt.Word||e(ad(s,n-l))!=nt.Word))}class NN extends UC{constructor(e){super(e)}nextMatch(e,t,n){let s=ta(this.spec,e,n,e.doc.length).nextOverlapping();if(s.done){let l=Math.min(e.doc.length,t+this.spec.unquoted.length);s=ta(this.spec,e,0,l).nextOverlapping()}return s.done||s.value.from==t&&s.value.to==n?null:s.value}prevMatchInRange(e,t,n){for(let s=n;;){let l=Math.max(t,s-1e4-this.spec.unquoted.length),o=ta(this.spec,e,l,s),c=null;for(;!o.nextOverlapping().done;)c=o.value;if(c)return c;if(l==t)return null;s-=1e4}}prevMatch(e,t,n){let s=this.prevMatchInRange(e,0,t);return s||(s=this.prevMatchInRange(e,Math.max(0,n-this.spec.unquoted.length),e.doc.length)),s&&(s.from!=t||s.to!=n)?s:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let n=ta(this.spec,e,0,e.doc.length),s=[];for(;!n.next().done;){if(s.length>=t)return null;s.push(n.value)}return s}highlight(e,t,n,s){let l=ta(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));for(;!l.next().done;)s(l.value.from,l.value.to)}}function BN(i,e,t){return(n,s,l)=>(!t||t(n,s,l))&&i(l[0],e,n,s)}function ia(i,e,t,n){let s;return i.wholeWord&&(s=XN(e.charCategorizer(e.selection.main.head))),i.test&&(s=BN(i.test,e,s)),new LC(e.doc,i.search,{ignoreCase:!i.caseSensitive,test:s},t,n)}function ad(i,e){return i.slice(Tt(i,e,!1),e)}function od(i,e){return i.slice(e,Tt(i,e))}function XN(i){return(e,t,n)=>!n[0].length||(i(ad(n.input,n.index))!=nt.Word||i(od(n.input,n.index))!=nt.Word)&&(i(od(n.input,n.index+n[0].length))!=nt.Word||i(ad(n.input,n.index+n[0].length))!=nt.Word)}class qN extends UC{nextMatch(e,t,n){let s=ia(this.spec,e,n,e.doc.length).next();return s.done&&(s=ia(this.spec,e,0,t).next()),s.done?null:s.value}prevMatchInRange(e,t,n){for(let s=1;;s++){let l=Math.max(t,n-s*1e4),o=ia(this.spec,e,l,n),c=null;for(;!o.next().done;)c=o.value;if(c&&(l==t||c.from>l+10))return c;if(l==t)return null}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,n)=>{if(n=="&")return e.match[0];if(n=="$")return"$";for(let s=n.length;s>0;s--){let l=+n.slice(0,s);if(l>0&&l<e.match.length)return e.match[l]+n.slice(s)}return t})}matchAll(e,t){let n=ia(this.spec,e,0,e.doc.length),s=[];for(;!n.next().done;){if(s.length>=t)return null;s.push(n.value)}return s}highlight(e,t,n,s){let l=ia(this.spec,e,Math.max(0,t-250),Math.min(n+250,e.doc.length));for(;!l.next().done;)s(l.value.from,l.value.to)}}const Bc=Oe.define(),sb=Oe.define(),er=Dt.define({create(i){return new uO(V0(i).create(),null)},update(i,e){for(let t of e.effects)t.is(Bc)?i=new uO(t.value.create(),i.panel):t.is(sb)&&(i=new uO(i.query,t.value?rb:null));return i},provide:i=>zc.from(i,e=>e.panel)});class uO{constructor(e,t){this.query=e,this.panel=t}}const YN=se.mark({class:"cm-searchMatch"}),VN=se.mark({class:"cm-searchMatch cm-searchMatch-selected"}),IN=rt.fromClass(class{constructor(i){this.view=i,this.decorations=this.highlight(i.state.field(er))}update(i){let e=i.state.field(er);(e!=i.startState.field(er)||i.docChanged||i.selectionSet||i.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:i,panel:e}){if(!e||!i.spec.valid)return se.none;let{view:t}=this,n=new ds;for(let s=0,l=t.visibleRanges,o=l.length;s<o;s++){let{from:c,to:h}=l[s];for(;s<o-1&&h>l[s+1].from-500;)h=l[++s].to;i.highlight(t.state,c,h,(d,p)=>{let m=t.state.selection.ranges.some(y=>y.from==d&&y.to==p);n.add(d,p,m?VN:YN)})}return n.finish()}},{decorations:i=>i.decorations});function ou(i){return e=>{let t=e.state.field(er,!1);return t&&t.query.spec.valid?i(e,t):XC(e)}}const cd=ou((i,{query:e})=>{let{to:t}=i.state.selection.main,n=e.nextMatch(i.state,t,t);if(!n)return!1;let s=q.single(n.from,n.to),l=i.state.facet(Ya);return i.dispatch({selection:s,effects:[lb(i,n),l.scrollToMatch(s.main,i)],userEvent:"select.search"}),BC(i),!0}),ud=ou((i,{query:e})=>{let{state:t}=i,{from:n}=t.selection.main,s=e.prevMatch(t,n,n);if(!s)return!1;let l=q.single(s.from,s.to),o=i.state.facet(Ya);return i.dispatch({selection:l,effects:[lb(i,s),o.scrollToMatch(l.main,i)],userEvent:"select.search"}),BC(i),!0}),GN=ou((i,{query:e})=>{let t=e.matchAll(i.state,1e3);return!t||!t.length?!1:(i.dispatch({selection:q.create(t.map(n=>q.range(n.from,n.to))),userEvent:"select.search.matches"}),!0)}),WN=({state:i,dispatch:e})=>{let t=i.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:n,to:s}=t.main,l=[],o=0;for(let c=new Za(i.doc,i.sliceDoc(n,s));!c.next().done;){if(l.length>1e3)return!1;c.value.from==n&&(o=l.length),l.push(q.range(c.value.from,c.value.to))}return e(i.update({selection:q.create(l,o),userEvent:"select.search.matches"})),!0},Gx=ou((i,{query:e})=>{let{state:t}=i,{from:n,to:s}=t.selection.main;if(t.readOnly)return!1;let l=e.nextMatch(t,n,n);if(!l)return!1;let o=l,c=[],h,d,p=[];o.from==n&&o.to==s&&(d=t.toText(e.getReplacement(o)),c.push({from:o.from,to:o.to,insert:d}),o=e.nextMatch(t,o.from,o.to),p.push(H.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(n).number)+".")));let m=i.state.changes(c);return o&&(h=q.single(o.from,o.to).map(m),p.push(lb(i,o)),p.push(t.facet(Ya).scrollToMatch(h.main,i))),i.dispatch({changes:m,selection:h,effects:p,userEvent:"input.replace"}),!0}),HN=ou((i,{query:e})=>{if(i.state.readOnly)return!1;let t=e.matchAll(i.state,1e9).map(s=>{let{from:l,to:o}=s;return{from:l,to:o,insert:e.getReplacement(s)}});if(!t.length)return!1;let n=i.state.phrase("replaced $ matches",t.length)+".";return i.dispatch({changes:t,effects:H.announce.of(n),userEvent:"input.replace.all"}),!0});function rb(i){return i.state.facet(Ya).createPanel(i)}function V0(i,e){var t,n,s,l,o;let c=i.selection.main,h=c.empty||c.to>c.from+100?"":i.sliceDoc(c.from,c.to);if(e&&!h)return e;let d=i.facet(Ya);return new jC({search:((t=e?.literal)!==null&&t!==void 0?t:d.literal)?h:h.replace(/\n/g,"\\n"),caseSensitive:(n=e?.caseSensitive)!==null&&n!==void 0?n:d.caseSensitive,literal:(s=e?.literal)!==null&&s!==void 0?s:d.literal,regexp:(l=e?.regexp)!==null&&l!==void 0?l:d.regexp,wholeWord:(o=e?.wholeWord)!==null&&o!==void 0?o:d.wholeWord})}function NC(i){let e=Vy(i,rb);return e&&e.dom.querySelector("[main-field]")}function BC(i){let e=NC(i);e&&e==i.root.activeElement&&e.select()}const XC=i=>{let e=i.state.field(er,!1);if(e&&e.panel){let t=NC(i);if(t&&t!=i.root.activeElement){let n=V0(i.state,e.query.spec);n.valid&&i.dispatch({effects:Bc.of(n)}),t.focus(),t.select()}}else i.dispatch({effects:[sb.of(!0),e?Bc.of(V0(i.state,e.query.spec)):Oe.appendConfig.of(e4)]});return!0},qC=i=>{let e=i.state.field(er,!1);if(!e||!e.panel)return!1;let t=Vy(i,rb);return t&&t.dom.contains(i.root.activeElement)&&i.focus(),i.dispatch({effects:sb.of(!1)}),!0},KN=[{key:"Mod-f",run:XC,scope:"editor search-panel"},{key:"F3",run:cd,shift:ud,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:cd,shift:ud,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:qC,scope:"editor search-panel"},{key:"Mod-Shift-l",run:WN},{key:"Mod-Alt-g",run:QN},{key:"Mod-d",run:zN,preventDefault:!0}];class JN{constructor(e){this.view=e;let t=this.query=e.state.field(er).query.spec;this.commit=this.commit.bind(this),this.searchField=Ve("input",{value:t.search,placeholder:Ci(e,"Find"),"aria-label":Ci(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Ve("input",{value:t.replace,placeholder:Ci(e,"Replace"),"aria-label":Ci(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Ve("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=Ve("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=Ve("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function n(s,l,o){return Ve("button",{class:"cm-button",name:s,onclick:l,type:"button"},o)}this.dom=Ve("div",{onkeydown:s=>this.keydown(s),class:"cm-search"},[this.searchField,n("next",()=>cd(e),[Ci(e,"next")]),n("prev",()=>ud(e),[Ci(e,"previous")]),n("select",()=>GN(e),[Ci(e,"all")]),Ve("label",null,[this.caseField,Ci(e,"match case")]),Ve("label",null,[this.reField,Ci(e,"regexp")]),Ve("label",null,[this.wordField,Ci(e,"by word")]),...e.state.readOnly?[]:[Ve("br"),this.replaceField,n("replace",()=>Gx(e),[Ci(e,"replace")]),n("replaceAll",()=>HN(e),[Ci(e,"replace all")])],Ve("button",{name:"close",onclick:()=>qC(e),"aria-label":Ci(e,"close"),type:"button"},[""])])}commit(){let e=new jC({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Bc.of(e)}))}keydown(e){t3(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?ud:cd)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),Gx(this.view))}update(e){for(let t of e.transactions)for(let n of t.effects)n.is(Bc)&&!n.value.eq(this.query)&&this.setQuery(n.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Ya).top}}function Ci(i,e){return i.state.phrase(e)}const af=30,of=/[\s\.,:;?!]/;function lb(i,{from:e,to:t}){let n=i.state.doc.lineAt(e),s=i.state.doc.lineAt(t).to,l=Math.max(n.from,e-af),o=Math.min(s,t+af),c=i.state.sliceDoc(l,o);if(l!=n.from){for(let h=0;h<af;h++)if(!of.test(c[h+1])&&of.test(c[h])){c=c.slice(h);break}}if(o!=s){for(let h=c.length-1;h>c.length-af;h--)if(!of.test(c[h-1])&&of.test(c[h])){c=c.slice(0,h);break}}return H.announce.of(`${i.state.phrase("current match")}. ${c} ${i.state.phrase("on line")} ${n.number}.`)}const FN=H.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),e4=[er,cr.low(IN),FN];class YC{constructor(e,t,n,s){this.state=e,this.pos=t,this.explicit=n,this.view=s,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=At(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),s=t.text.slice(n-t.from,this.pos-t.from),l=s.search(IC(e,!1));return l<0?null:{from:n+l,to:this.pos,text:s.slice(l)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,n){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),n&&n.onDocChange&&(this.abortOnDocChange=!0))}}function Wx(i){let e=Object.keys(i).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function t4(i){let e=Object.create(null),t=Object.create(null);for(let{label:s}of i){e[s[0]]=!0;for(let l=1;l<s.length;l++)t[s[l]]=!0}let n=Wx(e)+Wx(t)+"*$";return[new RegExp("^"+n),new RegExp(n)]}function VC(i){let e=i.map(s=>typeof s=="string"?{label:s}:s),[t,n]=e.every(s=>/^\w+$/.test(s.label))?[/\w*$/,/\w+$/]:t4(e);return s=>{let l=s.matchBefore(n);return l||s.explicit?{from:l?l.from:s.pos,options:e,validFor:t}:null}}function i4(i,e){return t=>{for(let n=At(t.state).resolveInner(t.pos,-1);n;n=n.parent){if(i.indexOf(n.name)>-1)return null;if(n.type.isTop)break}return e(t)}}class Hx{constructor(e,t,n,s){this.completion=e,this.source=t,this.match=n,this.score=s}}function Ir(i){return i.selection.main.from}function IC(i,e){var t;let{source:n}=i,s=e&&n[0]!="^",l=n[n.length-1]!="$";return!s&&!l?i:new RegExp(`${s?"^":""}(?:${n})${l?"$":""}`,(t=i.flags)!==null&&t!==void 0?t:i.ignoreCase?"i":"")}const ab=yn.define();function n4(i,e,t,n){let{main:s}=i.selection,l=t-s.from,o=n-s.from;return{...i.changeByRange(c=>{if(c!=s&&t!=n&&i.sliceDoc(c.from+l,c.from+o)!=i.sliceDoc(t,n))return{range:c};let h=i.toText(e);return{changes:{from:c.from+l,to:n==s.from?c.to:c.from+o,insert:h},range:q.cursor(c.from+l+h.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const Kx=new WeakMap;function s4(i){if(!Array.isArray(i))return i;let e=Kx.get(i);return e||Kx.set(i,e=VC(i)),e}const hd=Oe.define(),Xc=Oe.define();class r4{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let n=ui(e,t),s=Rn(n);this.chars.push(n);let l=e.slice(t,t+s),o=l.toUpperCase();this.folded.push(ui(o==l?l.toLowerCase():o,0)),t+=s}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:n,any:s,precise:l,byWord:o}=this;if(t.length==1){let E=ui(e,0),C=Rn(E),j=C==e.length?0:-100;if(E!=t[0])if(E==n[0])j+=-200;else return null;return this.ret(j,[0,C])}let c=e.indexOf(this.pattern);if(c==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let h=t.length,d=0;if(c<0){for(let E=0,C=Math.min(e.length,200);E<C&&d<h;){let j=ui(e,E);(j==t[d]||j==n[d])&&(s[d++]=E),E+=Rn(j)}if(d<h)return null}let p=0,m=0,y=!1,b=0,v=-1,w=-1,x=/[a-z]/.test(e),_=!0;for(let E=0,C=Math.min(e.length,200),j=0;E<C&&m<h;){let B=ui(e,E);c<0&&(p<h&&B==t[p]&&(l[p++]=E),b<h&&(B==t[b]||B==n[b]?(b==0&&(v=E),w=E+1,b++):b=0));let X,z=B<255?B>=48&&B<=57||B>=97&&B<=122?2:B>=65&&B<=90?1:0:(X=Ay(B))!=X.toLowerCase()?1:X!=X.toUpperCase()?2:0;(!E||z==1&&x||j==0&&z!=0)&&(t[m]==B||n[m]==B&&(y=!0)?o[m++]=E:o.length&&(_=!1)),j=z,E+=Rn(B)}return m==h&&o[0]==0&&_?this.result(-100+(y?-200:0),o,e):b==h&&v==0?this.ret(-200-e.length+(w==e.length?0:-100),[0,w]):c>-1?this.ret(-700-e.length,[c,c+this.pattern.length]):b==h?this.ret(-900-e.length,[v,w]):m==h?this.result(-100+(y?-200:0)+-700+(_?0:-1100),o,e):t.length==2?null:this.result((s[0]?-700:0)+-200+-1100,s,e)}result(e,t,n){let s=[],l=0;for(let o of t){let c=o+(this.astral?Rn(ui(n,o)):1);l&&s[l-1]==o?s[l-1]=c:(s[l++]=o,s[l++]=c)}return this.ret(e-n.length,s)}}class l4{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),n=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return n==null?null:(this.matched=[0,t.length],this.score=n+(e.length==this.pattern.length?0:-100),this)}}const Rt=K.define({combine(i){return Xn(i,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:a4,filterStrict:!1,compareCompletions:(e,t)=>(e.sortText||e.label).localeCompare(t.sortText||t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>n=>Jx(e(n),t(n)),optionClass:(e,t)=>n=>Jx(e(n),t(n)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function Jx(i,e){return i?e?i+" "+e:i:e}function a4(i,e,t,n,s,l){let o=i.textDirection==Ke.RTL,c=o,h=!1,d="top",p,m,y=e.left-s.left,b=s.right-e.right,v=n.right-n.left,w=n.bottom-n.top;if(c&&y<Math.min(v,b)?c=!1:!c&&b<Math.min(v,y)&&(c=!0),v<=(c?y:b))p=Math.max(s.top,Math.min(t.top,s.bottom-w))-e.top,m=Math.min(400,c?y:b);else{h=!0,m=Math.min(400,(o?e.right:s.right-e.left)-30);let E=s.bottom-e.bottom;E>=w||E>e.top?p=t.bottom-e.top:(d="bottom",p=e.bottom-t.top)}let x=(e.bottom-e.top)/l.offsetHeight,_=(e.right-e.left)/l.offsetWidth;return{style:`${d}: ${p/x}px; max-width: ${m/_}px`,class:"cm-completionInfo-"+(h?o?"left-narrow":"right-narrow":c?"left":"right")}}function o4(i){let e=i.addToOptions.slice();return i.icons&&e.push({render(t){let n=document.createElement("div");return n.classList.add("cm-completionIcon"),t.type&&n.classList.add(...t.type.split(/\s+/g).map(s=>"cm-completionIcon-"+s)),n.setAttribute("aria-hidden","true"),n},position:20}),e.push({render(t,n,s,l){let o=document.createElement("span");o.className="cm-completionLabel";let c=t.displayLabel||t.label,h=0;for(let d=0;d<l.length;){let p=l[d++],m=l[d++];p>h&&o.appendChild(document.createTextNode(c.slice(h,p)));let y=o.appendChild(document.createElement("span"));y.appendChild(document.createTextNode(c.slice(p,m))),y.className="cm-completionMatchedText",h=m}return h<c.length&&o.appendChild(document.createTextNode(c.slice(h))),o},position:50},{render(t){if(!t.detail)return null;let n=document.createElement("span");return n.className="cm-completionDetail",n.textContent=t.detail,n},position:80}),e.sort((t,n)=>t.position-n.position).map(t=>t.render)}function hO(i,e,t){if(i<=t)return{from:0,to:i};if(e<0&&(e=0),e<=i>>1){let s=Math.floor(e/t);return{from:s*t,to:(s+1)*t}}let n=Math.floor((i-e)/t);return{from:i-(n+1)*t,to:i-n*t}}class c4{constructor(e,t,n){this.view=e,this.stateField=t,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:h=>this.placeInfo(h),key:this},this.space=null,this.currentClass="";let s=e.state.field(t),{options:l,selected:o}=s.open,c=e.state.facet(Rt);this.optionContent=o4(c),this.optionClass=c.optionClass,this.tooltipClass=c.tooltipClass,this.range=hO(l.length,o,c.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",h=>{let{options:d}=e.state.field(t).open;for(let p=h.target,m;p&&p!=this.dom;p=p.parentNode)if(p.nodeName=="LI"&&(m=/-(\d+)$/.exec(p.id))&&+m[1]<d.length){this.applyCompletion(e,d[+m[1]]),h.preventDefault();return}}),this.dom.addEventListener("focusout",h=>{let d=e.state.field(this.stateField,!1);d&&d.tooltip&&e.state.facet(Rt).closeOnBlur&&h.relatedTarget!=e.contentDOM&&e.dispatch({effects:Xc.of(null)})}),this.showOptions(l,s.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let n=e.state.field(this.stateField),s=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),n!=s){let{options:l,selected:o,disabled:c}=n.open;(!s.open||s.open.options!=l)&&(this.range=hO(l.length,o,e.state.facet(Rt).maxRenderedOptions),this.showOptions(l,n.id)),this.updateSel(),c!=((t=s.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!c)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let n of this.currentClass.split(" "))n&&this.dom.classList.remove(n);for(let n of t.split(" "))n&&this.dom.classList.add(n);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;(t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=hO(t.options.length,t.selected,this.view.state.facet(Rt).maxRenderedOptions),this.showOptions(t.options,e.id));let n=this.updateSelectedOption(t.selected);if(n){this.destroyInfo();let{completion:s}=t.options[t.selected],{info:l}=s;if(!l)return;let o=typeof l=="string"?document.createTextNode(l):l(s);if(!o)return;"then"in o?o.then(c=>{c&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(c,s)}).catch(c=>pi(this.view.state,c,"completion info")):(this.addInfoPane(o,s),n.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,t){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",n.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)n.appendChild(e),this.infoDestroy=null;else{let{dom:s,destroy:l}=e;n.appendChild(s),this.infoDestroy=l||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let n=this.list.firstChild,s=this.range.from;n;n=n.nextSibling,s++)n.nodeName!="LI"||!n.id?s--:s==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&(n.removeAttribute("aria-selected"),n.removeAttribute("aria-describedby"));return t&&h4(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),s=e.getBoundingClientRect(),l=this.space;if(!l){let o=this.dom.ownerDocument.documentElement;l={left:0,top:0,right:o.clientWidth,bottom:o.clientHeight}}return s.top>Math.min(l.bottom,t.bottom)-10||s.bottom<Math.max(l.top,t.top)+10?null:this.view.state.facet(Rt).positionInfo(this.view,t,s,n,l,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,n){const s=document.createElement("ul");s.id=t,s.setAttribute("role","listbox"),s.setAttribute("aria-expanded","true"),s.setAttribute("aria-label",this.view.state.phrase("Completions")),s.addEventListener("mousedown",o=>{o.target==s&&o.preventDefault()});let l=null;for(let o=n.from;o<n.to;o++){let{completion:c,match:h}=e[o],{section:d}=c;if(d){let y=typeof d=="string"?d:d.name;if(y!=l&&(o>n.from||n.from==0))if(l=y,typeof d!="string"&&d.header)s.appendChild(d.header(d));else{let b=s.appendChild(document.createElement("completion-section"));b.textContent=y}}const p=s.appendChild(document.createElement("li"));p.id=t+"-"+o,p.setAttribute("role","option");let m=this.optionClass(c);m&&(p.className=m);for(let y of this.optionContent){let b=y(c,this.view.state,this.view,h);b&&p.appendChild(b)}}return n.from&&s.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&s.classList.add("cm-completionListIncompleteBottom"),s}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function u4(i,e){return t=>new c4(t,i,e)}function h4(i,e){let t=i.getBoundingClientRect(),n=e.getBoundingClientRect(),s=t.height/i.offsetHeight;n.top<t.top?i.scrollTop-=(t.top-n.top)/s:n.bottom>t.bottom&&(i.scrollTop+=(n.bottom-t.bottom)/s)}function Fx(i){return(i.boost||0)*100+(i.apply?10:0)+(i.info?5:0)+(i.type?1:0)}function f4(i,e){let t=[],n=null,s=null,l=p=>{t.push(p);let{section:m}=p.completion;if(m){n||(n=[]);let y=typeof m=="string"?m:m.name;n.some(b=>b.name==y)||n.push(typeof m=="string"?{name:y}:m)}},o=e.facet(Rt);for(let p of i)if(p.hasResult()){let m=p.result.getMatch;if(p.result.filter===!1)for(let y of p.result.options)l(new Hx(y,p.source,m?m(y):[],1e9-t.length));else{let y=e.sliceDoc(p.from,p.to),b,v=o.filterStrict?new l4(y):new r4(y);for(let w of p.result.options)if(b=v.match(w.label)){let x=w.displayLabel?m?m(w,b.matched):[]:b.matched,_=b.score+(w.boost||0);if(l(new Hx(w,p.source,x,_)),typeof w.section=="object"&&w.section.rank==="dynamic"){let{name:E}=w.section;s||(s=Object.create(null)),s[E]=Math.max(_,s[E]||-1e9)}}}}if(n){let p=Object.create(null),m=0,y=(b,v)=>(b.rank==="dynamic"&&v.rank==="dynamic"?s[v.name]-s[b.name]:0)||(typeof b.rank=="number"?b.rank:1e9)-(typeof v.rank=="number"?v.rank:1e9)||(b.name<v.name?-1:1);for(let b of n.sort(y))m-=1e5,p[b.name]=m;for(let b of t){let{section:v}=b.completion;v&&(b.score+=p[typeof v=="string"?v:v.name])}}let c=[],h=null,d=o.compareCompletions;for(let p of t.sort((m,y)=>y.score-m.score||d(m.completion,y.completion))){let m=p.completion;!h||h.label!=m.label||h.detail!=m.detail||h.type!=null&&m.type!=null&&h.type!=m.type||h.apply!=m.apply||h.boost!=m.boost?c.push(p):Fx(p.completion)>Fx(h)&&(c[c.length-1]=p),h=p.completion}return c}class oa{constructor(e,t,n,s,l,o){this.options=e,this.attrs=t,this.tooltip=n,this.timestamp=s,this.selected=l,this.disabled=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new oa(this.options,e_(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,n,s,l,o){if(s&&!o&&e.some(d=>d.isPending))return s.setDisabled();let c=f4(e,t);if(!c.length)return s&&e.some(d=>d.isPending)?s.setDisabled():null;let h=t.facet(Rt).selectOnOpen?0:-1;if(s&&s.selected!=h&&s.selected!=-1){let d=s.options[s.selected].completion;for(let p=0;p<c.length;p++)if(c[p].completion==d){h=p;break}}return new oa(c,e_(n,h),{pos:e.reduce((d,p)=>p.hasResult()?Math.min(d,p.from):d,1e8),create:y4,above:l.aboveCursor},s?s.timestamp:Date.now(),h,!1)}map(e){return new oa(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new oa(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class fd{constructor(e,t,n){this.active=e,this.id=t,this.open=n}static start(){return new fd(m4,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,n=t.facet(Rt),l=(n.override||t.languageDataAt("autocomplete",Ir(t)).map(s4)).map(h=>(this.active.find(p=>p.source==h)||new tn(h,this.active.some(p=>p.state!=0)?1:0)).update(e,n));l.length==this.active.length&&l.every((h,d)=>h==this.active[d])&&(l=this.active);let o=this.open,c=e.effects.some(h=>h.is(ob));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||l.some(h=>h.hasResult()&&e.changes.touchesRange(h.from,h.to))||!d4(l,this.active)||c?o=oa.build(l,t,this.id,o,n,c):o&&o.disabled&&!l.some(h=>h.isPending)&&(o=null),!o&&l.every(h=>!h.isPending)&&l.some(h=>h.hasResult())&&(l=l.map(h=>h.hasResult()?new tn(h.source,0):h));for(let h of e.effects)h.is(WC)&&(o=o&&o.setSelected(h.value,this.id));return l==this.active&&o==this.open?this:new fd(l,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?p4:g4}}function d4(i,e){if(i==e)return!0;for(let t=0,n=0;;){for(;t<i.length&&!i[t].hasResult();)t++;for(;n<e.length&&!e[n].hasResult();)n++;let s=t==i.length,l=n==e.length;if(s||l)return s==l;if(i[t++].result!=e[n++].result)return!1}}const p4={"aria-autocomplete":"list"},g4={};function e_(i,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":i};return e>-1&&(t["aria-activedescendant"]=i+"-"+e),t}const m4=[];function GC(i,e){if(i.isUserEvent("input.complete")){let n=i.annotation(ab);if(n&&e.activateOnCompletion(n))return 12}let t=i.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:i.isUserEvent("delete.backward")?2:i.selection?8:i.docChanged?16:0}class tn{constructor(e,t,n=!1){this.source=e,this.state=t,this.explicit=n}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let n=GC(e,t),s=this;(n&8||n&16&&this.touches(e))&&(s=new tn(s.source,0)),n&4&&s.state==0&&(s=new tn(this.source,1)),s=s.updateFor(e,n);for(let l of e.effects)if(l.is(hd))s=new tn(s.source,1,l.value);else if(l.is(Xc))s=new tn(s.source,0);else if(l.is(ob))for(let o of l.value)o.source==s.source&&(s=o);return s}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(Ir(e.state))}}class va extends tn{constructor(e,t,n,s,l,o){super(e,3,t),this.limit=n,this.result=s,this.from=l,this.to=o}hasResult(){return!0}updateFor(e,t){var n;if(!(t&3))return this.map(e.changes);let s=this.result;s.map&&!e.changes.empty&&(s=s.map(s,e.changes));let l=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),c=Ir(e.state);if(c>o||!s||t&2&&(Ir(e.startState)==this.from||c<this.limit))return new tn(this.source,t&4?1:0);let h=e.changes.mapPos(this.limit);return O4(s.validFor,e.state,l,o)?new va(this.source,this.explicit,h,s,l,o):s.update&&(s=s.update(s,l,o,new YC(e.state,c,!1)))?new va(this.source,this.explicit,h,s,s.from,(n=s.to)!==null&&n!==void 0?n:Ir(e.state)):new tn(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new va(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new tn(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function O4(i,e,t,n){if(!i)return!1;let s=e.sliceDoc(t,n);return typeof i=="function"?i(s,t,n,e):IC(i,!0).test(s)}const ob=Oe.define({map(i,e){return i.map(t=>t.map(e))}}),WC=Oe.define(),hi=Dt.define({create(){return fd.start()},update(i,e){return i.update(e)},provide:i=>[Yy.from(i,e=>e.tooltip),H.contentAttributes.from(i,e=>e.attrs)]});function cb(i,e){const t=e.completion.apply||e.completion.label;let n=i.state.field(hi).active.find(s=>s.source==e.source);return n instanceof va?(typeof t=="string"?i.dispatch({...n4(i.state,t,n.from,n.to),annotations:ab.of(e.completion)}):t(i,e.completion,n.from,n.to),!0):!1}const y4=u4(hi,cb);function cf(i,e="option"){return t=>{let n=t.state.field(hi,!1);if(!n||!n.open||n.open.disabled||Date.now()-n.open.timestamp<t.state.facet(Rt).interactionDelay)return!1;let s=1,l;e=="page"&&(l=AA(t,n.open.tooltip))&&(s=Math.max(2,Math.floor(l.dom.offsetHeight/l.dom.querySelector("li").offsetHeight)-1));let{length:o}=n.open.options,c=n.open.selected>-1?n.open.selected+s*(i?1:-1):i?0:o-1;return c<0?c=e=="page"?0:o-1:c>=o&&(c=e=="page"?o-1:0),t.dispatch({effects:WC.of(c)}),!0}}const b4=i=>{let e=i.state.field(hi,!1);return i.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<i.state.facet(Rt).interactionDelay?!1:cb(i,e.open.options[e.open.selected])},fO=i=>i.state.field(hi,!1)?(i.dispatch({effects:hd.of(!0)}),!0):!1,v4=i=>{let e=i.state.field(hi,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(i.dispatch({effects:Xc.of(null)}),!0)};class S4{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const w4=50,k4=1e3,x4=rt.fromClass(class{constructor(i){this.view=i,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of i.state.field(hi).active)e.isPending&&this.startQuery(e)}update(i){let e=i.state.field(hi),t=i.state.facet(Rt);if(!i.selectionSet&&!i.docChanged&&i.startState.field(hi)==e)return;let n=i.transactions.some(l=>{let o=GC(l,t);return o&8||(l.selection||l.docChanged)&&!(o&3)});for(let l=0;l<this.running.length;l++){let o=this.running[l];if(n||o.context.abortOnDocChange&&i.docChanged||o.updates.length+i.transactions.length>w4&&Date.now()-o.time>k4){for(let c of o.context.abortListeners)try{c()}catch(h){pi(this.view.state,h)}o.context.abortListeners=null,this.running.splice(l--,1)}else o.updates.push(...i.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),i.transactions.some(l=>l.effects.some(o=>o.is(hd)))&&(this.pendingStart=!0);let s=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(l=>l.isPending&&!this.running.some(o=>o.active.source==l.source))?setTimeout(()=>this.startUpdate(),s):-1,this.composing!=0)for(let l of i.transactions)l.isUserEvent("input.type")?this.composing=2:this.composing==2&&l.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:i}=this.view,e=i.field(hi);for(let t of e.active)t.isPending&&!this.running.some(n=>n.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Rt).updateSyncTime))}startQuery(i){let{state:e}=this.view,t=Ir(e),n=new YC(e,t,i.explicit,this.view),s=new S4(i,n);this.running.push(s),Promise.resolve(i.source(n)).then(l=>{s.context.aborted||(s.done=l||null,this.scheduleAccept())},l=>{this.view.dispatch({effects:Xc.of(null)}),pi(this.view.state,l)})}scheduleAccept(){this.running.every(i=>i.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Rt).updateSyncTime))}accept(){var i;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(Rt),n=this.view.state.field(hi);for(let s=0;s<this.running.length;s++){let l=this.running[s];if(l.done===void 0)continue;if(this.running.splice(s--,1),l.done){let c=Ir(l.updates.length?l.updates[0].startState:this.view.state),h=Math.min(c,l.done.from+(l.active.explicit?0:1)),d=new va(l.active.source,l.active.explicit,h,l.done,l.done.from,(i=l.done.to)!==null&&i!==void 0?i:c);for(let p of l.updates)d=d.update(p,t);if(d.hasResult()){e.push(d);continue}}let o=n.active.find(c=>c.source==l.active.source);if(o&&o.isPending)if(l.done==null){let c=new tn(l.active.source,0);for(let h of l.updates)c=c.update(h,t);c.isPending||e.push(c)}else this.startQuery(o)}(e.length||n.open&&n.open.disabled)&&this.view.dispatch({effects:ob.of(e)})}},{eventHandlers:{blur(i){let e=this.view.state.field(hi,!1);if(e&&e.tooltip&&this.view.state.facet(Rt).closeOnBlur){let t=e.open&&AA(this.view,e.open.tooltip);(!t||!t.dom.contains(i.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Xc.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:hd.of(!1)}),20),this.composing=0}}}),_4=typeof navigator=="object"&&/Win/.test(navigator.platform),T4=cr.highest(H.domEventHandlers({keydown(i,e){let t=e.state.field(hi,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||i.key.length>1||i.ctrlKey&&!(_4&&i.altKey)||i.metaKey)return!1;let n=t.open.options[t.open.selected],s=t.active.find(o=>o.source==n.source),l=n.completion.commitCharacters||s.result.commitCharacters;return l&&l.indexOf(i.key)>-1&&cb(e,n),!1}})),HC=H.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class Q4{constructor(e,t,n,s){this.field=e,this.line=t,this.from=n,this.to=s}}class ub{constructor(e,t,n){this.field=e,this.from=t,this.to=n}map(e){let t=e.mapPos(this.from,-1,Yt.TrackDel),n=e.mapPos(this.to,1,Yt.TrackDel);return t==null||n==null?null:new ub(this.field,t,n)}}class hb{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let n=[],s=[t],l=e.doc.lineAt(t),o=/^\s*/.exec(l.text)[0];for(let h of this.lines){if(n.length){let d=o,p=/^\t*/.exec(h)[0].length;for(let m=0;m<p;m++)d+=e.facet(jd);s.push(t+d.length-p),h=d+h.slice(p)}n.push(h),t+=h.length+1}let c=this.fieldPositions.map(h=>new ub(h.field,s[h.line]+h.from,s[h.line]+h.to));return{text:n,ranges:c}}static parse(e){let t=[],n=[],s=[],l;for(let o of e.split(/\r\n?|\n/)){for(;l=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(o);){let c=l[1]?+l[1]:null,h=l[2]||l[3]||"",d=-1,p=h.replace(/\\[{}]/g,m=>m[1]);for(let m=0;m<t.length;m++)(c!=null?t[m].seq==c:p&&t[m].name==p)&&(d=m);if(d<0){let m=0;for(;m<t.length&&(c==null||t[m].seq!=null&&t[m].seq<c);)m++;t.splice(m,0,{seq:c,name:p}),d=m;for(let y of s)y.field>=d&&y.field++}for(let m of s)if(m.line==n.length&&m.from>l.index){let y=l[2]?3+(l[1]||"").length:2;m.from-=y,m.to-=y}s.push(new Q4(d,n.length,l.index,l.index+p.length)),o=o.slice(0,l.index)+h+o.slice(l.index+l[0].length)}o=o.replace(/\\([{}])/g,(c,h,d)=>{for(let p of s)p.line==n.length&&p.from>d&&(p.from--,p.to--);return h}),n.push(o)}return new hb(n,s)}}let A4=se.widget({widget:new class extends bn{toDOM(){let i=document.createElement("span");return i.className="cm-snippetFieldPosition",i}ignoreEvent(){return!1}}}),C4=se.mark({class:"cm-snippetField"});class Va{constructor(e,t){this.ranges=e,this.active=t,this.deco=se.set(e.map(n=>(n.from==n.to?A4:C4).range(n.from,n.to)),!0)}map(e){let t=[];for(let n of this.ranges){let s=n.map(e);if(!s)return null;t.push(s)}return new Va(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(n=>n.field==this.active&&n.from<=t.from&&n.to>=t.to))}}const cu=Oe.define({map(i,e){return i&&i.map(e)}}),$4=Oe.define(),qc=Dt.define({create(){return null},update(i,e){for(let t of e.effects){if(t.is(cu))return t.value;if(t.is($4)&&i)return new Va(i.ranges,t.value)}return i&&e.docChanged&&(i=i.map(e.changes)),i&&e.selection&&!i.selectionInsideField(e.selection)&&(i=null),i},provide:i=>H.decorations.from(i,e=>e?e.deco:se.none)});function fb(i,e){return q.create(i.filter(t=>t.field==e).map(t=>q.range(t.from,t.to)))}function E4(i){let e=hb.parse(i);return(t,n,s,l)=>{let{text:o,ranges:c}=e.instantiate(t.state,s),{main:h}=t.state.selection,d={changes:{from:s,to:l==h.from?h.to:l,insert:Le.of(o)},scrollIntoView:!0,annotations:n?[ab.of(n),vt.userEvent.of("input.complete")]:void 0};if(c.length&&(d.selection=fb(c,0)),c.some(p=>p.field>0)){let p=new Va(c,0),m=d.effects=[cu.of(p)];t.state.field(qc,!1)===void 0&&m.push(Oe.appendConfig.of([qc,Z4,L4,HC]))}t.dispatch(t.state.update(d))}}function KC(i){return({state:e,dispatch:t})=>{let n=e.field(qc,!1);if(!n||i<0&&n.active==0)return!1;let s=n.active+i,l=i>0&&!n.ranges.some(o=>o.field==s+i);return t(e.update({selection:fb(n.ranges,s),effects:cu.of(l?null:new Va(n.ranges,s)),scrollIntoView:!0})),!0}}const R4=({state:i,dispatch:e})=>i.field(qc,!1)?(e(i.update({effects:cu.of(null)})),!0):!1,M4=KC(1),P4=KC(-1),D4=[{key:"Tab",run:M4,shift:P4},{key:"Escape",run:R4}],t_=K.define({combine(i){return i.length?i[0]:D4}}),Z4=cr.highest(Ld.compute([t_],i=>i.facet(t_)));function ci(i,e){return{...e,apply:E4(i)}}const L4=H.domEventHandlers({mousedown(i,e){let t=e.state.field(qc,!1),n;if(!t||(n=e.posAtCoords({x:i.clientX,y:i.clientY}))==null)return!1;let s=t.ranges.find(l=>l.from<=n&&l.to>=n);return!s||s.field==t.active?!1:(e.dispatch({selection:fb(t.ranges,s.field),effects:cu.of(t.ranges.some(l=>l.field>s.field)?new Va(t.ranges,s.field):null),scrollIntoView:!0}),!0)}}),Yc={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Br=Oe.define({map(i,e){let t=e.mapPos(i,-1,Yt.TrackAfter);return t??void 0}}),db=new class extends ir{};db.startSide=1;db.endSide=-1;const JC=Dt.define({create(){return Te.empty},update(i,e){if(i=i.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);i=i.update({filter:n=>n>=t.from&&n<=t.to})}for(let t of e.effects)t.is(Br)&&(i=i.update({add:[db.range(t.value,t.value+1)]}));return i}});function z4(){return[U4,JC]}const dO="()[]{}<>";function FC(i){for(let e=0;e<dO.length;e+=2)if(dO.charCodeAt(e)==i)return dO.charAt(e+1);return Ay(i<128?i:i+1)}function e$(i,e){return i.languageDataAt("closeBrackets",e)[0]||Yc}const j4=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),U4=H.inputHandler.of((i,e,t,n)=>{if((j4?i.composing:i.compositionStarted)||i.state.readOnly)return!1;let s=i.state.selection.main;if(n.length>2||n.length==2&&Rn(ui(n,0))==1||e!=s.from||t!=s.to)return!1;let l=X4(i.state,n);return l?(i.dispatch(l),!0):!1}),N4=({state:i,dispatch:e})=>{if(i.readOnly)return!1;let n=e$(i,i.selection.main.head).brackets||Yc.brackets,s=null,l=i.changeByRange(o=>{if(o.empty){let c=q4(i.doc,o.head);for(let h of n)if(h==c&&Id(i.doc,o.head)==FC(ui(h,0)))return{changes:{from:o.head-h.length,to:o.head+h.length},range:q.cursor(o.head-h.length)}}return{range:s=o}});return s||e(i.update(l,{scrollIntoView:!0,userEvent:"delete.backward"})),!s},B4=[{key:"Backspace",run:N4}];function X4(i,e){let t=e$(i,i.selection.main.head),n=t.brackets||Yc.brackets;for(let s of n){let l=FC(ui(s,0));if(e==s)return l==s?I4(i,s,n.indexOf(s+s+s)>-1,t):Y4(i,s,l,t.before||Yc.before);if(e==l&&t$(i,i.selection.main.from))return V4(i,s,l)}return null}function t$(i,e){let t=!1;return i.field(JC).between(0,i.doc.length,n=>{n==e&&(t=!0)}),t}function Id(i,e){let t=i.sliceString(e,e+2);return t.slice(0,Rn(ui(t,0)))}function q4(i,e){let t=i.sliceString(e-2,e);return Rn(ui(t,0))==t.length?t:t.slice(1)}function Y4(i,e,t,n){let s=null,l=i.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:t,from:o.to}],effects:Br.of(o.to+e.length),range:q.range(o.anchor+e.length,o.head+e.length)};let c=Id(i.doc,o.head);return!c||/\s/.test(c)||n.indexOf(c)>-1?{changes:{insert:e+t,from:o.head},effects:Br.of(o.head+e.length),range:q.cursor(o.head+e.length)}:{range:s=o}});return s?null:i.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function V4(i,e,t){let n=null,s=i.changeByRange(l=>l.empty&&Id(i.doc,l.head)==t?{changes:{from:l.head,to:l.head+t.length,insert:t},range:q.cursor(l.head+t.length)}:n={range:l});return n?null:i.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function I4(i,e,t,n){let s=n.stringPrefixes||Yc.stringPrefixes,l=null,o=i.changeByRange(c=>{if(!c.empty)return{changes:[{insert:e,from:c.from},{insert:e,from:c.to}],effects:Br.of(c.to+e.length),range:q.range(c.anchor+e.length,c.head+e.length)};let h=c.head,d=Id(i.doc,h),p;if(d==e){if(i_(i,h))return{changes:{insert:e+e,from:h},effects:Br.of(h+e.length),range:q.cursor(h+e.length)};if(t$(i,h)){let y=t&&i.sliceDoc(h,h+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:h,to:h+y.length,insert:y},range:q.cursor(h+y.length)}}}else{if(t&&i.sliceDoc(h-2*e.length,h)==e+e&&(p=n_(i,h-2*e.length,s))>-1&&i_(i,p))return{changes:{insert:e+e+e+e,from:h},effects:Br.of(h+e.length),range:q.cursor(h+e.length)};if(i.charCategorizer(h)(d)!=nt.Word&&n_(i,h,s)>-1&&!G4(i,h,e,s))return{changes:{insert:e+e,from:h},effects:Br.of(h+e.length),range:q.cursor(h+e.length)}}return{range:l=c}});return l?null:i.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function i_(i,e){let t=At(i).resolveInner(e+1);return t.parent&&t.from==e}function G4(i,e,t,n){let s=At(i).resolveInner(e,-1),l=n.reduce((o,c)=>Math.max(o,c.length),0);for(let o=0;o<5;o++){let c=i.sliceDoc(s.from,Math.min(s.to,s.from+t.length+l)),h=c.indexOf(t);if(!h||h>-1&&n.indexOf(c.slice(0,h))>-1){let p=s.firstChild;for(;p&&p.from==s.from&&p.to-p.from>t.length+h;){if(i.sliceDoc(p.to-t.length,p.to)==t)return!1;p=p.firstChild}return!0}let d=s.to==e&&s.parent;if(!d)break;s=d}return!1}function n_(i,e,t){let n=i.charCategorizer(e);if(n(i.sliceDoc(e-1,e))!=nt.Word)return e;for(let s of t){let l=e-s.length;if(i.sliceDoc(l,e)==s&&n(i.sliceDoc(l-1,l))!=nt.Word)return l}return-1}function W4(i={}){return[T4,hi,Rt.of(i),x4,H4,HC]}const i$=[{key:"Ctrl-Space",run:fO},{mac:"Alt-`",run:fO},{mac:"Alt-i",run:fO},{key:"Escape",run:v4},{key:"ArrowDown",run:cf(!0)},{key:"ArrowUp",run:cf(!1)},{key:"PageDown",run:cf(!0,"page")},{key:"PageUp",run:cf(!1,"page")},{key:"Enter",run:b4}],H4=cr.highest(Ld.computeN([Rt],i=>i.facet(Rt).defaultKeymap?[i$]:[]));class s_{constructor(e,t,n){this.from=e,this.to=t,this.diagnostic=n}}class zr{constructor(e,t,n){this.diagnostics=e,this.panel=t,this.selected=n}static init(e,t,n){let s=n.facet(Vc).markerFilter;s&&(e=s(e,n));let l=e.slice().sort((b,v)=>b.from-v.from||b.to-v.to),o=new ds,c=[],h=0,d=n.doc.iter(),p=0,m=n.doc.length;for(let b=0;;){let v=b==l.length?null:l[b];if(!v&&!c.length)break;let w,x;if(c.length)w=h,x=c.reduce((C,j)=>Math.min(C,j.to),v&&v.from>w?v.from:1e8);else{if(w=v.from,w>m)break;x=v.to,c.push(v),b++}for(;b<l.length;){let C=l[b];if(C.from==w&&(C.to>C.from||C.to==w))c.push(C),b++,x=Math.min(C.to,x);else{x=Math.min(C.from,x);break}}x=Math.min(x,m);let _=!1;if(c.some(C=>C.from==w&&(C.to==x||x==m))&&(_=w==x,!_&&x-w<10)){let C=w-(p+d.value.length);C>0&&(d.next(C),p=w);for(let j=w;;){if(j>=x){_=!0;break}if(!d.lineBreak&&p+d.value.length>j)break;j=p+d.value.length,p+=d.value.length,d.next()}}let E=cB(c);if(_)o.add(w,w,se.widget({widget:new rB(E),diagnostics:c.slice()}));else{let C=c.reduce((j,B)=>B.markClass?j+" "+B.markClass:j,"");o.add(w,x,se.mark({class:"cm-lintRange cm-lintRange-"+E+C,diagnostics:c.slice(),inclusiveEnd:c.some(j=>j.to>x)}))}if(h=x,h==m)break;for(let C=0;C<c.length;C++)c[C].to<=h&&c.splice(C--,1)}let y=o.finish();return new zr(y,t,La(y))}}function La(i,e=null,t=0){let n=null;return i.between(t,1e9,(s,l,{spec:o})=>{if(!(e&&o.diagnostics.indexOf(e)<0))if(!n)n=new s_(s,l,e||o.diagnostics[0]);else{if(o.diagnostics.indexOf(n.diagnostic)<0)return!1;n=new s_(n.from,l,n.diagnostic)}}),n}function K4(i,e){let t=e.pos,n=e.end||t,s=i.state.facet(Vc).hideOn(i,t,n);if(s!=null)return s;let l=i.startState.doc.lineAt(e.pos);return!!(i.effects.some(o=>o.is(n$))||i.changes.touchesRange(l.from,Math.max(l.to,n)))}function J4(i,e){return i.field(Li,!1)?e:e.concat(Oe.appendConfig.of(uB))}const n$=Oe.define(),pb=Oe.define(),s$=Oe.define(),Li=Dt.define({create(){return new zr(se.none,null,null)},update(i,e){if(e.docChanged&&i.diagnostics.size){let t=i.diagnostics.map(e.changes),n=null,s=i.panel;if(i.selected){let l=e.changes.mapPos(i.selected.from,1);n=La(t,i.selected.diagnostic,l)||La(t,null,l)}!t.size&&s&&e.state.facet(Vc).autoPanel&&(s=null),i=new zr(t,s,n)}for(let t of e.effects)if(t.is(n$)){let n=e.state.facet(Vc).autoPanel?t.value.length?Ic.open:null:i.panel;i=zr.init(t.value,n,e.state)}else t.is(pb)?i=new zr(i.diagnostics,t.value?Ic.open:null,i.selected):t.is(s$)&&(i=new zr(i.diagnostics,i.panel,t.value));return i},provide:i=>[zc.from(i,e=>e.panel),H.decorations.from(i,e=>e.diagnostics)]}),F4=se.mark({class:"cm-lintRange cm-lintRange-active"});function eB(i,e,t){let{diagnostics:n}=i.state.field(Li),s,l=-1,o=-1;n.between(e-(t<0?1:0),e+(t>0?1:0),(h,d,{spec:p})=>{if(e>=h&&e<=d&&(h==d||(e>h||t>0)&&(e<d||t<0)))return s=p.diagnostics,l=h,o=d,!1});let c=i.state.facet(Vc).tooltipFilter;return s&&c&&(s=c(s,i.state)),s?{pos:l,end:o,above:i.state.doc.lineAt(l).to<o,create(){return{dom:tB(i,s)}}}:null}function tB(i,e){return Ve("ul",{class:"cm-tooltip-lint"},e.map(t=>l$(i,t,!1)))}const iB=i=>{let e=i.state.field(Li,!1);(!e||!e.panel)&&i.dispatch({effects:J4(i.state,[pb.of(!0)])});let t=Vy(i,Ic.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},r_=i=>{let e=i.state.field(Li,!1);return!e||!e.panel?!1:(i.dispatch({effects:pb.of(!1)}),!0)},nB=i=>{let e=i.state.field(Li,!1);if(!e)return!1;let t=i.state.selection.main,n=e.diagnostics.iter(t.to+1);return!n.value&&(n=e.diagnostics.iter(0),!n.value||n.from==t.from&&n.to==t.to)?!1:(i.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0}),!0)},sB=[{key:"Mod-Shift-m",run:iB,preventDefault:!0},{key:"F8",run:nB}],Vc=K.define({combine(i){return{sources:i.map(e=>e.source).filter(e=>e!=null),...Xn(i.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:l_,tooltipFilter:l_,needsRefresh:(e,t)=>e?t?n=>e(n)||t(n):e:t,hideOn:(e,t)=>e?t?(n,s,l)=>e(n,s,l)||t(n,s,l):e:t,autoPanel:(e,t)=>e||t})}}});function l_(i,e){return i?e?(t,n)=>e(i(t,n),n):i:e}function r$(i){let e=[];if(i)e:for(let{name:t}of i){for(let n=0;n<t.length;n++){let s=t[n];if(/[a-zA-Z]/.test(s)&&!e.some(l=>l.toLowerCase()==s.toLowerCase())){e.push(s);continue e}}e.push("")}return e}function l$(i,e,t){var n;let s=t?r$(e.actions):[];return Ve("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Ve("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(i):e.message),(n=e.actions)===null||n===void 0?void 0:n.map((l,o)=>{let c=!1,h=b=>{if(b.preventDefault(),c)return;c=!0;let v=La(i.state.field(Li).diagnostics,e);v&&l.apply(i,v.from,v.to)},{name:d}=l,p=s[o]?d.indexOf(s[o]):-1,m=p<0?d:[d.slice(0,p),Ve("u",d.slice(p,p+1)),d.slice(p+1)],y=l.markClass?" "+l.markClass:"";return Ve("button",{type:"button",class:"cm-diagnosticAction"+y,onclick:h,onmousedown:h,"aria-label":` Action: ${d}${p<0?"":` (access key "${s[o]})"`}.`},m)}),e.source&&Ve("div",{class:"cm-diagnosticSource"},e.source))}class rB extends bn{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return Ve("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class a_{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=l$(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Ic{constructor(e){this.view=e,this.items=[];let t=s=>{if(!(s.ctrlKey||s.altKey||s.metaKey)){if(s.keyCode==27)r_(this.view),this.view.focus();else if(s.keyCode==38||s.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(s.keyCode==40||s.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(s.keyCode==36)this.moveSelection(0);else if(s.keyCode==35)this.moveSelection(this.items.length-1);else if(s.keyCode==13)this.view.focus();else if(s.keyCode>=65&&s.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:l}=this.items[this.selectedIndex],o=r$(l.actions);for(let c=0;c<o.length;c++)if(o[c].toUpperCase().charCodeAt(0)==s.keyCode){let h=La(this.view.state.field(Li).diagnostics,l);h&&l.actions[c].apply(e,h.from,h.to)}}else return;s.preventDefault()}},n=s=>{for(let l=0;l<this.items.length;l++)this.items[l].dom.contains(s.target)&&this.moveSelection(l)};this.list=Ve("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:n}),this.dom=Ve("div",{class:"cm-panel-lint"},this.list,Ve("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>r_(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(Li).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Li),n=0,s=!1,l=null,o=new Set;for(e.between(0,this.view.state.doc.length,(c,h,{spec:d})=>{for(let p of d.diagnostics){if(o.has(p))continue;o.add(p);let m=-1,y;for(let b=n;b<this.items.length;b++)if(this.items[b].diagnostic==p){m=b;break}m<0?(y=new a_(this.view,p),this.items.splice(n,0,y),s=!0):(y=this.items[m],m>n&&(this.items.splice(n,m-n),s=!0)),t&&y.diagnostic==t.diagnostic?y.dom.hasAttribute("aria-selected")||(y.dom.setAttribute("aria-selected","true"),l=y):y.dom.hasAttribute("aria-selected")&&y.dom.removeAttribute("aria-selected"),n++}});n<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)s=!0,this.items.pop();this.items.length==0&&(this.items.push(new a_(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),s=!0),l?(this.list.setAttribute("aria-activedescendant",l.id),this.view.requestMeasure({key:this,read:()=>({sel:l.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:c,panel:h})=>{let d=h.height/this.list.offsetHeight;c.top<h.top?this.list.scrollTop-=(h.top-c.top)/d:c.bottom>h.bottom&&(this.list.scrollTop+=(c.bottom-h.bottom)/d)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),s&&this.sync()}sync(){let e=this.list.firstChild;function t(){let n=e;e=n.nextSibling,n.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;e!=n.dom;)t();e=n.dom.nextSibling}else this.list.insertBefore(n.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(Li),n=La(t.diagnostics,this.items[e].diagnostic);n&&this.view.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:s$.of(n)})}static open(e){return new Ic(e)}}function lB(i,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(i)}</svg>')`}function uf(i){return lB(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${i}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const aB=H.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:uf("#d11")},".cm-lintRange-warning":{backgroundImage:uf("orange")},".cm-lintRange-info":{backgroundImage:uf("#999")},".cm-lintRange-hint":{backgroundImage:uf("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function oB(i){return i=="error"?4:i=="warning"?3:i=="info"?2:1}function cB(i){let e="hint",t=1;for(let n of i){let s=oB(n.severity);s>t&&(t=s,e=n.severity)}return e}const uB=[Li,H.decorations.compute([Li],i=>{let{selected:e,panel:t}=i.field(Li);return!e||!t||e.from==e.to?se.none:se.set([F4.range(e.from,e.to)])}),N3(eB,{hideOn:K4}),aB],hB=[ej(),nj(),y3(),SU(),Ij(),a3(),f3(),Ze.allowMultipleSelections.of(!0),Mj(),Wj(Jj,{fallback:!0}),rU(),z4(),W4(),$3(),M3(),x3(),$N(),Ld.of([...B4,..._N,...KN,...$U,...Xj,...i$,...sB])];var o_={};class dd{constructor(e,t,n,s,l,o,c,h,d,p=0,m){this.p=e,this.stack=t,this.state=n,this.reducePos=s,this.pos=l,this.score=o,this.buffer=c,this.bufferBase=h,this.curContext=d,this.lookAhead=p,this.parent=m}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,n=0){let s=e.parser.context;return new dd(e,[],t,n,n,0,[],0,s?new c_(s,s.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let n=e>>19,s=e&65535,{parser:l}=this.p,o=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),c=l.dynamicPrecedence(s);if(c&&(this.score+=c),n==0){this.pushState(l.getGoto(this.state,s,!0),this.reducePos),s<l.minRepeatTerm&&this.storeNode(s,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(s,this.reducePos);return}let h=this.stack.length-(n-1)*3-(e&262144?6:0),d=h?this.stack[h-2]:this.p.ranges[0].from,p=this.reducePos-d;p>=2e3&&!(!((t=this.p.parser.nodeSet.types[s])===null||t===void 0)&&t.isAnonymous)&&(d==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=p):this.p.lastBigReductionSize<p&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=d,this.p.lastBigReductionSize=p));let m=h?this.stack[h-1]:0,y=this.bufferBase+this.buffer.length-m;if(s<l.minRepeatTerm||e&131072){let b=l.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(s,d,b,y+4,!0)}if(e&262144)this.state=this.stack[h];else{let b=this.stack[h-3];this.state=l.getGoto(b,s,!0)}for(;this.stack.length>h;)this.stack.pop();this.reduceContext(s,d)}storeNode(e,t,n,s=4,l=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,c=this.buffer.length;if(c==0&&o.parent&&(c=o.bufferBase-o.parent.bufferBase,o=o.parent),c>0&&o.buffer[c-4]==0&&o.buffer[c-1]>-1){if(t==n)return;if(o.buffer[c-2]>=t){o.buffer[c-2]=n;return}}}if(!l||this.pos==n)this.buffer.push(e,t,n,s);else{let o=this.buffer.length;if(o>0&&(this.buffer[o-4]!=0||this.buffer[o-1]<0)){let c=!1;for(let h=o;h>0&&this.buffer[h-2]>n;h-=4)if(this.buffer[h-1]>=0){c=!0;break}if(c)for(;o>0&&this.buffer[o-2]>n;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,s>4&&(s-=4)}this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=n,this.buffer[o+3]=s}}shift(e,t,n,s){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let l=e,{parser:o}=this.p;this.pos=s;let c=o.stateFlag(l,1);!c&&(s>n||t<=o.maxNode)&&(this.reducePos=s),this.pushState(l,c?n:Math.min(n,this.reducePos)),this.shiftContext(t,n),t<=o.maxNode&&this.buffer.push(t,n,s,4)}else this.pos=s,this.shiftContext(t,n),t<=this.p.parser.maxNode&&this.buffer.push(t,n,s,4)}apply(e,t,n,s){e&65536?this.reduce(e):this.shift(e,t,n,s)}useNode(e,t){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let s=this.pos;this.reducePos=this.pos=s+e.length,this.pushState(t,s),this.buffer.push(n,s,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let n=e.buffer.slice(t),s=e.bufferBase+t;for(;e&&s==e.bufferBase;)e=e.parent;return new dd(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,s,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,n?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new fB(this);;){let n=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(n==0)return!1;if((n&65536)==0)return!0;t.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let s=[];for(let l=0,o;l<t.length;l+=2)(o=t[l+1])!=this.state&&this.p.parser.hasAction(o,e)&&s.push(t[l],o);if(this.stack.length<120)for(let l=0;s.length<8&&l<t.length;l+=2){let o=t[l+1];s.some((c,h)=>h&1&&c==o)||s.push(t[l],o)}t=s}let n=[];for(let s=0;s<t.length&&n.length<4;s+=2){let l=t[s+1];if(l==this.state)continue;let o=this.split();o.pushState(l,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[s],this.pos),o.reducePos=this.pos,o.score-=200,n.push(o)}return n}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if((t&65536)==0)return!1;if(!e.validAction(this.state,t)){let n=t>>19,s=t&65535,l=this.stack.length-n*3;if(l<0||e.getGoto(this.stack[l],s,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;t=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],n=(s,l)=>{if(!t.includes(s))return t.push(s),e.allActions(s,o=>{if(!(o&393216))if(o&65536){let c=(o>>19)-l;if(c>1){let h=o&65535,d=this.stack.length-c*3;if(d>=0&&e.getGoto(this.stack[d],h,!1)>=0)return c<<19|65536|h}}else{let c=n(o,l+1);if(c!=null)return c}})};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new c_(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){return e<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=e,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class c_{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class fB{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,n=e>>19;n==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(n-1)*3;let s=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=s}}class pd{constructor(e,t,n){this.stack=e,this.pos=t,this.index=n,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new pd(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new pd(this.stack,this.pos,this.index)}}function tc(i,e=Uint16Array){if(typeof i!="string")return i;let t=null;for(let n=0,s=0;n<i.length;){let l=0;for(;;){let o=i.charCodeAt(n++),c=!1;if(o==126){l=65535;break}o>=92&&o--,o>=34&&o--;let h=o-32;if(h>=46&&(h-=46,c=!0),l+=h,c)break;l*=46}t?t[s++]=l:t=new e(l)}return t}class xf{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const u_=new xf;class dB{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=u_,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let n=this.range,s=this.rangeIndex,l=this.pos+e;for(;l<n.from;){if(!s)return null;let o=this.ranges[--s];l-=n.from-o.to,n=o}for(;t<0?l>n.to:l>=n.to;){if(s==this.ranges.length-1)return null;let o=this.ranges[++s];l+=o.from-n.to,n=o}return l}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,n,s;if(t>=0&&t<this.chunk.length)n=this.pos+e,s=this.chunk.charCodeAt(t);else{let l=this.resolveOffset(e,1);if(l==null)return-1;if(n=l,n>=this.chunk2Pos&&n<this.chunk2Pos+this.chunk2.length)s=this.chunk2.charCodeAt(n-this.chunk2Pos);else{let o=this.rangeIndex,c=this.range;for(;c.to<=n;)c=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=n),n+this.chunk2.length>c.to&&(this.chunk2=this.chunk2.slice(0,c.to-n)),s=this.chunk2.charCodeAt(0)}}return n>=this.token.lookAhead&&(this.token.lookAhead=n+1),s}acceptToken(e,t=0){let n=t?this.resolveOffset(t,-1):this.pos;if(n==null||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=u_,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let n="";for(let s of this.ranges){if(s.from>=t)break;s.to>e&&(n+=this.input.read(Math.max(s.from,e),Math.min(s.to,t)))}return n}}class Sa{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:n}=t.p;a$(this.data,e,t,this.id,n.data,n.tokenPrecTable)}}Sa.prototype.contextual=Sa.prototype.fallback=Sa.prototype.extend=!1;class I0{constructor(e,t,n){this.precTable=t,this.elseToken=n,this.data=typeof e=="string"?tc(e):e}token(e,t){let n=e.pos,s=0;for(;;){let l=e.next<0,o=e.resolveOffset(1,1);if(a$(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(l||s++,o==null)break;e.reset(o,e.token)}s&&(e.reset(n,e.token),e.acceptToken(this.elseToken,s))}}I0.prototype.contextual=Sa.prototype.fallback=Sa.prototype.extend=!1;class uu{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function a$(i,e,t,n,s,l){let o=0,c=1<<n,{dialect:h}=t.p.parser;e:for(;(c&i[o])!=0;){let d=i[o+1];for(let b=o+3;b<d;b+=2)if((i[b+1]&c)>0){let v=i[b];if(h.allows(v)&&(e.token.value==-1||e.token.value==v||pB(v,e.token.value,s,l))){e.acceptToken(v);break}}let p=e.next,m=0,y=i[o+2];if(e.next<0&&y>m&&i[d+y*3-3]==65535){o=i[d+y*3-1];continue e}for(;m<y;){let b=m+y>>1,v=d+b+(b<<1),w=i[v],x=i[v+1]||65536;if(p<w)y=b;else if(p>=x)m=b+1;else{o=i[v+2],e.advance();continue e}}break}}function h_(i,e,t){for(let n=e,s;(s=i[n])!=65535;n++)if(s==t)return n-e;return-1}function pB(i,e,t,n){let s=h_(t,n,e);return s<0||h_(t,n,i)<s}const $i=typeof process<"u"&&o_&&/\bparse\b/.test(o_.LOG);let pO=null;function f_(i,e,t){let n=i.cursor(st.IncludeAnonymous);for(n.moveTo(e);;)if(!(t<0?n.childBefore(e):n.childAfter(e)))for(;;){if((t<0?n.to<e:n.from>e)&&!n.type.isError)return t<0?Math.max(0,Math.min(n.to-1,e-25)):Math.min(i.length,Math.max(n.from+1,e+25));if(t<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return t<0?0:i.length}}class gB{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?f_(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?f_(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let n=this.trees[t],s=this.index[t];if(s==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let l=n.children[s],o=this.start[t]+n.positions[s];if(o>e)return this.nextStart=o,null;if(l instanceof pt){if(o==e){if(o<this.safeFrom)return null;let c=o+l.length;if(c<=this.safeTo){let h=l.prop(Qe.lookAhead);if(!h||c+h<this.fragment.to)return l}}this.index[t]++,o+l.length>=Math.max(this.safeFrom,e)&&(this.trees.push(l),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+l.length}}}class mB{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(n=>new xf)}getActions(e){let t=0,n=null,{parser:s}=e.p,{tokenizers:l}=s,o=s.stateSlot(e.state,3),c=e.curContext?e.curContext.hash:0,h=0;for(let d=0;d<l.length;d++){if((1<<d&o)==0)continue;let p=l[d],m=this.tokens[d];if(!(n&&!p.fallback)&&((p.contextual||m.start!=e.pos||m.mask!=o||m.context!=c)&&(this.updateCachedToken(m,p,e),m.mask=o,m.context=c),m.lookAhead>m.end+25&&(h=Math.max(m.lookAhead,h)),m.value!=0)){let y=t;if(m.extended>-1&&(t=this.addActions(e,m.extended,m.end,t)),t=this.addActions(e,m.value,m.end,t),!p.extend&&(n=m,t>y))break}}for(;this.actions.length>t;)this.actions.pop();return h&&e.setLookAhead(h),!n&&e.pos==this.stream.end&&(n=new xf,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,t=this.addActions(e,n.value,n.end,t)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new xf,{pos:n,p:s}=e;return t.start=n,t.end=Math.min(n+1,s.stream.end),t.value=n==s.stream.end?s.parser.eofTerm:0,t}updateCachedToken(e,t,n){let s=this.stream.clipPos(n.pos);if(t.token(this.stream.reset(s,e),n),e.value>-1){let{parser:l}=n.p;for(let o=0;o<l.specialized.length;o++)if(l.specialized[o]==e.value){let c=l.specializers[o](this.stream.read(e.start,e.end),n);if(c>=0&&n.p.parser.dialect.allows(c>>1)){(c&1)==0?e.value=c>>1:e.extended=c>>1;break}}}else e.value=0,e.end=this.stream.clipPos(s+1)}putAction(e,t,n,s){for(let l=0;l<s;l+=3)if(this.actions[l]==e)return s;return this.actions[s++]=e,this.actions[s++]=t,this.actions[s++]=n,s}addActions(e,t,n,s){let{state:l}=e,{parser:o}=e.p,{data:c}=o;for(let h=0;h<2;h++)for(let d=o.stateSlot(l,h?2:1);;d+=3){if(c[d]==65535)if(c[d+1]==1)d=cs(c,d+2);else{s==0&&c[d+1]==2&&(s=this.putAction(cs(c,d+2),t,n,s));break}c[d]==t&&(s=this.putAction(cs(c,d+1),t,n,s))}return s}}class OB{constructor(e,t,n,s){this.parser=e,this.input=t,this.ranges=s,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new dB(t,s),this.tokens=new mB(e,this.stream),this.topTerm=e.top[1];let{from:l}=s[0];this.stacks=[dd.start(this,e.top[0],l)],this.fragments=n.length&&this.stream.end-l>e.bufferLength*4?new gB(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,n=this.stacks=[],s,l;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let c=e[o];for(;;){if(this.tokens.mainToken=null,c.pos>t)n.push(c);else{if(this.advanceStack(c,n,e))continue;{s||(s=[],l=[]),s.push(c);let h=this.tokens.getMainToken(c);l.push(h.value,h.end)}}break}}if(!n.length){let o=s&&vB(s);if(o)return $i&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw $i&&s&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&s){let o=this.stoppedAt!=null&&s[0].pos>this.stoppedAt?s[0]:this.runRecovery(s,l,n);if(o)return $i&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(n.length>o)for(n.sort((c,h)=>h.score-c.score);n.length>o;)n.pop();n.some(c=>c.reducePos>t)&&this.recovering--}else if(n.length>1){e:for(let o=0;o<n.length-1;o++){let c=n[o];for(let h=o+1;h<n.length;h++){let d=n[h];if(c.sameState(d)||c.buffer.length>500&&d.buffer.length>500)if((c.score-d.score||c.buffer.length-d.buffer.length)>0)n.splice(h--,1);else{n.splice(o--,1);continue e}}}n.length>12&&(n.sort((o,c)=>c.score-o.score),n.splice(12,n.length-12))}this.minStackPos=n[0].pos;for(let o=1;o<n.length;o++)n[o].pos<this.minStackPos&&(this.minStackPos=n[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,n){let s=e.pos,{parser:l}=this,o=$i?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&s>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let d=e.curContext&&e.curContext.tracker.strict,p=d?e.curContext.hash:0;for(let m=this.fragments.nodeAt(s);m;){let y=this.parser.nodeSet.types[m.type.id]==m.type?l.getGoto(e.state,m.type.id):-1;if(y>-1&&m.length&&(!d||(m.prop(Qe.contextHash)||0)==p))return e.useNode(m,y),$i&&console.log(o+this.stackID(e)+` (via reuse of ${l.getName(m.type.id)})`),!0;if(!(m instanceof pt)||m.children.length==0||m.positions[0]>0)break;let b=m.children[0];if(b instanceof pt&&m.positions[0]==0)m=b;else break}}let c=l.stateSlot(e.state,4);if(c>0)return e.reduce(c),$i&&console.log(o+this.stackID(e)+` (via always-reduce ${l.getName(c&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let h=this.tokens.getActions(e);for(let d=0;d<h.length;){let p=h[d++],m=h[d++],y=h[d++],b=d==h.length||!n,v=b?e:e.split(),w=this.tokens.mainToken;if(v.apply(p,m,w?w.start:v.pos,y),$i&&console.log(o+this.stackID(v)+` (via ${(p&65536)==0?"shift":`reduce of ${l.getName(p&65535)}`} for ${l.getName(m)} @ ${s}${v==e?"":", split"})`),b)return!0;v.pos>s?t.push(v):n.push(v)}return!1}advanceFully(e,t){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return d_(e,t),!0}}runRecovery(e,t,n){let s=null,l=!1;for(let o=0;o<e.length;o++){let c=e[o],h=t[o<<1],d=t[(o<<1)+1],p=$i?this.stackID(c)+" -> ":"";if(c.deadEnd&&(l||(l=!0,c.restart(),$i&&console.log(p+this.stackID(c)+" (restarted)"),this.advanceFully(c,n))))continue;let m=c.split(),y=p;for(let b=0;b<10&&m.forceReduce()&&($i&&console.log(y+this.stackID(m)+" (via force-reduce)"),!this.advanceFully(m,n));b++)$i&&(y=this.stackID(m)+" -> ");for(let b of c.recoverByInsert(h))$i&&console.log(p+this.stackID(b)+" (via recover-insert)"),this.advanceFully(b,n);this.stream.end>c.pos?(d==c.pos&&(d++,h=0),c.recoverByDelete(h,d),$i&&console.log(p+this.stackID(c)+` (via recover-delete ${this.parser.getName(h)})`),d_(c,n)):(!s||s.score<m.score)&&(s=m)}return s}stackToTree(e){return e.close(),pt.build({buffer:pd.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(pO||(pO=new WeakMap)).get(e);return t||pO.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function d_(i,e){for(let t=0;t<e.length;t++){let n=e[t];if(n.pos==i.pos&&n.sameState(i)){e[t].score<i.score&&(e[t]=i);return}}e.push(i)}class yB{constructor(e,t,n){this.source=e,this.flags=t,this.disabled=n}allows(e){return!this.disabled||this.disabled[e]==0}}const gO=i=>i;class bB{constructor(e){this.start=e.start,this.shift=e.shift||gO,this.reduce=e.reduce||gO,this.reuse=e.reuse||gO,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class gd extends zA{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let c=0;c<e.repeatNodeCount;c++)t.push("");let n=Object.keys(e.topRules).map(c=>e.topRules[c][1]),s=[];for(let c=0;c<t.length;c++)s.push([]);function l(c,h,d){s[c].push([h,h.deserialize(String(d))])}if(e.nodeProps)for(let c of e.nodeProps){let h=c[0];typeof h=="string"&&(h=Qe[h]);for(let d=1;d<c.length;){let p=c[d++];if(p>=0)l(p,h,c[d++]);else{let m=c[d+-p];for(let y=-p;y>0;y--)l(c[d++],h,m);d++}}}this.nodeSet=new Iy(t.map((c,h)=>yi.define({name:h>=this.minRepeatTerm?void 0:c,id:h,props:s[h],top:n.indexOf(h)>-1,error:h==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(h)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=PA;let o=tc(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let c=0;c<this.specializerSpecs.length;c++)this.specialized[c]=this.specializerSpecs[c].term;this.specializers=this.specializerSpecs.map(p_),this.states=tc(e.states,Uint32Array),this.data=tc(e.stateData),this.goto=tc(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(c=>typeof c=="number"?new Sa(o,c):c),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,n){let s=new OB(this,e,t,n);for(let l of this.wrappers)s=l(s,e,t,n);return s}getGoto(e,t,n=!1){let s=this.goto;if(t>=s[0])return-1;for(let l=s[t+1];;){let o=s[l++],c=o&1,h=s[l++];if(c&&n)return h;for(let d=l+(o>>1);l<d;l++)if(s[l]==e)return h;if(c)return-1}}hasAction(e,t){let n=this.data;for(let s=0;s<2;s++)for(let l=this.stateSlot(e,s?2:1),o;;l+=3){if((o=n[l])==65535)if(n[l+1]==1)o=n[l=cs(n,l+2)];else{if(n[l+1]==2)return cs(n,l+2);break}if(o==t||o==0)return cs(n,l+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,n=>n==t?!0:null)}allActions(e,t){let n=this.stateSlot(e,4),s=n?t(n):void 0;for(let l=this.stateSlot(e,1);s==null;l+=3){if(this.data[l]==65535)if(this.data[l+1]==1)l=cs(this.data,l+2);else break;s=t(cs(this.data,l+1))}return s}nextStates(e){let t=[];for(let n=this.stateSlot(e,1);;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=cs(this.data,n+2);else break;if((this.data[n+2]&1)==0){let s=this.data[n+1];t.some((l,o)=>o&1&&l==s)||t.push(this.data[n],s)}}return t}configure(e){let t=Object.assign(Object.create(gd.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=n}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(n=>{let s=e.tokenizers.find(l=>l.from==n);return s?s.to:n})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((n,s)=>{let l=e.specializers.find(c=>c.from==n.external);if(!l)return n;let o=Object.assign(Object.assign({},n),{external:l.to});return t.specializers[s]=p_(o),o})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),n=t.map(()=>!1);if(e)for(let l of e.split(" ")){let o=t.indexOf(l);o>=0&&(n[o]=!0)}let s=null;for(let l=0;l<t.length;l++)if(!n[l])for(let o=this.dialects[t[l]],c;(c=this.data[o++])!=65535;)(s||(s=new Uint8Array(this.maxTerm+1)))[c]=1;return new yB(e,n,s)}static deserialize(e){return new gd(e)}}function cs(i,e){return i[e]|i[e+1]<<16}function vB(i){let e=null;for(let t of i){let n=t.p.stoppedAt;(t.pos==t.p.stream.end||n!=null&&t.pos>n)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function p_(i){if(i.external){let e=i.extend?1:0;return(t,n)=>i.external(t,n)<<1|e}return i.get}const SB=316,wB=317,g_=1,kB=2,xB=3,_B=4,TB=318,QB=320,AB=321,CB=5,$B=6,EB=0,G0=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],o$=125,RB=59,W0=47,MB=42,PB=43,DB=45,ZB=60,LB=44,zB=63,jB=46,UB=91,NB=new bB({start:!1,shift(i,e){return e==CB||e==$B||e==QB?i:e==AB},strict:!1}),BB=new uu((i,e)=>{let{next:t}=i;(t==o$||t==-1||e.context)&&i.acceptToken(TB)},{contextual:!0,fallback:!0}),XB=new uu((i,e)=>{let{next:t}=i,n;G0.indexOf(t)>-1||t==W0&&((n=i.peek(1))==W0||n==MB)||t!=o$&&t!=RB&&t!=-1&&!e.context&&i.acceptToken(SB)},{contextual:!0}),qB=new uu((i,e)=>{i.next==UB&&!e.context&&i.acceptToken(wB)},{contextual:!0}),YB=new uu((i,e)=>{let{next:t}=i;if(t==PB||t==DB){if(i.advance(),t==i.next){i.advance();let n=!e.context&&e.canShift(g_);i.acceptToken(n?g_:kB)}}else t==zB&&i.peek(1)==jB&&(i.advance(),i.advance(),(i.next<48||i.next>57)&&i.acceptToken(xB))},{contextual:!0});function mO(i,e){return i>=65&&i<=90||i>=97&&i<=122||i==95||i>=192||!e&&i>=48&&i<=57}const VB=new uu((i,e)=>{if(i.next!=ZB||!e.dialectEnabled(EB)||(i.advance(),i.next==W0))return;let t=0;for(;G0.indexOf(i.next)>-1;)i.advance(),t++;if(mO(i.next,!0)){for(i.advance(),t++;mO(i.next,!1);)i.advance(),t++;for(;G0.indexOf(i.next)>-1;)i.advance(),t++;if(i.next==LB)return;for(let n=0;;n++){if(n==7){if(!mO(i.next,!0))return;break}if(i.next!="extends".charCodeAt(n))break;i.advance(),t++}}i.acceptToken(_B,-t)}),IB=jA({"get set async static":D.modifier,"for while do if else switch try catch finally return throw break continue default case defer":D.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":D.operatorKeyword,"let var const using function class extends":D.definitionKeyword,"import export from":D.moduleKeyword,"with debugger new":D.keyword,TemplateString:D.special(D.string),super:D.atom,BooleanLiteral:D.bool,this:D.self,null:D.null,Star:D.modifier,VariableName:D.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":D.function(D.variableName),VariableDefinition:D.definition(D.variableName),Label:D.labelName,PropertyName:D.propertyName,PrivatePropertyName:D.special(D.propertyName),"CallExpression/MemberExpression/PropertyName":D.function(D.propertyName),"FunctionDeclaration/VariableDefinition":D.function(D.definition(D.variableName)),"ClassDeclaration/VariableDefinition":D.definition(D.className),"NewExpression/VariableName":D.className,PropertyDefinition:D.definition(D.propertyName),PrivatePropertyDefinition:D.definition(D.special(D.propertyName)),UpdateOp:D.updateOperator,"LineComment Hashbang":D.lineComment,BlockComment:D.blockComment,Number:D.number,String:D.string,Escape:D.escape,ArithOp:D.arithmeticOperator,LogicOp:D.logicOperator,BitOp:D.bitwiseOperator,CompareOp:D.compareOperator,RegExp:D.regexp,Equals:D.definitionOperator,Arrow:D.function(D.punctuation),": Spread":D.punctuation,"( )":D.paren,"[ ]":D.squareBracket,"{ }":D.brace,"InterpolationStart InterpolationEnd":D.special(D.brace),".":D.derefOperator,", ;":D.separator,"@":D.meta,TypeName:D.typeName,TypeDefinition:D.definition(D.typeName),"type enum interface implements namespace module declare":D.definitionKeyword,"abstract global Privacy readonly override":D.modifier,"is keyof unique infer asserts":D.operatorKeyword,JSXAttributeValue:D.attributeValue,JSXText:D.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":D.angleBracket,"JSXIdentifier JSXNameSpacedName":D.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":D.attributeName,"JSXBuiltin/JSXIdentifier":D.standard(D.tagName)}),GB={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},WB={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},HB={__proto__:null,"<":193},KB=gd.deserialize({version:14,states:"$F|Q%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3YQ(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ |QpO'#GbO$!dQ!dO,5<sO$!kQ`O'#K[O9eQ`O'#K[O$!yQ`O,5<uO$#aQ!dO'#C{O!,TQMhO,5<tO$#kQ`O'#GZO$$PQ`O,5<tO$$UQ!dO'#GWO$$cQ!dO'#K]O$$mQ`O'#K]O!&zQMhO'#K]O$$rQ`O,5<xO$$wQlO'#JvO$%RQpO'#GcO#$`QpO'#GcO$%dQ`O'#GgO!3oQ`O'#GkO$%iQ!0LrO'#ItO$%tQpO,5<|OOQ!0Lp,5<|,5<|O$%{QpO'#GcO$&YQpO'#GdO$&kQpO'#GdO$&pQMjO,5=XO$'QQMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$'bQ`O'#IyO$'vQ`O,5@UO$(OQ`O,59aOOQ!0Lh,59i,59iO$(TQ`O,5@VO$)TQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)vQMjO,5<kO$*iQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*sQ`O,5<vO$*xQMjO,5<{O$+YQ`O'#KPO!$wQlO1G2RO$+_Q`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$+dQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$-fQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$/jQMhO'#EkOOQ!0Lb,5@T,5@TO$/wQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$0YQ`O1G0uO$0_Q`O'#CiO$0jQ`O'#KeO$0rQ`O,5=|O$0wQ`O'#KeO$0|Q`O'#KeO$1[Q`O'#JRO$1jQ`O,5AOO$1rQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1yQ`O1G3fO$2OQ`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$2TQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$2YQ`O1G3SO$2bQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$2jQMhO,5=tO9kQ`O,5=tO$%dQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2xQ`O'#KcO$3TQ`O,5=wOOQ[1G.k1G.kO$3YQ!0LrO1G.kO@zQ`O1G.kO$3eQ`O1G.kO9uQ!0LrO1G.kO$5mQ!fO,5AQO$5zQ`O,5AQO9eQ`O,5AQO$6VQlO,5>PO$6^Q`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$6cQlO1G3uO$:gQlO'#HtOOQ[1G3x1G3xO$:tQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:|QlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$?TQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$?YQ?MtO,5:XOOQO,5;`,5;`O$?dQpO'#IeO$?zQ`O,5@aOOQ!0Lf1G/r1G/rO$@SQpO'#IkO$@^Q`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$@fQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$@mQ!0LrO1G0mO$@xQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$AWQ!0LrO1G0mOOQO1G0^1G0^O$AlQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$AvQ!bO,5<iO$BOQ!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$BYQ`O1G5zO$BbQ`O1G6YO$BjQ!fO1G6ZO9eQ`O,5?UO$BtQ!0MxO1G6WO%[QlO1G6WO$CUQ!0LrO1G6WO$CgQ`O1G6VO$CgQ`O1G6VO9eQ`O1G6VO$CoQ`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$DTQ`O,5?XO$+YQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$DcQ`O7+(eO$DnQMhO7+(eO$D|Q!0MzO,5=XO$GXQ!0MzO,5=ZO$IdQ!0MzO,5=XO$KuQ!0MzO,5=ZO$NWQ!0MzO,59uO%!]Q!0MzO,5<kO%$hQ!0MzO,5<mO%&sQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%)UQ!0MxO7+&aO%)xQlO'#IfO%*VQ`O,5@cO%*_Q!fO,5@cOOQ!0Lf1G0P1G0PO%*iQ`O7+&jOOQ!0Lf7+&j7+&jO%*nQ?MtO,5:fO%[QlO7+&zO%*xQ?MtO,5:bO%+VQ?MtO,5:jO%+aQ?MtO,5:lO%+kQMhO'#IiO%+uQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+}Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%,YQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%,_Q!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%,fQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%-YQMhO1G2fP%-aQ`O'#IrPOQ!0Lh-E<p-E<pO%-}QMjO,5?aOOQ!0Lh-E<s-E<sO%.pQMjO,5?cOOQ!0Lh-E<u-E<uO%.zQ!dO1G2wO%/RQ!dO'#CrO%/iQMhO'#KSO$$wQlO'#JvOOQ!0Lh1G2_1G2_O%/sQ`O'#IqO%0[Q`O,5@vO%0[Q`O,5@vO%0dQ`O,5@vO%0oQ`O,5@vOOQO1G2a1G2aO%0}QMjO1G2`O$+YQ`O'#K[O!,TQMhO1G2`O%1_Q(CWO'#IsO%1lQ`O,5@wO!&zQMhO,5@wO%1tQ!dO,5@wOOQ!0Lh1G2d1G2dO%4UQ!fO'#CiO%4`Q`O,5=POOQ!0Lb,5<},5<}O%4hQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%4sQpO,5<}OOQ!0Lb,5=R,5=RO$+YQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$wQlO,5=PO%5RQ`O,5=OO%5^QpO,5=OO!,TQMhO'#IuO%6WQMjO1G2sO!,TQMhO'#IwO%6yQMjO1G2uO%7TQMjO1G5qO%7_QMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%7lQ`O1G2ZO!,TQMhO1G2bO%7qQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%8eQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%8jQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$DfQ`O7+(eO%8tQ!0MvO'#CiO%9XQ!0MvO,5=SO%9lQ`O,5=SO%9tQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9yQ`O'#JQO%:bQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%:bQ`O,5APO%:jQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:oQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:tQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:yQ!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%;TQ`O'#KbO%;`Q`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<rQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<yQ`O1G3`O%=UQMhO1G3`O9uQ!0LrO1G3bO$%dQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%=dQ`O'#JPO%=xQ`O,5@}O%>QQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%>]Q`O7+$VO%[QlO1G6lO%[QlO1G6mO%>bQ!0LrO1G6lO%>lQlO1G3kO%>sQ`O1G3kO%>xQlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%?PQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%?^Q`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%?cQpO1G5|O%?}Q?MtO1G0zO%@XQ`O1G0zOOQO1G/s1G/sO%@dQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$AlQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@nQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@yQ!0LrO7+&XO%AXQ!0MxO7++rO%[QlO7++rO%AiQ`O7++qO%AiQ`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AqQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%BPQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%BXQ`O<<LPO%BdQ!0MzO,5?aO%DoQ!0MzO,5?cO%FzQ!0MzO1G2`O%I]Q!0MzO1G2sO%KhQ!0MzO1G2uO%MsQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%M}Q`O1G5}OOQ!0Lf<<JU<<JUO%NVQ?MtO1G0uO&!^Q?MtO1G1PO&!eQ?MtO1G1PO&$fQ?MtO1G1PO&$mQ?MtO1G1PO&&nQ?MtO1G1PO&(oQ?MtO1G1PO&(vQ?MtO1G1PO&(}Q?MtO1G1PO&+OQ?MtO1G1PO&+VQ?MtO1G1PO&+^Q!0MxO<<JfO&-UQ?MtO1G1PO&.RQ?MvO1G1PO&/UQ?MvO'#JlO&1[Q?MtO1G1cO&1iQ?MtO1G0UO&1sQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1}Q`O1G1tO&2SQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&2^Q!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&2eQ`O,5?]O9eQ`O,5?]O$+YQ`O,5?]OOQO-E<o-E<oO&2sQ`O1G6bO&2sQ`O1G6bO&2{Q`O1G6bO&3WQMjO7+'zO&3hQ!dO,5?_O&3rQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3wQ!dO1G6cO&4RQ`O1G6cO&4ZQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%4hQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&4`QpO1G2iO&4nQ`O1G2kO$+YQ`O1G2jOCwQ`O1G2jO$$wQlO1G2kO&4vQ`O1G2jO&5jQMjO,5?aOOQ!0Lh-E<t-E<tO&6]QMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&6gQMjO7++]O&6qQMjO7++]OOQ!0Lh1G/c1G/cO&7OQ`O1G/cOOQ!0Lh7+'u7+'uO&7TQMjO7+'|O&7eQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&8XQ`O1G0zO!&zQMhO'#IzO&8^Q`O,5@xO&:`Q!fO<<LPO!&zQMhO1G2nO&:gQ!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:xQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;lQ`O,5?lO&;qQ`O,5?lOOQO-E=O-E=OO&<PQ`O1G6kO&<PQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&<XQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:yQ!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&<^QpO'#I|O&<iQ`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<qQpO,5=uOOQ[,5=u,5=uO&<xQpO'#EgO&=PQpO'#GeO&=UQ`O7+(zO&=ZQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&=cQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$%dQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=nQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=yQ`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&>RQ`O7+,WO&>WQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&>]Q`O7+)VO&>bQlO7+)VO&>iQ`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>nQ`O,5>aOOQ[,5>c,5>cO&>sQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>xQ?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$AlQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&?SQ!0LrO<<IsO&?_Q!0MxO<= ^O&?oQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?wQ!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&@OQ`OANAkO%[QlOANAkO&@WQ!0MzO7+'zO&BiQ!0MzO,5?aO&DtQ!0MzO,5?cO&GPQ!0MzO7+'|O&IbQ!fO1G4lO&IlQ?MtO7+&aO&KpQ?MvO,5=XO&MwQ?MvO,5=ZO&NXQ?MvO,5=XO&NiQ?MvO,5=ZO&NyQ?MvO,59uO'#PQ?MvO,5<kO'%SQ?MvO,5<mO''hQ?MvO,5<{O')^Q?MtO7+'kO')kQ?MtO7+'mO')xQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')}QMjO<<K}OOQO1G4w1G4wO'*UQ`O1G4wO'*aQ`O1G4wO'*oQ`O7++|O'*oQ`O7++|O!&zQMhO1G4yO'*wQ!dO1G4yO'+RQ`O7++}O'+ZQ`O7+(VO'+fQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+pQ`O7+(VO!&zQMhO7+(VO$+YQ`O7+(UO'+uQ`O7+(VOCwQ`O7+(UO'+}QMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O',XQ!dO,5?fOOQO-E<x-E<xO',cQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',sQ`O1G5WO',xQ`O7+,VO',xQ`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO'-QQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO'-VQ`O,5?hOOQO-E<z-E<zO'-bQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-lQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&=UQ`O<<LfO'-qQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$%dQ`O<<LhO9`Q`O<<LhO'-yQpO1G5VO'.UQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'.^Q`O<= rO'.cQ`O<= sOOQ[<<Lq<<LqO'.hQ`O<<LqO'.mQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.tQ`O<<JQO'/PQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$AlQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'/ZQ!fOG27VO4UQ!fOG27VO'/bQ`OG27VO'/jQ?MtO<<JfO'/wQ?MvO1G2`O'1mQ?MvO,5?aO'3pQ?MvO,5?cO'5sQ?MvO1G2sO'7vQ?MvO1G2uO'9yQ?MtO<<KXO':WQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO':eQ`O7+*cO':pQ`O<= hO':xQ!dO7+*eOOQ!0Lb<<Kq<<KqO$+YQ`O<<KqOCwQ`O<<KqO';SQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO';_Q!dO<<KqOOQ!0Lb<<Kp<<KpO';iQ`O<<KqO!&zQMhO<<KqO$+YQ`O<<KpO';nQMjOANDcO';xQ!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO'<YQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO'<bQ`O7+,SO'<jQ`O1G2kO&=UQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<oQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$%dQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<wQ`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$AlQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<|Q!fOLD,qO'=TQ?MvO7+'zO'>yQ?MvO,5?aO'@|Q?MvO,5?cO'CPQ?MvO7+'|O'DuQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$+YQ`OANA]OCwQ`OANA]O'EVQ!dOANA]OOQ!0LbANAZANAZO'E^Q`OANA]O!&zQMhOANA]O'EiQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EsQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&=UQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'E}Q?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'FXQ!0MzOG27TOOQ!0LbG26wG26wO$+YQ`OG26wO'HjQ`OG26wOCwQ`OG26wO'HuQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&=UQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$+YQ`OLD,cOCwQ`OLD,cO'H|Q`OLD,cO'IXQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'I`Q?MvOG27TOOQ!0Lb!$( }!$( }O$+YQ`O!$( }OCwQ`O!$( }O'KUQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$+YQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$+YQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'KaQ!fO'#JrO'KhQ!L^O'#DvO'KoQlO'#EOO'KvQ!fO'#CiO'N^Q!fO'#CiO!)[QlO'#EQO'NnQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!qQ`O,5<iO!)[QlO,5;eO(!yQMhO,5;eO($dQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!yQMhO'#GmO!&zQMhO'#GoO(!yQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!yQMhO'#GPO!&zQMhO'#GRO(!yQMhO'#GRO!&zQMhO'#GaO(!yQMhO'#GaO!)[QlO,5:jO($kQpO'#D_O($uQpO'#JvO!)[QlO,5@oO'NnQlO1G0uO(%PQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO(%ZQ!dO'#CrO!&zQMhO,5<tO(!yQMhO,5<tO'NnQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!yQMhO1G2`O!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO!&zQMhO1G2bO(!yQMhO1G2bO'NnQlO7+'mO'NnQlO7+&aO!&zQMhOANAiO(!yQMhOANAiO(%nQ`O'#EoO(%sQ`O'#EoO(%{Q`O'#F]O(&QQ`O'#EyO(&VQ`O'#KTO(&bQ`O'#KRO(&mQ`O,5;ZO(&rQMjO,5<eO(&yQ`O'#GYO('OQ`O'#GYO('TQ`O,5<eO(']Q`O,5<gO('eQ`O,5;ZO('mQ?MtO1G1`O('tQ`O,5<tO('yQ`O,5<tO((OQ`O,5<vO((TQ`O,5<vO((YQ`O1G2RO((_Q`O1G0uO((dQMjO<<K}O((kQMjO<<K}O((rQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.zQ!dO1G2wO%.zQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()x~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<ZO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<[O!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<VO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S*YO!_*ZO!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op*`O![*^O(T*XO!k)OP~P!1uO#k*aO~O!l*bO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T*dO(VTO(YUO(a$uO(y$}O(z%PO~O![*gO!Y)PP~P!3tOr*sOs!nO!S*iO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO(e!mO~O!^*pO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*xO#`*wOg(_X!](_X~O!]*yOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*|O~Og)}O(T&ZO~O!l+SO~O(T(vO~Op+WO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+XO~O!S%hO![+ZO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+]O![+[O(VTO(YUO(e(|O~O!^(xP~P!9|O!]+^Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+gO!_'`O%i+fO~O!g+iOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+tO%j+uO(T+qO(VTO(YUO!^)XP~O!]+vO`)WX~O[+zO~O`+{O~O!_&PO(T%gO(U!lO`)WP~O%j,OO~P;SOh%VO#`,SO~Oh%VOn,VO!_$|O~O!_,XO~O!Q,ZO!_XO~O%n%vO~O!x,`O~Oe,eO~Ob,fO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,kO`,jO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,jOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,pOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,vO~O!_,xO~O&o,zO&q,{OP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-QO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-VO#`-UOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-XO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(VTO(YUO(aVO(o[O~O(T=QO~P#$qO!]-]O!^(iX~O!^-_O~O!g-VO#`-UO!]#hX!^#hX~O!]-`O!^(xX~O!^-bO~O!c-cO!d-cO(U!lO~P#$`O!^-fO~P'_On-iO!_'`O~O!Y-nO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-sO#`-qO~PChO!c-uO!d-uO(U!lO~PDWOa%nO#`-qO'z%nO~Oa%nO!g#vO#`-qO'z%nO~Oa%nO!g#vO!p-sO#`-qO'z%nO(r'pO~O(P'xO(Q'xO(R-zO~Ov-{O~O!Y'Wa!]'Wa~P!:tO![.PO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.TO!_%iO(T%gO!Y'^X!]'^X~O#`.VO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.ZO(T%gO~Op.`O!S%hO![.]O!_%iO!|]O#i._O#j.]O(T%gO!]'aX!k'aX~OR.dO!l#xO~Oh%VOn.gO!_'`O%i.fO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>]O!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].tO!k(kX~P!:tO!k.wO~O!Y.yO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO#z<gO#{<hO(aVO(r$YO(y#|O(z#}O~O$O.{O~P#BwO#S$dO#`<nO$Q<nO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>]O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/POg(pX~P!1WOg/RO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/SO$_/SO~O$]/TO$_/TO~O!g)hO#`/UO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/VO~O!_)kO$Z/XO$])jO$_)jO$f/YO~O!]<iO!^(fX~P#BwO!^/ZO~O!g)hO$f({X~O$f/]O~Ov/^O~P!&zOx)yO(b)zO(c/aO~O!S/dO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SOp%WO![/mO!](^O(T/lO!Y(vP!Y)PP~P!1uOr*sO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO~Os<}O!S/nO![+[O!^*pO(e<|O!^(xP~P$ [O!k/oO~P#/sO!]/pO!g#vO(r'pO!k)OX~O!k/uO~OnoX!QoX'yoX(yoX(zoX~O!g#vO!koX~P$#OOp/wO!S%hO![*^O!_%iO(T%gO!k)OP~O#k/xO~O!Y$zX!]$zX!g%RX~P!0SO!]/yO!Y)PX~P#/sO!g/{O~O!Y/}O~OpkO(T0OO~P.iOh%VOr0TO!g#vO!l%eO(r'pO~O!g+iO~Oa%nO!]0XO'z%nO~O!^0ZO~P!5iO!c0[O!d0[O(U!lO~P#$`Os!nO!S0]O(VTO(YUO(e!mO~O#[0_O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*yOg(^a~Og0hO~On0jO#`0iOg(_a!](_a~OR0kO!Q0kO!S0lO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$(cO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$)_O!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$*QO#k0oO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0rO~O!]+^Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$+oOh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0{O%]0|O(T0zO~P$.VO!g+iOa(]a!_(]a'z(]a!](]a~O#k1SO~O[]X!]fX!^fX~O!]1TO!^)XX~O!^1VO~O[1WO~Ob1YO(T+qO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+vO`)Wa~O!k1]O~P!:tO[1`O~O`1aO~O#`1fO~On1iO!_$|O~O(e(|O!^)UP~Oh%VOn1rO!_1oO%i1qO~O[1|O!]1zO!^)VX~O!^1}O~O`2POa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2SO&[2TOa(gX~P$3pOj2SO#`$eO&[2TO~Oa2VO~P%[Oa2XO~O&e2[OP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2bO!^2`O&j2aO~P`O!_XO!l2dO~O&q,{OP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2jO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2pO(e!mO!]'XX!^'XX~P@nO!]-]O!^(ia~O!]'_X!^'_X~P!9|O!]-`O!^(xa~O!^2wO~P'_Oa%nO#`3QO'z%nO~Oa%nO!g#vO#`3QO'z%nO~Oa%nO!g#vO!p3UO#`3QO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3WO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3]O#j3[O(T%gO~O!S%hO!_%iO#j3[O(T%gO~On3dO!_'`O%i3cO~Oh%VOn3dO!_'`O%i3cO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$(cO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$)_O#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$*QO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3lO!]'YX!k'YX~P%[O!].tO!k(ka~O!].tO!k(ka~P!:tO!Y3oO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/POg(pa~OSfO!_4TO$d4UO~O!^4YO~Ov4ZO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4]O~P!&zO!S4^O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%-fO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%.XO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SOp%WO(T=WO~P!1uOp4bO!S%hO![4aO!_%iO(T%gO!]'eX!k'eX~O!]/pO!k)Oa~O!]/pO!g#vO!k)Oa~O!]/pO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4jO!Y'gX!]'gX~P!3tO!]/yO!Y)Pa~O!]/yO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%2OOj4oO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4tO!l%eO(r'pO~Or4yO!g#vO(r'pO~Os!nO!S4zO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%5oO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%6bOg(_i!](_i~P!1WO#`5QOg(_i!](_i~P!1WO!k5VO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5ZO~O!]5[O!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5_OaoX!_oX'zoX!]oX~P$#OOp5`O(T#nO~O%^5_O~Ob5fO%j5gO(T+qO(VTO(YUO!]'tX!^'tX~O!]1TO!^)Xa~O[5kO~O`5lO~O[5pO~Oa%nO'z%nO~P#/sO!]5uO#`5wO!^)UX~O!^5xO~Or6OOs!nO!S*iO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!pO#W!pO#X!pO#[5}O#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5|O~P%;eOn6TO!_1oO%i6SO~Oh%VOn6TO!_1oO%i6SO~Ob6[O(T#nO(VTO(YUO!]'sX!^'sX~O!]1zO!^)Va~O(VTO(YUO(e6^O~O`6bO~Oj6eO&[6fO~PNXO!k6gO~P%[Oa6iO~Oa6iO~P%[Ob2bO!^6nO&j2aO~P`O!g6pO~O!g6rOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6sO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6|O'z%nO~Oa%nO!g#vO#`6|O'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7TO(T%gO~O!_'`O%i7WO~On7[O!_'`O%i7WO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%-fO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%.XO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%5oO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%6bO!]'Ya!k'Ya~P!:tO!].tO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%NdO#n<_O~P%NdOP$[OR#zOr<kO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!lO#r<aO~P&!lOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<eO~P&&uO#x#mi~P&&uO#v<cO~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&)UO#z<gO~P&)UOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO(y#mi(z#mi~P&,QOn>^O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&,QO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$+oOg']a!]']a~P!1WO!^7nO~O!]'da!^'da~P#BwO!Y7oO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/pO!k)Oi~O!]/pO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7vO~O!]/yO!Y)Pi~P#/sO!]/yO!Y)Pi~O!Y7yO~Oh%VOr8OO!l%eO(r'pO~Oj8QO!g#vO~Or8TO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&5RO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5tOg(_q!](_q~P!1WO#`8VOg(_q!](_q~P!1WO!Y8WO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6rO~O!]5[O!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7WO~P&8fO%^8[Oa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8^O~Ob8`O(T+qO(VTO(YUO~O!]1TO!^)Xi~O`8dO~O(e(|O!]'pX!^'pX~O!]5uO!^)Ua~O!^8nO~P%;eO(o!sO~P$&YO#[8oO~O!_1oO~O!_1oO%i8qO~On8tO!_1oO%i8qO~O[8yO!]'sa!^'sa~O!]1zO!^)Vi~O!k8}O~O!k9OO~O!k9RO~O!k9RO~P%[Oa9TO~O!g9UO~O!k9VO~O!](wi!^(wi~P#BwOa%nO#`9_O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9bO~P&8fO!_'`O%i9bO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&5RO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5tO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&IyO(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&LQOn>^O!Q*OO'y*PO(z%PO~P&IyOn>^O!Q*OO'y*PO(y$}O~P&LQOR0kO!Q0kO!S0lO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>^O!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P''VO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9oO~O$O9pO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/pO!k)Oq~O!Y'gi!]'gi~P#/sO!]/yO!Y)Pq~Or9wO!g#vO(r'pO~O[9yO!Y9xO~P#/sO!Y9xO~Oj:PO!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:UO~O!]1TO!^)Xq~O`:YO~O#`:ZO!]'pa!^'pa~O!]5uO!^)Ui~P#BwO!S:]O~O!_1oO%i:`O~O(VTO(YUO(e:eO~O!]1zO!^)Vq~O!k:hO~O!k:iO~O!k:jO~O!k:jO~P%[O#`:mO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:rO~P&8fO!_'`O%i:rO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P''VO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/pO!k)Oy~O!Y'gq!]'gq~P#/sOr:|O!g#vO(r'pO~O[;QO!Y;PO~P#/sO!Y;PO~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1TO!^)Xy~O!]5uO!^)Uq~O(T;XO~O!_1oO%i;[O~O!k;_O~O%i;dO~P&8fOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P''VO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P''VOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;hO~P#/sOr;iO!g#vO(r'pO~O[;kO!Y;hO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;tO!g#vO(r'pO~O!Y;uO~P#/sOr;|O!g#vO(r'pO~O!Y;}O~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P''VOr<QO!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%2OOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'LTOP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_XO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]<iO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<tO!S${O!_$|O!i>WO!l$xO#j<zO$W%`O$t<vO$v<xO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!yOr!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'LTO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<^O~O!g#vO#k<^O~O#`<nO~Oj<bO~O#`=OO!](wX!^(wX~O#`<nO!](uX!^(uX~O#k=PO~Og=RO~P!1WO#k=XO~O#k=YO~Og=RO(T&ZO~O!g#vO#k=ZO~O!g#vO#k=PO~O$O=[O~P#BwO#k=]O~O#k=^O~O#k=cO~O#k=dO~O#k=eO~O#k=fO~O$O=gO~P!1WO$O=hO~P!1WOl=sO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9Y)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2iI[I[!2n!5z!:h!:h!>gPPP!>oI[PPPPPPPPP!BOP!C]PPI[!DnPI[PI[I[I[I[I[PI[!FQP!I[P!LbP!Lf!Lp!Lt!LtP!IXP!Lx!LxP#!OP#!SI[PI[#!Y#%_CjA^PA^PA^A^P#&lA^A^#)OA^#+vA^#.SA^A^#.r#1W#1W#1]#1f#1W#1qPP#1WPA^#2ZA^#6YA^A^6mPPP#:_PPP#:x#:xP#:xP#;`#:xPP#;fP#;]P#;]#;y#;]#<e#<k#<n)aP#<q)aP#<z#<z#<zP)aP)aP)aP)aPP)aP#=Q#=TP#=T)aP#=XP#=[P)aP)aP)aP)aP)aP)a)aPP#=b#=h#=s#=y#>P#>V#>]#>k#>q#>{#?R#?]#?c#?s#?y#@k#@}#AT#AZ#Ai#BO#Cs#DR#DY#Et#FS#Gt#HS#HY#H`#Hf#Hp#Hv#H|#IW#Ij#IpPPPPPPPPPPP#IvPPPPPPP#Jk#Mx$ b$ i$ qPPP$']P$'f$*_$0x$0{$1O$1}$2Q$2X$2aP$2g$2jP$3W$3[$4S$5b$5g$5}PP$6S$6Y$6^$6a$6e$6i$7e$7|$8e$8i$8l$8o$8y$8|$9Q$9UR!|RoqOXst!Z#d%m&r&t&u&w,s,x2[2_Y!vQ'`-e1o5{Q%tvQ%|yQ&T|Q&j!VS'W!e-]Q'f!iS'l!r!yU*k$|*Z*oQ+o%}S+|&V&WQ,d&dQ-c'_Q-m'gQ-u'mQ0[*qQ1b,OQ1y,eR<{<Y%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_S#q]<V!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU+P%]<s<tQ+t&PQ,f&gQ,m&oQ0x+gQ0}+iQ1Y+uQ2R,kQ3`.gQ5`0|Q5f1TQ6[1zQ7Y3dQ8`5gR9e7['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S!S!nQ!r!v!y!z$|'W'_'`'l'm'n*k*o*q*r-]-c-e-u0[0_1o5{5}%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q&X|Q'U!eS'[%i-`Q+t&PQ,P&WQ,f&gQ0n+SQ1Y+uQ1_+{Q2Q,jQ2R,kQ5f1TQ5o1aQ6[1zQ6_1|Q6`2PQ8`5gQ8c5lQ8|6bQ:X8dQ:f8yQ;V:YR<}*ZrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R,h&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>R>S[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ%wxQ%{yW&Q|&V&W,OQ&_!TQ'c!hQ'e!iQ(q#sS+n%|%}Q+r&PQ,_&bQ,c&dS-l'f'gQ.i(rQ1R+oQ1X+uQ1Z+vQ1^+zQ1t,`S1x,d,eQ2|-mQ5e1TQ5i1WQ5n1`Q6Z1yQ8_5gQ8b5kQ8f5pQ:T8^R;T:U!U$zi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y!^%yy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{Q+h%wQ,T&[Q,W&]Q,b&dQ.h(qQ1s,_U1w,c,d,eQ3e.iQ6U1tS6Y1x1yQ8x6Z#f>T#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o>U<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hW%Ti%V*y>PS&[!Q&iQ&]!RQ&^!SU*}%[%d=sR,R&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^T)z$u){V+P%]<s<tW'[!e%i*Z-`S(}#y#zQ+c%rQ+y&SS.b(m(nQ1j,XQ5T0kR8i5u'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.|.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ'Y!eR2q-]!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*k*o*q*r-]-c-e-u0[0_1o5{5}R1l,ZnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&y!^Q'v!xS(s#u<^Q+l%zQ,]&_Q,^&aQ-j'dQ-w'oS.r(x=PS0q+X=ZQ1P+mQ1n,[Q2c,zQ2e,{Q2m-WQ2z-kQ2}-oS5Y0r=eQ5a1QS5d1S=fQ6t2oQ6x2{Q6}3SQ8]5bQ9Y6vQ9Z6yQ9^7OR:l9V$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vS(o#p'iQ)P#zS+b%q.|S.c(n(pR3^.d'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS#q]<VQ&t!XQ&u!YQ&w![Q&x!]R2Z,vQ'a!hQ+e%wQ-h'cS.e(q+hQ2x-gW3b.h.i0w0yQ6w2yW7U3_3a3e5^U9a7V7X7ZU:q9c9d9fS;b:p:sQ;p;cR;x;qU!wQ'`-eT5y1o5{!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,s,x.[2[2_]!pQ!r'`-e1o5{T#q]<V%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S(}#y#zS.b(m(n!s=l$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU$fd)_,mS(p#p'iU*v%R(w4OU0m+O.n7gQ5^0xQ7V3`Q9d7YR:s9em!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}Q't!uS(f#g2US-s'k'wQ/s*]Q0R*jQ3U-vQ4f/tQ4r0TQ4s0UQ4x0^Q7r4`S7}4t4vS8R4y4{Q9r7sQ9v7yQ9{8OQ:Q8TS:{9w9xS;g:|;PS;s;h;iS;{;t;uS<P;|;}R<S<QQ#wbQ's!uS(e#g2US(g#m+WQ+Y%fQ+j%xQ+p&OU-r'k't'wQ.W(fU/r*]*`/wQ0S*jQ0V*lQ1O+kQ1u,aS3R-s-vQ3Z.`S4e/s/tQ4n0PS4q0R0^Q4u0WQ6W1vQ7P3US7q4`4bQ7u4fU7|4r4x4{Q8P4wQ8v6XS9q7r7sQ9u7yQ9}8RQ:O8SQ:c8wQ:y9rS:z9v9xQ;S:QQ;^:dS;f:{;PS;r;g;hS;z;s;uS<O;{;}Q<R<PQ<T<SQ=o=jQ={=tR=|=uV!wQ'`-e%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S#wz!j!r=i$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=o>R%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{S&Oz!jQ+k%yQ,a&dW1v,b,c,d,eU6X1w1x1yS8w6Y6ZQ:d8x!r=j$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ=t>QR=u>R%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ,n&o!p=k$Z$n)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=n'XU']!e%i*ZR2s-`%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ,m&oQ0x+gQ3`.gQ7Y3dR9e7[!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!P<d)^)q-Z.|2k2n3p3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!T<f)^)q-Z.|2k2n3p3v3w3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!^$Zc#Y%q(S(Y(t(y)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<WQ4_/kz>S)^)q-Z.|2k2n3p4P4X6u7b7k7l8k9X9g9m9n;W;`=vQ>X>ZR>Y>['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS$oh$pR4U/U'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_!s>Q$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*i+]+g,p,s,x-i.g/V/n0]0l1r2S2T2V2X2[2_2a3d4T4z6T6e6f6i7[8t9T!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^Q+T%aQ/c*Oo4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!U$yi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>YQ*c$zU*l$|*Z*oQ+U%bQ0W*m#f=q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n=r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hQ=w>TQ=x>UQ=y>VR=z>W!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hnoOXst!Z#d%m&r&t&u&w,s,x2[2_S*f${*YQ-R'OQ-S'QR4i/y%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q,U&]Q1h,WQ5s1gR8h5tV*n$|*Z*oU*n$|*Z*oT5z1o5{S0P*i/nQ4w0]T8S4z:]Q+j%xQ0V*lQ1O+kQ1u,aQ6W1vQ8v6XQ:c8wR;^:d!U%Oi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Yx*R$v)e*S*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>OS0`*t0a#f<o#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<p<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!d=S(u)c*[*e.j.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[`=T3}7c7f7j9h:t:w;yS=_.l3iT=`7e9k!U%Qi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y|*T$v)e*U*t+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>OS0b*u0c#f<q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!h=U(u)c*[*e.k.l.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[d=V3}7d7e7j9h9i:t:u:w;yS=a.m3jT=b7f9lrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q&f!UR,p&ornOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R&f!UQ,Y&^R1d,RsnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q1p,_S6R1s1tU8p6P6Q6US:_8r8sS;Y:^:aQ;m;ZR;w;nQ&m!VR,i&iR6_1|R:f8yW&Q|&V&W,OR1Z+vQ&r!WR,s&sR,y&xT2],x2_R,}&yQ,|&yR2f,}Q'y!{R-y'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/`){Q#UVR(Q#UQ#XWU(W#X(X.QQ(X#YR.Q(YQ-^'YR2r-^Q.u(yS3m.u3nR3n.vQ-e'`R2v-eY!rQ'`-e1o5{R'j!rQ/Q)eR4S/QU#_W%h*YU(_#_(`.RQ(`#`R.R(ZQ-a']R2t-at`OXst!V!Z#d%m&i&k&r&t&u&w,s,x2[2_S#hZ%eU#r`#h.[R.[(jQ(k#jQ.X(gW.a(k.X3X7RQ3X.YR7R3YQ)n$lR/W)nQ$phR)t$pQ$`cU)a$`-|<jQ-|<WR<j)qQ/q*]W4c/q4d7t9sU4d/r/s/tS7t4e4fR9s7u$e*Q$v(u)c)e*[*e*t*u+Q+R+V.l.m.o.p.q/_/g/i/k/v/|0d0e0v1e3f3g3h3}4R4[4g4h4l4|5O5R5S5W5r7]7^7_7`7e7f7h7i7j7p7w7z8U8X8Z9h9i9j9t9|:R:S:t:u:v:w:x:};R;e;j;v;y=p=}>O>Z>[Q/z*eU4k/z4m7xQ4m/|R7x4lS*o$|*ZR0Y*ox*S$v)e*t*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>O!d.j(u)c*[*e.l.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/h*S.j7ca7c3}7e7f7j9h:t:w;yQ0a*tQ3i.lU4}0a3i9kR9k7e|*U$v)e*t*u+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>O!h.k(u)c*[*e.l.m.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/j*U.k7de7d3}7e7f7j9h9i:t:u:w;yQ0c*uQ3j.mU5P0c3j9lR9l7fQ*z%UR0g*zQ5]0vR8Y5]Q+_%kR0u+_Q5v1jS8j5v:[R:[8kQ,[&_R1m,[Q5{1oR8m5{Q1{,fS6]1{8zR8z6_Q1U+rW5h1U5j8a:VQ5j1XQ8a5iR:V8bQ+w&QR1[+wQ2_,xR6m2_YrOXst#dQ&v!ZQ+a%mQ,r&rQ,t&tQ,u&uQ,w&wQ2Y,sS2],x2_R6l2[Q%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+`%lQ+l%zQ,Q&XQ,h&mQ-P&|W-p'k's't'wQ-w'oQ0X*nQ1P+mQ1c,PS2O,i,lQ2g-OQ2h-RQ2i-SQ2}-oW3P-r-s-v-xQ5a1QQ5m1_Q5q1eQ6V1uQ6a2QQ6k2ZU6z3O3R3UQ6}3SQ8]5bQ8e5oQ8g5rQ8l5zQ8u6WQ8{6`S9[6{7PQ9^7OQ:W8cQ:b8vQ:g8|Q:n9]Q;U:XQ;]:cQ;a:oQ;l;VR;o;^Q%zyQ'd!iQ'o!uU+m%{%|%}Q-W'VU-k'e'f'gS-o'k'uQ0Q*jS1Q+n+oQ2o-YS2{-l-mQ3S-tS4p0R0UQ5b1RQ6v2uQ6y2|Q7O3TU7{4r4s4vQ9z7}R;O9{S$wi>PR*{%VU%Ui%V>PR0f*yQ$viS(u#v+iS)c$b$cQ)e$dQ*[$xS*e${*YQ*t%OQ*u%QQ+Q%^Q+R%_Q+V%cQ.l<oQ.m<qQ.o<uQ.p<wQ.q<yQ/_)yQ/g*RQ/i*TQ/k*VQ/v*aS/|*g/mQ0d*wQ0e*xl0v+f,V.f1i1q3c6S7W8q9b:`:r;[;dQ1e,SQ3f=SQ3g=UQ3h=XS3}<l<mQ4R/PS4[/d4^Q4g/xQ4h/yQ4l/{Q4|0`Q5O0bQ5R0iQ5S0jQ5W0oQ5r1fQ7]=]Q7^=_Q7_=aQ7`=cQ7e<pQ7f<rQ7h<vQ7i<xQ7j<zQ7p4_Q7w4jQ7z4oQ8U5QQ8X5[Q8Z5_Q9h=YQ9i=TQ9j=VQ9t7vQ9|8QQ:R8VQ:S8[Q:t=^Q:u=`Q:v=bQ:w=dQ:x9pQ:}9yQ;R:PQ;e=gQ;j;QQ;v;kQ;y=hQ=p>PQ=}>XQ>O>YQ>Z>]R>[>^Q+O%]Q.n<sR7g<tnpOXst!Z#d%m&r&t&u&w,s,x2[2_Q!fPS#fZ#oQ&|!`W'h!o*i0]4zQ(P#SQ)Q#{Q)r$nS,l&k&nQ,q&oQ-O&{S-T'T/nQ-g'bQ.x)OQ/[)sQ0s+]Q0y+gQ2W,pQ2y-iQ3a.gQ4W/VQ5U0lQ6Q1rQ6c2SQ6d2TQ6h2VQ6j2XQ6o2aQ7Z3dQ7m4TQ8s6TQ9P6eQ9Q6fQ9S6iQ9f7[Q:a8tR:k9T#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*i+]+g,p,s,x-i.g/n0]0l1r2S2T2V2X2[2_2a3d4z6T6e6f6i7[8t9TQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/V4TQ+d%tQ+x&RS-Z'X2pQ-x'rS-}(T.PQ.S(]Q.U(dQ.s(xQ.v(zQ.z<UQ.|<XQ.}<YQ/O<]Q/b)}Q0p+XQ2k-UQ2n-XQ3O-qQ3V.VQ3k.tQ3p<^Q3q<_Q3r<`Q3s<aQ3t<bQ3u<cQ3v<dQ3w<eQ3x<fQ3y<gQ3z<hQ3{.{Q3|<kQ4P<nQ4Q<{Q4X<iQ5X0rQ5c1SQ6u=OQ6{3QQ7Q3WQ7a3lQ7b=PQ7k=RQ7l=ZQ8k5wQ9X6sQ9]6|Q9g=[Q9m=eQ9n=fQ:o9_Q;W:ZQ;`:mQ<W#SR=v>SR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}S'V!e-]U*j$|*Z*oS-Y'W'_S0U*k*qQ0^*rQ2u-cQ4v0[R4{0_R({#xQ!fQT-d'`-e]!qQ!r'`-e1o5{Q#p]R'i<VR)f$dY!uQ'`-e1o5{Q'k!rS'u!v!yS'w!z5}S-t'l'mQ-v'nR3T-uT#kZ%eS#jZ%eS%km,oU(g#h#i#lS.Y(h(iQ.^(jQ0t+^Q3Y.ZU3Z.[.]._S7S3[3]R9`7Td#^W#W#Z%h(T(^*Y+Z.T/mr#gZm#h#i#l%e(h(i(j+^.Z.[.]._3[3]7TS*]$x*bQ/t*^Q2U,oQ2l-VQ4`/pQ6q2dQ7s4aQ9W6rT=m'X+[V#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Z/mS-['X+[T.O(T.TV'^!e%i*ZQ$lfR)x$qT)m$l)nR4V/UT*_$x*bT*h${*YQ0w+fQ1g,VQ3_.fQ5t1iQ6P1qQ7X3cQ8r6SQ9c7WQ:^8qQ:p9bQ;Z:`Q;c:rQ;n;[R;q;dnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&l!VR,h&itmOXst!U!V!Z#d%m&i&r&t&u&w,s,x2[2_R,o&oT%lm,oR1k,XR,g&gQ&U|S+}&V&WR1^,OR+s&PT&p!W&sT&q!W&sT2^,x2_",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:NB,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[IB],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[XB,qB,YB,VB,2,3,4,5,6,7,8,9,10,11,12,13,14,BB,new I0("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new I0("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15175},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:327,get:i=>GB[i]||-1},{term:343,get:i=>WB[i]||-1},{term:95,get:i=>HB[i]||-1}],tokenPrec:15201}),c$=[ci("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),ci("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),ci("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),ci("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),ci("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),ci(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),ci("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),ci(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),ci(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),ci('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),ci('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],JB=c$.concat([ci("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),ci("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),ci("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),m_=new uj,u$=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function Wo(i){return(e,t)=>{let n=e.node.getChild("VariableDefinition");return n&&t(n,i),!0}}const FB=["FunctionDeclaration"],eX={FunctionDeclaration:Wo("function"),ClassDeclaration:Wo("class"),ClassExpression:()=>!0,EnumDeclaration:Wo("constant"),TypeAliasDeclaration:Wo("type"),NamespaceDeclaration:Wo("namespace"),VariableDefinition(i,e){i.matchContext(FB)||e(i,"variable")},TypeDefinition(i,e){e(i,"type")},__proto__:null};function h$(i,e){let t=m_.get(e);if(t)return t;let n=[],s=!0;function l(o,c){let h=i.sliceString(o.from,o.to);n.push({label:h,type:c})}return e.cursor(st.IncludeAnonymous).iterate(o=>{if(s)s=!1;else if(o.name){let c=eX[o.name];if(c&&c(o,l)||u$.has(o.name))return!1}else if(o.to-o.from>8192){for(let c of h$(i,o.node))n.push(c);return!1}}),m_.set(e,n),n}const O_=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,f$=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function tX(i){let e=At(i.state).resolveInner(i.pos,-1);if(f$.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&O_.test(i.state.sliceDoc(e.from,e.to));if(!t&&!i.explicit)return null;let n=[];for(let s=e;s;s=s.parent)u$.has(s.name)&&(n=n.concat(h$(i.state.doc,s)));return{options:n,from:t?e.from:i.pos,validFor:O_}}const Gr=ed.define({name:"javascript",parser:KB.configure({props:[qA.add({IfStatement:sO({except:/^\s*({|else\b)/}),TryStatement:sO({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:Ej,SwitchBody:i=>{let e=i.textAfter,t=/^\s*\}/.test(e),n=/^\s*(case|default)\b/.test(e);return i.baseIndent+(t?0:n?1:2)*i.unit},Block:$j({closing:"}"}),ArrowFunction:i=>i.baseIndent+i.unit,"TemplateString BlockComment":()=>null,"Statement Property":sO({except:/^\s*{/}),JSXElement(i){let e=/^\s*<\//.test(i.textAfter);return i.lineIndent(i.node.from)+(e?0:i.unit)},JSXEscape(i){let e=/\s*\}/.test(i.textAfter);return i.lineIndent(i.node.from)+(e?0:i.unit)},"JSXOpenTag JSXSelfClosingTag"(i){return i.column(i.node.from)+i.unit}}),IA.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":Dj,BlockComment(i){return{from:i.from+2,to:i.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),d$={test:i=>/^JSX/.test(i.name),facet:BA({commentTokens:{block:{open:"{/*",close:"*/}"}}})},iX=Gr.configure({dialect:"ts"},"typescript"),nX=Gr.configure({dialect:"jsx",props:[Ky.add(i=>i.isTop?[d$]:void 0)]}),sX=Gr.configure({dialect:"jsx ts",props:[Ky.add(i=>i.isTop?[d$]:void 0)]},"typescript");let p$=i=>({label:i,type:"keyword"});const g$="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(p$),rX=g$.concat(["declare","implements","private","protected","public"].map(p$));function lX(i={}){let e=i.jsx?i.typescript?sX:nX:i.typescript?iX:Gr,t=i.typescript?JB.concat(rX):c$.concat(g$);return new wj(e,[Gr.data.of({autocomplete:i4(f$,VC(t))}),Gr.data.of({autocomplete:tX}),i.jsx?cX:[]])}function aX(i){for(;;){if(i.name=="JSXOpenTag"||i.name=="JSXSelfClosingTag"||i.name=="JSXFragmentTag")return i;if(i.name=="JSXEscape"||!i.parent)return null;i=i.parent}}function y_(i,e,t=i.length){for(let n=e?.firstChild;n;n=n.nextSibling)if(n.name=="JSXIdentifier"||n.name=="JSXBuiltin"||n.name=="JSXNamespacedName"||n.name=="JSXMemberExpression")return i.sliceString(n.from,Math.min(n.to,t));return""}const oX=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),cX=H.inputHandler.of((i,e,t,n,s)=>{if((oX?i.composing:i.compositionStarted)||i.state.readOnly||e!=t||n!=">"&&n!="/"||!Gr.isActiveAt(i.state,e,-1))return!1;let l=s(),{state:o}=l,c=o.changeByRange(h=>{var d;let{head:p}=h,m=At(o).resolveInner(p-1,-1),y;if(m.name=="JSXStartTag"&&(m=m.parent),!(o.doc.sliceString(p-1,p)!=n||m.name=="JSXAttributeValue"&&m.to>p)){if(n==">"&&m.name=="JSXFragmentTag")return{range:h,changes:{from:p,insert:"</>"}};if(n=="/"&&m.name=="JSXStartCloseTag"){let b=m.parent,v=b.parent;if(v&&b.from==p-2&&((y=y_(o.doc,v.firstChild,p))||((d=v.firstChild)===null||d===void 0?void 0:d.name)=="JSXFragmentTag")){let w=`${y}>`;return{range:q.cursor(p+w.length,-1),changes:{from:p,insert:w}}}}else if(n==">"){let b=aX(m);if(b&&b.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(o.doc.sliceString(p,p+2))&&(y=y_(o.doc,b,p)))return{range:h,changes:{from:p,insert:`</${y}>`}}}}return{range:h}});return c.changes.empty?!1:(i.dispatch([l,o.update(c,{userEvent:"input.complete",scrollIntoView:!0})]),!0)});class gb{constructor(e,t){this.yanchor=e,this.yhead=t}toJSON(){return{yanchor:pk(this.yanchor),yhead:pk(this.yhead)}}static fromJSON(e){return new gb(Ac(e.yanchor),Ac(e.yhead))}}class uX{constructor(e,t){this.ytext=e,this.awareness=t,this.undoManager=new BT(e)}toYPos(e,t=0){return WO(this.ytext,e,t)}fromYPos(e){const t=HO(Ac(e),this.ytext.doc);if(t==null||t.type!==this.ytext)throw new Error("[y-codemirror] The position you want to retrieve was created by a different document");return{pos:t.index,assoc:t.assoc}}toYRange(e){const t=e.assoc,n=this.toYPos(e.anchor,t),s=this.toYPos(e.head,t);return new gb(n,s)}fromYRange(e){const t=this.fromYPos(e.yanchor),n=this.fromYPos(e.yhead);return t.pos===n.pos?q.cursor(n.pos,n.assoc):q.range(t.pos,n.pos)}}const Gd=K.define({combine(i){return i[i.length-1]}}),H0=yn.define();class hX{constructor(e){this.view=e,this.conf=e.state.facet(Gd),this._observer=(t,n)=>{if(n.origin!==this.conf){const s=t.delta,l=[];let o=0;for(let c=0;c<s.length;c++){const h=s[c];h.insert!=null?l.push({from:o,to:o,insert:h.insert}):h.delete!=null?(l.push({from:o,to:o+h.delete,insert:""}),o+=h.delete):o+=h.retain}e.dispatch({changes:l,annotations:[H0.of(this.conf)]})}},this._ytext=this.conf.ytext,this._ytext.observe(this._observer)}update(e){if(!e.docChanged||e.transactions.length>0&&e.transactions[0].annotation(H0)===this.conf)return;const t=this.conf.ytext;t.doc.transact(()=>{let n=0;e.changes.iterChanges((s,l,o,c,h)=>{const d=h.sliceString(0,h.length,`
`);s!==l&&t.delete(s+n,l-s),d.length>0&&t.insert(s+n,d),n+=d.length-(l-s)})},this.conf)}destroy(){this._ytext.unobserve(this._observer)}}const fX=rt.fromClass(hX),dX=H.baseTheme({".cm-ySelection":{},".cm-yLineSelection":{padding:0,margin:"0px 2px 0px 4px"},".cm-ySelectionCaret":{position:"relative",borderLeft:"1px solid black",borderRight:"1px solid black",marginLeft:"-1px",marginRight:"-1px",boxSizing:"border-box",display:"inline"},".cm-ySelectionCaretDot":{borderRadius:"50%",position:"absolute",width:".4em",height:".4em",top:"-.2em",left:"-.2em",backgroundColor:"inherit",transition:"transform .3s ease-in-out",boxSizing:"border-box"},".cm-ySelectionCaret:hover > .cm-ySelectionCaretDot":{transformOrigin:"bottom center",transform:"scale(0)"},".cm-ySelectionInfo":{position:"absolute",top:"-1.05em",left:"-1px",fontSize:".75em",fontFamily:"serif",fontStyle:"normal",fontWeight:"normal",lineHeight:"normal",userSelect:"none",color:"white",paddingLeft:"2px",paddingRight:"2px",zIndex:101,transition:"opacity .3s ease-in-out",backgroundColor:"inherit",opacity:0,transitionDelay:"0s",whiteSpace:"nowrap"},".cm-ySelectionCaret:hover > .cm-ySelectionInfo":{opacity:1,transitionDelay:"0s"}}),pX=yn.define();class gX extends bn{constructor(e,t){super(),this.color=e,this.name=t}toDOM(){return Pm("span",[Pi("class","cm-ySelectionCaret"),Pi("style",`background-color: ${this.color}; border-color: ${this.color}`)],[Lh(""),Pm("div",[Pi("class","cm-ySelectionCaretDot")]),Lh(""),Pm("div",[Pi("class","cm-ySelectionInfo")],[Lh(this.name)]),Lh("")])}eq(e){return e.color===this.color}compare(e){return e.color===this.color}updateDOM(){return!1}get estimatedHeight(){return-1}ignoreEvent(){return!0}}class mX{constructor(e){this.conf=e.state.facet(Gd),this._listener=({added:t,updated:n,removed:s},l,o)=>{t.concat(n).concat(s).findIndex(h=>h!==this.conf.awareness.doc.clientID)>=0&&e.dispatch({annotations:[pX.of([])]})},this._awareness=this.conf.awareness,this._awareness.on("change",this._listener),this.decorations=Te.of([])}destroy(){this._awareness.off("change",this._listener)}update(e){const t=this.conf.ytext,n=t.doc,s=this.conf.awareness,l=[],o=this.conf.awareness.getLocalState();if(o!=null){const c=e.view.hasFocus&&e.view.dom.ownerDocument.hasFocus(),h=c?e.state.selection.main:null,d=o.cursor==null?null:Ac(o.cursor.anchor),p=o.cursor==null?null:Ac(o.cursor.head);if(h!=null){const m=WO(t,h.anchor),y=WO(t,h.head);(o.cursor==null||!gk(d,m)||!gk(p,y))&&s.setLocalStateField("cursor",{anchor:m,head:y})}else o.cursor!=null&&c&&s.setLocalStateField("cursor",null)}s.getStates().forEach((c,h)=>{if(h===s.doc.clientID)return;const d=c.cursor;if(d==null||d.anchor==null||d.head==null)return;const p=HO(d.anchor,n),m=HO(d.head,n);if(p==null||m==null||p.type!==t||m.type!==t)return;const{color:y="#30bced",name:b="Anonymous"}=c.user||{},v=c.user&&c.user.colorLight||y+"33",w=iy(p.index,m.index),x=or(p.index,m.index),_=e.view.state.doc.lineAt(w),E=e.view.state.doc.lineAt(x);if(_.number===E.number)l.push({from:w,to:x,value:se.mark({attributes:{style:`background-color: ${v}`},class:"cm-ySelection"})});else{l.push({from:w,to:_.from+_.length,value:se.mark({attributes:{style:`background-color: ${v}`},class:"cm-ySelection"})}),l.push({from:E.from,to:x,value:se.mark({attributes:{style:`background-color: ${v}`},class:"cm-ySelection"})});for(let C=_.number+1;C<E.number;C++){const j=e.view.state.doc.line(C).from;l.push({from:j,to:j,value:se.line({attributes:{style:`background-color: ${v}`,class:"cm-yLineSelection"}})})}}l.push({from:m.index,to:m.index,value:se.widget({side:m.index-p.index>0?-1:1,block:!1,widget:new gX(y,b)})})}),this.decorations=se.set(l,!0)}}const OX=rt.fromClass(mX,{decorations:i=>i.decorations}),yX=()=>{let i=!0;return(e,t)=>{if(i){i=!1;try{e()}finally{i=!0}}else t!==void 0&&t()}};class bX{constructor(e){this.undoManager=e}addTrackedOrigin(e){this.undoManager.addTrackedOrigin(e)}removeTrackedOrigin(e){this.undoManager.removeTrackedOrigin(e)}undo(){return this.undoManager.undo()!=null}redo(){return this.undoManager.redo()!=null}}const Wd=K.define({combine(i){return i[i.length-1]}});class vX{constructor(e){this.view=e,this.conf=e.state.facet(Wd),this._undoManager=this.conf.undoManager,this.syncConf=e.state.facet(Gd),this._beforeChangeSelection=null,this._mux=yX(),this._onStackItemAdded=({stackItem:t,changedParentTypes:n})=>{n.has(this.syncConf.ytext)&&this._beforeChangeSelection&&!t.meta.has(this)&&t.meta.set(this,this._beforeChangeSelection)},this._onStackItemPopped=({stackItem:t})=>{const n=t.meta.get(this);if(n){const s=this.syncConf.fromYRange(n);e.dispatch(e.state.update({selection:s,effects:[H.scrollIntoView(s)]})),this._storeSelection()}},this._storeSelection=()=>{this._beforeChangeSelection=this.syncConf.toYRange(this.view.state.selection.main)},this._undoManager.on("stack-item-added",this._onStackItemAdded),this._undoManager.on("stack-item-popped",this._onStackItemPopped),this._undoManager.addTrackedOrigin(this.syncConf)}update(e){e.selectionSet&&(e.transactions.length===0||e.transactions[0].annotation(H0)!==this.syncConf)&&this._storeSelection()}destroy(){this._undoManager.off("stack-item-added",this._onStackItemAdded),this._undoManager.off("stack-item-popped",this._onStackItemPopped),this._undoManager.removeTrackedOrigin(this.syncConf)}}const SX=rt.fromClass(vX),wX=({state:i,dispatch:e})=>i.facet(Wd).undo()||!0,kX=({state:i,dispatch:e})=>i.facet(Wd).redo()||!0,xX=(i,e,{undoManager:t=new BT(i)}={})=>{const n=new uX(i,e),s=[Gd.of(n),fX];return e&&s.push(dX,OX),t!==!1&&s.push(Wd.of(new bX(t)),SX,H.domEventHandlers({beforeinput(l,o){return l.inputType==="historyUndo"?wX(o):l.inputType==="historyRedo"?kX(o):!1}})),s},OO=3e4;class _X extends MP{constructor(e){super(),this.doc=e,this.clientID=e.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const t=kc();this.getLocalState()!==null&&OO/2<=t-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const n=[];this.meta.forEach((s,l)=>{l!==this.clientID&&OO<=t-s.lastUpdated&&this.states.has(l)&&n.push(l)}),n.length>0&&TX(this,n,"timeout")},mn(OO/10)),e.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(e){const t=this.clientID,n=this.meta.get(t),s=n===void 0?0:n.clock+1,l=this.states.get(t);e===null?this.states.delete(t):this.states.set(t,e),this.meta.set(t,{clock:s,lastUpdated:kc()});const o=[],c=[],h=[],d=[];e===null?d.push(t):l==null?e!=null&&o.push(t):(c.push(t),ua(l,e)||h.push(t)),(o.length>0||h.length>0||d.length>0)&&this.emit("change",[{added:o,updated:h,removed:d},"local"]),this.emit("update",[{added:o,updated:c,removed:d},"local"])}setLocalStateField(e,t){const n=this.getLocalState();n!==null&&this.setLocalState({...n,[e]:t})}getStates(){return this.states}}const TX=(i,e,t)=>{const n=[];for(let s=0;s<e.length;s++){const l=e[s];if(i.states.has(l)){if(i.states.delete(l),l===i.clientID){const o=i.meta.get(l);i.meta.set(l,{clock:o.clock+1,lastUpdated:kc()})}n.push(l)}}n.length>0&&(i.emit("change",[{added:[],updated:[],removed:n},t]),i.emit("update",[{added:[],updated:[],removed:n},t]))},QX=(i,e,t=i.states)=>{const n=e.length,s=Hc();Me(s,n);for(let l=0;l<n;l++){const o=e[l],c=t.get(o)||null,h=i.meta.get(o).clock;Me(s,o),Me(s,h),qr(s,JSON.stringify(c))}return fn(s)},AX=(i,e,t)=>{const n=nl(e),s=kc(),l=[],o=[],c=[],h=[],d=xe(n);for(let p=0;p<d;p++){const m=xe(n);let y=xe(n);const b=JSON.parse(Yr(n)),v=i.meta.get(m),w=i.states.get(m),x=v===void 0?0:v.clock;(x<y||x===y&&b===null&&i.states.has(m))&&(b===null?m===i.clientID&&i.getLocalState()!=null?y++:i.states.delete(m):i.states.set(m,b),i.meta.set(m,{clock:y,lastUpdated:s}),v===void 0&&b!==null?l.push(m):v!==void 0&&b===null?h.push(m):b!==null&&(ua(b,w)||c.push(m),o.push(m)))}(l.length>0||c.length>0||h.length>0)&&i.emit("change",[{added:l,updated:c,removed:h},t]),(l.length>0||o.length>0||h.length>0)&&i.emit("update",[{added:l,updated:o,removed:h},t])};class CX{doc;channel;awareness;_isConnected=!1;_resyncInterval;constructor(e,t,n){this.doc=e,this.awareness=new _X(e),this.channel=t.channel(n),this.channel.on("broadcast",{event:"sync-update"},({payload:s})=>{const l=new Uint8Array(s);U5(e,l,"remote")}).on("broadcast",{event:"awareness-update"},({payload:s})=>{const l=new Uint8Array(s);AX(this.awareness,l,"remote")}).on("broadcast",{event:"request-sync"},()=>{if(this._isConnected){const s=X5(e);this.channel.send({type:"broadcast",event:"sync-update",payload:Array.from(s)})}}).subscribe(s=>{console.log("SYSTEM: Realtime Status:",s),s==="SUBSCRIBED"&&(this._isConnected=!0,this.channel.send({type:"broadcast",event:"request-sync",payload:{}}))}),e.on("update",(s,l)=>{l!=="remote"&&this._isConnected&&this.channel.send({type:"broadcast",event:"sync-update",payload:Array.from(s)})}),this.awareness.on("update",({added:s,updated:l,removed:o})=>{if(!this._isConnected)return;const c=s.concat(l).concat(o),h=QX(this.awareness,c);this.channel.send({type:"broadcast",event:"awareness-update",payload:Array.from(h)})}),this._resyncInterval=setInterval(()=>{this._isConnected&&this.awareness.getStates().size<=1&&this.channel.send({type:"broadcast",event:"request-sync",payload:{}})},5e3)}destroy(){clearInterval(this._resyncInterval),this.channel.unsubscribe(),this.doc.destroy(),this.awareness.destroy()}}var yO,b_;function m$(){if(b_)return yO;b_=1;function i(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return yO=i,yO}var bO,v_;function $X(){if(v_)return bO;v_=1;var i=typeof Ch=="object"&&Ch&&Ch.Object===Object&&Ch;return bO=i,bO}var vO,S_;function O$(){if(S_)return vO;S_=1;var i=$X(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=i||e||Function("return this")();return vO=t,vO}var SO,w_;function EX(){if(w_)return SO;w_=1;var i=O$(),e=function(){return i.Date.now()};return SO=e,SO}var wO,k_;function RX(){if(k_)return wO;k_=1;var i=/\s/;function e(t){for(var n=t.length;n--&&i.test(t.charAt(n)););return n}return wO=e,wO}var kO,x_;function MX(){if(x_)return kO;x_=1;var i=RX(),e=/^\s+/;function t(n){return n&&n.slice(0,i(n)+1).replace(e,"")}return kO=t,kO}var xO,__;function y$(){if(__)return xO;__=1;var i=O$(),e=i.Symbol;return xO=e,xO}var _O,T_;function PX(){if(T_)return _O;T_=1;var i=y$(),e=Object.prototype,t=e.hasOwnProperty,n=e.toString,s=i?i.toStringTag:void 0;function l(o){var c=t.call(o,s),h=o[s];try{o[s]=void 0;var d=!0}catch{}var p=n.call(o);return d&&(c?o[s]=h:delete o[s]),p}return _O=l,_O}var TO,Q_;function DX(){if(Q_)return TO;Q_=1;var i=Object.prototype,e=i.toString;function t(n){return e.call(n)}return TO=t,TO}var QO,A_;function ZX(){if(A_)return QO;A_=1;var i=y$(),e=PX(),t=DX(),n="[object Null]",s="[object Undefined]",l=i?i.toStringTag:void 0;function o(c){return c==null?c===void 0?s:n:l&&l in Object(c)?e(c):t(c)}return QO=o,QO}var AO,C_;function LX(){if(C_)return AO;C_=1;function i(e){return e!=null&&typeof e=="object"}return AO=i,AO}var CO,$_;function zX(){if($_)return CO;$_=1;var i=ZX(),e=LX(),t="[object Symbol]";function n(s){return typeof s=="symbol"||e(s)&&i(s)==t}return CO=n,CO}var $O,E_;function jX(){if(E_)return $O;E_=1;var i=MX(),e=m$(),t=zX(),n=NaN,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,o=/^0o[0-7]+$/i,c=parseInt;function h(d){if(typeof d=="number")return d;if(t(d))return n;if(e(d)){var p=typeof d.valueOf=="function"?d.valueOf():d;d=e(p)?p+"":p}if(typeof d!="string")return d===0?d:+d;d=i(d);var m=l.test(d);return m||o.test(d)?c(d.slice(2),m?2:8):s.test(d)?n:+d}return $O=h,$O}var EO,R_;function UX(){if(R_)return EO;R_=1;var i=m$(),e=EX(),t=jX(),n="Expected a function",s=Math.max,l=Math.min;function o(c,h,d){var p,m,y,b,v,w,x=0,_=!1,E=!1,C=!0;if(typeof c!="function")throw new TypeError(n);h=t(h)||0,i(d)&&(_=!!d.leading,E="maxWait"in d,y=E?s(t(d.maxWait)||0,h):y,C="trailing"in d?!!d.trailing:C);function j(oe){var fe=p,ye=m;return p=m=void 0,x=oe,b=c.apply(ye,fe),b}function B(oe){return x=oe,v=setTimeout(ee,h),_?j(oe):b}function X(oe){var fe=oe-w,ye=oe-x,Z=h-fe;return E?l(Z,y-ye):Z}function z(oe){var fe=oe-w,ye=oe-x;return w===void 0||fe>=h||fe<0||E&&ye>=y}function ee(){var oe=e();if(z(oe))return re(oe);v=setTimeout(ee,X(oe))}function re(oe){return v=void 0,C&&p?j(oe):(p=m=void 0,b)}function $e(){v!==void 0&&clearTimeout(v),x=0,p=w=m=v=void 0}function he(){return v===void 0?b:re(e())}function te(){var oe=e(),fe=z(oe);if(p=arguments,m=this,w=oe,fe){if(v===void 0)return B(w);if(E)return clearTimeout(v),v=setTimeout(ee,h),j(w)}return v===void 0&&(v=setTimeout(ee,h)),b}return te.cancel=$e,te.flush=he,te}return EO=o,EO}var NX=UX();const BX=BE(NX),M_=["#30bced","#6eeb83","#ffbc42","#ecd444","#ee6352"],XX=({documentId:i,supabase:e})=>{const t=hf.useRef(null),[n,s]=hf.useState("Loading...");return hf.useEffect(()=>{const l=new sl,o=new CX(l,e,i),c=l.getText("codemirror"),h=M_[Math.floor(Math.random()*M_.length)];o.awareness.setLocalStateField("user",{name:"User "+Math.floor(Math.random()*100),color:h});const d=BX(y=>{e.from("documents").update({content:y}).eq("id",i).then(()=>console.log("Saved to DB"))},2e3);e.from("documents").select("content").eq("id",i).single().then(({data:y,error:b})=>{if(b){console.error("Error fetching doc:",b),s("Error loading document");return}l.getText("codemirror").toString()===""&&l.transact(()=>{c.insert(0,y?.content||"")}),s("Ready")});const p=Ze.create({doc:c.toString(),extensions:[hB,lX(),xX(c,o.awareness),H.updateListener.of(y=>{y.docChanged&&d(y.state.doc.toString())})]}),m=new H({state:p,parent:t.current});return()=>{m.destroy(),o.destroy(),d.cancel()}},[i,e]),Js.jsxs("div",{children:[Js.jsxs("div",{style:{marginBottom:"10px",color:"#666"},children:["Status: ",n]}),Js.jsx("div",{ref:t,style:{border:"1px solid #ccc",minHeight:"400px",textAlign:"left"}})]})},qX=QP("https://kktvjaujpqejxiqvopwa.supabase.co","sb_publishable_mE97Q9kBgo-eulQGtx3HHw_ur0aFNh4",{realtime:{params:{eventsPerSecond:10}}});function YX(){return Js.jsxs("div",{className:"App",children:[Js.jsx("h1",{children:"Collaborative Code Editor"}),Js.jsx(XX,{documentId:"doc-1",supabase:qX})]})}JE.createRoot(document.getElementById("root")).render(Js.jsx(hf.StrictMode,{children:Js.jsx(YX,{})}));
